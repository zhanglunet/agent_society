## 目标
- 姓名数据源在智能体元数据（org.json）上。
- 创建阶段就生成并写入姓名。
- spawn_agent_with_task 的首条消息追加姓名。
- 获取组织结构与 agents 列表包含姓名。
- 不迁移旧数据：直接废弃 custom-names.json（选项 B）。

## 改动点
### 1) OrgPrimitives：agent 元数据新增 name
- 修改 [org_primitives.js:createAgent](file:///c:/Users/ASUS/Desktop/ai-build-ai/agents/src/platform/core/org_primitives.js#L452-L479)
  - input 支持 `name?: string|null`。
  - agent 结构增加 `name` 字段并持久化到 org.json。
- 新增 `setAgentName(agentId, name)`：用于手动改名 API（写回 org.json）。

### 2) AgentManager：创建前生成 name 并写入 createAgent
- 修改 [agent_manager.js:spawnAgent](file:///c:/Users/ASUS/Desktop/ai-build-ai/agents/src/platform/runtime/agent_manager.js#L73-L162)
  - 先拿到 roleName。
  - 基于 `runtime.org.listAgents()` 构建 existingNames：优先 agent.name，否则 agent.id（只取存活）。
  - 调用 wllama headless `chat(system+user)` 生成不重名人名。
  - 调用 `runtime.org.createAgent({ roleId, parentAgentId, name })`，确保落盘即带姓名。
  - 修正目前“await 但不阻塞”的问题：命名链路真正 await 完成再继续。

### 3) ToolExecutor：首条初始消息追加姓名
- 修改 [tool_executor.js:_executeSpawnAgentWithTask](file:///c:/Users/ASUS/Desktop/ai-build-ai/agents/src/platform/runtime/tool_executor.js#L638-L713)
  - `spawnAgentAs` 返回后，从 `runtime.org.getAgent(newAgentId).name` 取姓名。
  - 若 `messagePayload.text` 为字符串：追加 `\n\n【你的姓名】${name}`。

### 4) HTTPServer：不再使用 custom-names.json
- 修改 [http_server.js:_handleGetAgents](file:///c:/Users/ASUS/Desktop/ai-build-ai/agents/src/platform/services/http/http_server.js#L1492-L1563)
  - `customName` 来源改为 org agent.name。
- 修改 [http_server.js:_handleGetOrgTree](file:///c:/Users/ASUS/Desktop/ai-build-ai/agents/src/platform/services/http/http_server.js#L2065-L2127)
  - 节点增加 `customName: agent.name`。
- 修改 `POST /api/agent/:agentId/custom-name`：改为调用 `runtime.org.setAgentName(...)`。
- 修改 `GET /api/agent-custom-names`：改为从 org.listAgents 汇总返回。

## 测试（最小）
- org_primitives：createAgent 带 name / setAgentName 持久化。
- agent_manager：stub localLlmChat，断言创建后 `org.getAgent(id).name` 立即存在。
- tool_executor：断言首条消息 text 被追加姓名。
- http_server：/api/agents 与 /api/org/tree 返回包含 customName（来自 org agent.name）。