bun test v1.2.1 (ce532901)
bun.exe : 
所在位置 C:\Program Files\nodejs\bun.ps1:14 字符: 3
+   & "$basedir/node_modules/bun/bin/bun.exe"   $args
+   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
test\artifact-list.test.js:
(pass) 宸ヤ欢鍒楄〃缁勪欢 > 搴旇姝ｇ‘娓叉煋宸ヤ欢鍒楄〃
(pass) 宸ヤ欢鍒楄〃缁勪欢 > 搴旇姝ｇ‘澶勭悊宸ヤ欢閫夋嫨
(pass) 宸ヤ欢鍒楄〃缁勪欢 > 搴旇姝ｇ‘鏄剧ず宸ヤ欢鍏冩暟鎹?
test\artifact-manager.test.js:
(pass) 宸ヤ欢绠＄悊鍣ㄥ睘鎬ф祴璇?> 灞炴€?锛氬伐浠跺垪琛ㄥ畬鏁存€?- 鏄剧ず鐨勫伐浠跺簲璇ヤ笌婧愬伐浠跺垪琛ㄥ畬鍏ㄧ浉鍚?[110.00ms]
160 |     return error;
161 | }
162 | function throwIfFailed(out) {
163 |     if (!out.failed)
164 |         return;
165 |     throw buildError(defaultReportMessage(out), out);
                                                         ^
error: Property failed after 1 tests
{ seed: 1607825251, path: "0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0", endOnFailure: true }
Counterexample: [[{"id":"00000000-0000-1000-8000-000000000000","filename":"artifact.json","
size":100,"extension":"json","createdAt":"1970-01-01T00:00:00.000Z","content":{},"messageId
":null}]]
Shrunk 15 time(s)

Hint: Enable verbose mode in order to have the list of all failing values encountered durin
g the run
      at throwIfFailed (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\li
b\check\runner\utils\RunDetailsFormatter.js:165:52)
      at assert (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\lib\check
\runner\Runner.js:61:9)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\artifact-manager.test.j
s:81:8)
(fail) 宸ヤ欢绠＄悊鍣ㄥ睘鎬ф祴璇?> 灞炴€?锛氳繃婊ょ粨鏋滀竴鑷存€?- 杩囨护鍚庣殑宸ヤ欢搴旇閮藉尮閰嶉€夊畾鐨勬墿灞曞悕 [15.00ms]
(pass) 宸ヤ欢绠＄悊鍣ㄥ睘鎬ф祴璇?> 灞炴€?锛氳繃婊ゆ竻闄ゅ線杩?- 娓呴櫎杩囨护鍚庡簲璇ヨ繑鍥炲埌鍘熷鍒楄〃 [47.00ms]
160 |     return error;
161 | }
162 | function throwIfFailed(out) {
163 |     if (!out.failed)
164 |         return;
165 |     throw buildError(defaultReportMessage(out), out);
                                                         ^
error: Property failed after 1 tests
{ seed: 764936523, path: "0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0", endOnFailure: true }
Counterexample: [[{"id":"00000000-0000-1000-8000-000000000000","filename":"artifact.json","
size":100,"extension":"json","createdAt":"1970-01-01T00:00:00.000Z","content":{},"messageId
":null}]]
Shrunk 15 time(s)

Hint: Enable verbose mode in order to have the list of all failing values encountered durin
g the run
      at throwIfFailed (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\li
b\check\runner\utils\RunDetailsFormatter.js:165:52)
      at assert (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\lib\check
\runner\Runner.js:61:9)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\artifact-manager.test.j
s:133:8)
(fail) 宸ヤ欢绠＄悊鍣ㄥ睘鎬ф祴璇?> 灞炴€?锛氭悳绱㈢粨鏋滀竴鑷存€?- 鎼滅储缁撴灉搴旇閮藉寘鍚煡璇㈠瓧绗︿覆 [16.00ms]
160 |     return error;
161 | }
162 | function throwIfFailed(out) {
163 |     if (!out.failed)
164 |         return;
165 |     throw buildError(defaultReportMessage(out), out);
                                                         ^
error: Property failed after 1 tests
{ seed: 440357513, path: "0:0:0:0:0:0:0:0:0:0:0:0:0:0", endOnFailure: true }
Counterexample: [[{"id":"00000000-0000-1000-8000-000000000000","filename":"artifact.json","
size":100,"extension":"json","createdAt":"1970-01-01T00:00:00.000Z","content":{},"messageId
":null}]]
Shrunk 13 time(s)

Hint: Enable verbose mode in order to have the list of all failing values encountered durin
g the run
      at throwIfFailed (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\li
b\check\runner\utils\RunDetailsFormatter.js:165:52)
      at assert (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\lib\check
\runner\Runner.js:61:9)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\artifact-manager.test.j
s:154:8)
(fail) 宸ヤ欢绠＄悊鍣ㄥ睘鎬ф祴璇?> 灞炴€?锛氭悳绱㈡竻闄ゅ線杩?- 娓呴櫎鎼滅储鍚庡簲璇ヨ繑鍥炲埌鍘熷鍒楄〃
160 |     return error;
161 | }
162 | function throwIfFailed(out) {
163 |     if (!out.failed)
164 |         return;
165 |     throw buildError(defaultReportMessage(out), out);
                                                         ^
error: Property failed after 1 tests
{ seed: 599608731, path: "0:0:0:0:0:0:0:0:0:0:0:0:0:0", endOnFailure: true }
Counterexample: [[{"id":"00000000-0000-1000-8000-000000000000","filename":"artifact.json","
size":100,"extension":"json","createdAt":"1970-01-01T00:00:00.000Z","content":{},"messageId
":null}]]
Shrunk 13 time(s)

Hint: Enable verbose mode in order to have the list of all failing values encountered durin
g the run
      at throwIfFailed (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\li
b\check\runner\utils\RunDetailsFormatter.js:165:52)
      at assert (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\lib\check
\runner\Runner.js:61:9)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\artifact-manager.test.j
s:178:8)
(fail) 宸ヤ欢绠＄悊鍣ㄥ睘鎬ф祴璇?> 灞炴€?锛氭悳绱㈢粨鏋滈珮浜?- 鍖归厤鐨勬煡璇㈠瓧绗︿覆搴旇鍦ㄧ粨鏋滀腑
(pass) 宸ヤ欢绠＄悊鍣ㄥ睘鎬ф祴璇?> 灞炴€?3锛氭煡鐪嬪櫒閫夋嫨姝ｇ‘鎬?- 鏍规嵁鎵╁睍鍚嶉€夋嫨鐨勬煡鐪嬪櫒搴旇姝ｇ‘
160 |     return error;
161 | }
162 | function throwIfFailed(out) {
163 |     if (!out.failed)
164 |         return;
165 |     throw buildError(defaultReportMessage(out), out);
                                                         ^
error: Property failed after 1 tests
{ seed: 1601867271, path: "0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0", endOnFailure: tr
ue }
Counterexample: [[{"id":"00000000-0000-1000-8000-000000000000","filename":"artifact.json","
size":100,"extension":"json","createdAt":"1970-01-01T00:00:00.000Z","content":{},"messageId
":null}],"!"]
Shrunk 22 time(s)

Hint: Enable verbose mode in order to have the list of all failing values encountered durin
g the run
      at throwIfFailed (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\li
b\check\runner\utils\RunDetailsFormatter.js:165:52)
      at assert (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\lib\check
\runner\Runner.js:61:9)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\artifact-manager.test.j
s:241:8)
(fail) 宸ヤ欢绠＄悊鍣ㄥ睘鎬ф祴璇?> 灞炴€?1锛氳繃婊ゅ拰鎼滅储缁勫悎 - 鍚屾椂搴旂敤鎼滅储鍜岃繃婊ゅ簲璇ユ弧瓒充袱涓潯浠?
test\binary_detector.test.js:
(pass) BinaryDetector > Property Tests > Property 1: MIME type classification should be con
sistent and prioritized [16.00ms]
(pass) BinaryDetector > Property Tests > Property 2: Content analysis should correctly clas
sify binary and text content [15.00ms]
(pass) BinaryDetector > Property Tests > Content analysis should be deterministic [16.00ms]
(pass) BinaryDetector > Property Tests > Property 5: Extension classification should be com
prehensive and accurate
(pass) BinaryDetector > Property Tests > Extension analysis should handle various formats c
orrectly
(pass) BinaryDetector > Property Tests > Property 3: Fallback chain should work correctly
(pass) BinaryDetector > Property Tests > Property 4: Safe default behavior should activate 
when needed [16.00ms]
(pass) BinaryDetector > Property Tests > Property 9: Performance should be consistent and w
ithin limits
(pass) BinaryDetector > Property Tests > Property 10: Caching should work correctly
(pass) BinaryDetector > Property Tests > MIME type analysis should be deterministic
(pass) BinaryDetector > Property Tests > MIME type analysis should be case insensitive
(pass) BinaryDetector > Unit Tests for MIME Type Analysis > should correctly classify known
 binary MIME types
(pass) BinaryDetector > Unit Tests for MIME Type Analysis > should correctly classify known
 text MIME types
(pass) BinaryDetector > Unit Tests for MIME Type Analysis > should handle ambiguous MIME ty
pes
(pass) BinaryDetector > Unit Tests for MIME Type Analysis > should handle invalid MIME type
s
(pass) BinaryDetector > Unit Tests for MIME Type Analysis > should handle unknown MIME type
s
(pass) BinaryDetector > Unit Tests for Specific MIME Types (Task 10.1) > should classify im
age MIME types as binary
(pass) BinaryDetector > Unit Tests for Specific MIME Types (Task 10.1) > should classify vi
deo MIME types as binary
(pass) BinaryDetector > Unit Tests for Specific MIME Types (Task 10.1) > should classify au
dio MIME types as binary
(pass) BinaryDetector > Unit Tests for Specific MIME Types (Task 10.1) > should classify fo
nt MIME types as binary
(pass) BinaryDetector > Unit Tests for Specific MIME Types (Task 10.1) > should classify ap
plication/pdf as binary
(pass) BinaryDetector > Unit Tests for Specific MIME Types (Task 10.1) > should classify ar
chive MIME types as binary
(pass) BinaryDetector > Unit Tests for Specific MIME Types (Task 10.1) > should classify Of
fice document MIME types as binary
(pass) BinaryDetector > Unit Tests for Specific MIME Types (Task 10.1) > should classify te
xt/* MIME types as text
(pass) BinaryDetector > Unit Tests for Specific MIME Types (Task 10.1) > should classify ap
plication/json as text
(pass) BinaryDetector > Unit Tests for Specific MIME Types (Task 10.1) > should classify ap
plication/xml as text
(pass) BinaryDetector > Unit Tests for Specific MIME Types (Task 10.1) > should classify ap
plication/javascript as text
(pass) BinaryDetector > Unit Tests for Specific MIME Types (Task 10.1) > should classify ap
plication/octet-stream as ambiguous
(pass) BinaryDetector > Unit Tests for Specific MIME Types (Task 10.1) > should handle MIME
 types with parameters
(pass) BinaryDetector > Unit Tests for Content Analysis Edge Cases (Task 10.2) > should cla
ssify files with null bytes as binary
(pass) BinaryDetector > Unit Tests for Content Analysis Edge Cases (Task 10.2) > should cla
ssify files with high non-printable ratio as binary
(pass) BinaryDetector > Unit Tests for Content Analysis Edge Cases (Task 10.2) > should cla
ssify empty files as ambiguous
(pass) BinaryDetector > Unit Tests for Content Analysis Edge Cases (Task 10.2) > should cla
ssify very small files correctly
(pass) BinaryDetector > Unit Tests for Content Analysis Edge Cases (Task 10.2) > should cla
ssify pure ASCII text as text
(pass) BinaryDetector > Unit Tests for Content Analysis Edge Cases (Task 10.2) > should cla
ssify UTF-8 text with special characters as text or binary
(pass) BinaryDetector > Unit Tests for Content Analysis Edge Cases (Task 10.2) > should cla
ssify JSON content as text
(pass) BinaryDetector > Unit Tests for Content Analysis Edge Cases (Task 10.2) > should cla
ssify JavaScript code as text
(pass) BinaryDetector > Unit Tests for Content Analysis Edge Cases (Task 10.2) > should cla
ssify HTML content as text
(pass) BinaryDetector > Unit Tests for Content Analysis Edge Cases (Task 10.2) > should cla
ssify content with tabs and newlines as text
(pass) BinaryDetector > Unit Tests for Content Analysis Edge Cases (Task 10.2) > should han
dle PNG magic bytes
(pass) BinaryDetector > Unit Tests for Content Analysis Edge Cases (Task 10.2) > should han
dle JPEG magic bytes
(pass) BinaryDetector > Unit Tests for Content Analysis Edge Cases (Task 10.2) > should han
dle PDF magic bytes
(pass) BinaryDetector > Unit Tests for Content Analysis Edge Cases (Task 10.2) > should han
dle ZIP magic bytes
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should classify co
mmon image extensions as binary
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should classify do
cument extensions as binary
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should classify ar
chive extensions as binary
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should classify me
dia extensions as binary
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should classify ex
ecutable extensions as binary
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should classify fo
nt extensions as binary
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should classify da
tabase extensions as binary
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should classify pr
ogramming language extensions as text
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should classify ma
rkup extensions as text
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should classify do
cumentation extensions as text
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should classify sc
ript extensions as text
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should classify st
yle extensions as text
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should classify co
nfig extensions as text
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should classify un
known/made-up extensions as ambiguous
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should handle file
s without extensions
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should handle exte
nsions without leading dot
(pass) BinaryDetector > Unit Tests for Extension Detection (Task 10.3) > should be case ins
ensitive for extensions
(pass) BinaryDetector Performance and Integration Tests > Performance Benchmarks (Task 11.1
) > should detect small files (< 1KB) within 10ms
(pass) BinaryDetector Performance and Integration Tests > Performance Benchmarks (Task 11.1
) > should detect medium files (1KB - 100KB) within 20ms
(pass) BinaryDetector Performance and Integration Tests > Performance Benchmarks (Task 11.1
) > should detect large files (100KB - 1MB) within 50ms [15.00ms]
(pass) BinaryDetector Performance and Integration Tests > Performance Benchmarks (Task 11.1
) > should handle very large files (> 1MB) without memory issues
(pass) BinaryDetector Performance and Integration Tests > Performance Benchmarks (Task 11.1
) > caching should improve performance for repeated detections
(pass) BinaryDetector Performance and Integration Tests > Performance Benchmarks (Task 11.1
) > cache should evict old entries when full
(pass) BinaryDetector Performance and Integration Tests > Performance Benchmarks (Task 11.1
) > should track detection statistics correctly
(pass) BinaryDetector Performance and Integration Tests > Integration Tests with ArtifactSt
ore (Task 11.2) > should correctly detect binary content in stored artifacts [31.00ms]
(pass) BinaryDetector Performance and Integration Tests > Integration Tests with ArtifactSt
ore (Task 11.2) > should handle artifact storage and retrieval round-trip [47.00ms]
(pass) BinaryDetector Performance and Integration Tests > Integration Tests with ArtifactSt
ore (Task 11.2) > should maintain backward compatibility with existing artifact references 
[16.00ms]
(pass) BinaryDetector Performance and Integration Tests > Integration Tests with ArtifactSt
ore (Task 11.2) > should handle uploaded files with binary detection [15.00ms]
(pass) BinaryDetector Performance and Integration Tests > Integration Tests with ArtifactSt
ore (Task 11.2) > should infer MIME type from extension when not provided
(pass) BinaryDetector Performance and Integration Tests > Integration Tests with ArtifactSt
ore (Task 11.2) > should handle image files correctly

test\e2e.test.js:
(pass) 绔埌绔祴璇?- 闇€姹傛彁浜ゅ埌浠诲姟瀹屾垚鐨勫畬鏁存祦绋?> 搴旀垚鍔熸彁浜ら渶姹傚苟鐢熸垚浠诲姟ID
(pass) 绔埌绔祴璇?- 闇€姹傛彁浜ゅ埌浠诲姟瀹屾垚鐨勫畬鏁存祦绋?> 搴旀垚鍔熸彁浜ら渶姹傚苟缁戝畾宸ヤ綔绌洪棿
(pass) 绔埌绔祴璇?- 闇€姹傛彁浜ゅ埌浠诲姟瀹屾垚鐨勫畬鏁存祦绋?> 搴旀嫆缁濈粦瀹氫笉瀛樺湪鐨勫伐浣滅┖闂?(pass) 绔埌绔祴璇?- 闇€姹傛彁浜ゅ埌浠诲姟瀹屾
垚鐨勫畬鏁存祦绋?> 搴旀垚鍔熷彂閫佹秷鎭埌鏍规櫤鑳戒綋
(pass) 绔埌绔祴璇?- 闇€姹傛彁浜ゅ埌浠诲姟瀹屾垚鐨勫畬鏁存祦绋?> 搴旀嫆缁濆彂閫佹秷鎭埌鐢ㄦ埛绔偣
(pass) 绔埌绔祴璇?- 闇€姹傛彁浜ゅ埌浠诲姟瀹屾垚鐨勫畬鏁存祦绋?> 搴旀嫆缁濆彂閫佹秷鎭埌绌烘櫤鑳戒綋ID
[user] from=root taskId=test-task
(pass) 绔埌绔祴璇?- 闇€姹傛彁浜ゅ埌浠诲姟瀹屾垚鐨勫畬鏁存祦绋?> 搴旀垚鍔熸帴鏀舵櫤鑳戒綋鍙戦€佺粰鐢ㄦ埛鐨勬秷鎭?[110.00ms]
鏉ヨ嚜鏍规櫤鑳戒綋鐨勬秷鎭?[user] from=test-agent taskId=test-task-123
鐗瑰畾娑堟伅
(pass) 绔埌绔祴璇?- 闇€姹傛彁浜ゅ埌浠诲姟瀹屾垚鐨勫畬鏁存祦绋?> 搴旀敮鎸佺瓑寰呮弧瓒虫潯浠剁殑鐢ㄦ埛娑堟伅 [62.00ms]
(pass) 绔埌绔祴璇?- 闇€姹傛彁浜ゅ埌浠诲姟瀹屾垚鐨勫畬鏁存祦绋?> 搴斿湪瓒呮椂鍚庤繑鍥瀗ull [109.00ms]
(pass) 绔埌绔祴璇?- 澶氭櫤鑳戒綋鍗忎綔鍦烘櫙 > 搴旀敮鎸佸垱寤哄涓櫤鑳戒綋 [16.00ms]
(pass) 绔埌绔祴璇?- 澶氭櫤鑳戒綋鍗忎綔鍦烘櫙 > 搴旀敮鎸佹櫤鑳戒綋闂存秷鎭紶閫?[31.00ms]
(pass) 绔埌绔祴璇?- 澶氭櫤鑳戒綋鍗忎綔鍦烘櫙 > 搴旀敮鎸佺埗瀛愭櫤鑳戒綋鍏崇郴 [16.00ms]
(pass) 绔埌绔祴璇?- 澶氭櫤鑳戒綋鍗忎綔鍦烘櫙 > 搴旀敮鎸佹櫤鑳戒綋鍒涘缓宸ヤ欢 [31.00ms]
(pass) 绔埌绔祴璇?- 澶氭櫤鑳戒綋鍗忎綔鍦烘櫙 > 搴旀敮鎸佹櫤鑳戒綋闂村叡浜伐浠?[32.00ms]
(pass) 绔埌绔祴璇?- 澶氭櫤鑳戒綋鍗忎綔鍦烘櫙 > 搴旀敮鎸佸灞傜骇鏅鸿兘浣撶粍缁?[47.00ms]
(pass) 绔埌绔祴璇?- 澶氭櫤鑳戒綋鍗忎綔鍦烘櫙 > 搴旀敮鎸佹櫤鑳戒綋鍗忎綔瀹屾垚浠诲姟 [16.00ms]
(pass) 绔埌绔祴璇?- 绯荤粺鐢熷懡鍛ㄦ湡绠＄悊 > 搴旀垚鍔熷垵濮嬪寲绯荤粺
(pass) 绔埌绔祴璇?- 绯荤粺鐢熷懡鍛ㄦ湡绠＄悊 > 搴旀垚鍔熷叧闂郴缁?[609.00ms]
(pass) 绔埌绔祴璇?- 绯荤粺鐢熷懡鍛ㄦ湡绠＄悊 > 搴斿湪鍏抽棴鏃舵竻鐞嗚祫婧?[625.00ms]
(pass) 绔埌绔祴璇?- 绯荤粺鐢熷懡鍛ㄦ湡绠＄悊 > 搴旀敮鎸佹鏌ュ叧闂姸鎬?[781.00ms]
(pass) 绔埌绔祴璇?- HTTP鏈嶅姟鍣ㄩ泦鎴?> 搴旀敮鎸佺鐢℉TTP鏈嶅姟鍣?[812.00ms]
(pass) 绔埌绔祴璇?- HTTP鏈嶅姟鍣ㄩ泦鎴?> 搴旀敮鎸佸惎鐢℉TTP鏈嶅姟鍣?[1219.00ms]

test\packaging.test.js:
(pass) One-Click Packaging - Unit Tests > Script Files Existence > pack.cmd should exist in
 scripts/win directory
25 |       expect(existsSync(packCmdPath)).toBe(true);
26 |     });
27 | 
28 |     test("pack.ps1 should exist in scripts/win directory", () => {
29 |       const packPs1Path = path.join(PROJECT_ROOT, "scripts", "win", "pack.ps1");
30 |       expect(existsSync(packPs1Path)).toBe(true);
                                           ^
error: expect(received).toBe(expected)

Expected: true
Received: false

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\packaging.test.js:30:39
)
(fail) One-Click Packaging - Unit Tests > Script Files Existence > pack.ps1 should exist in
 scripts/win directory
36 | 
37 |       const content = readFileSync(startCmdPath, "utf-8");
38 | 
39 |       // 妫€鏌ユ湰鍦?bun 妫€娴嬮€昏緫锛堟柊璺緞 runtime\bun\bin\bun.exe锛?40 |       expect(content).
toContain("runtime\\bun\\bin\\bun.exe");
41 |       expect(content).toContain("LOCAL_BUN");
                           ^
error: expect(received).toContain(expected)

Expected to contain: "LOCAL_BUN"
Received: "@echo off\r\nREM Agent Society 鏈嶅姟鍣ㄥ惎鍔ㄨ剼鏈?(Windows)\r\nREM\r\nREM 鐢ㄦ硶:\r\nREM   
start.cmd [鏁版嵁鐩綍] [閫夐」]\r\nREM\r\nREM 閫夐」:\r\nREM   --port, -p <绔彛>  HTTP 鏈嶅姟鍣ㄧ鍙?(榛樿: 3
000)\r\nREM   --no-browser       涓嶈嚜鍔ㄦ墦寮€娴忚鍣╘r\nREM\r\nREM 绀轰緥:\r\nREM   start.cmd        
                   # 浣跨敤榛樿閰嶇疆\r\nREM   start.cmd ./my-data                 # 鑷畾涔夋暟鎹洰褰昞r\
nREM   start.cmd --port 3001               # 鑷畾涔夌鍙r\nREM   start.cmd ./my-data -p 3001 -
-no-browser\r\n\r\nREM 鍒囨崲鍒拌剼鏈墍鍦ㄧ洰褰昞r\ncd /d \"%~dp0\"\r\n\r\necho.\r\necho ==============
==============================================\r\necho           Agent Society 鍚姩鑴氭湰\r\nec
ho ============================================================\r\necho.\r\n\r\nREM =======
=====================================================\r\nREM 姝ラ 0: 妫€鏌ユ槸鍚﹂渶瑕佹洿鏂颁唬鐮乗r\nREM 
============================================================\r\nif exist \".git\" (\r\n    
echo [0/3] 灏濊瘯鏇存柊浠ｇ爜...\r\n    git pull 2>nul || echo      git pull 璺宠繃锛堝彲鑳芥湭瀹夎 git 鎴栫綉缁滈棶
棰橈級\r\n    echo.\r\n) else (\r\n    echo [0/3] 璺宠繃浠ｇ爜鏇存柊锛堝垎鍙戝寘妯″紡锛塡r\n    echo.\r\n)\r\n\r\
nREM ============================================================\r\nREM 姝ラ 1: 妫€娴?bun 杩愯
鏃禱r\nREM ============================================================\r\necho [1/3] 妫€娴?bun
 杩愯鏃?..\r\n\r\nREM 棣栧厛妫€鏌ユ湰鍦?runtime 鐩綍锛堝垎鍙戝寘妯″紡锛塡r\nif exist \"%~dp0runtime\\bun\\bin\\b
un.exe\" (\r\n    echo      浣跨敤鏈湴 bun: %~dp0runtime\\bun\\bin\\bun.exe\r\n    set \"BUN_CM
D=%~dp0runtime\\bun\\bin\\bun.exe\"\r\n    goto :install_deps\r\n)\r\n\r\nREM 妫€鏌ョ郴缁?PATH 涓
殑 bun\r\nwhere bun >nul 2>nul\r\nif %ERRORLEVEL% EQU 0 (\r\n    echo      浣跨敤绯荤粺 bun\r\n  
  set \"BUN_CMD=bun\"\r\n    goto :install_deps\r\n)\r\n\r\nREM bun 鏈畨瑁咃紝璇㈤棶鐢ㄦ埛鏄惁瀹夎\r\ne
cho      bun 鏈畨瑁匼r\necho.\r\necho bun 鏄湰椤圭洰鎵€闇€鐨?JavaScript 杩愯鏃躲€俓r\necho 鏄惁鑷姩瀹夎 bun?
 (瀹夎鏉ユ簮: https://bun.sh)\r\necho.\r\nset /p INSTALL_BUN=\"璇疯緭鍏?Y 瀹夎锛孨 閫€鍑?[Y/N]: \"\r\n\r
\nif /i \"%INSTALL_BUN%\"==\"Y\" goto :install_bun\r\nif /i \"%INSTALL_BUN%\"==\"y\" goto :
install_bun\r\n\r\nREM 鐢ㄦ埛鎷掔粷瀹夎\r\necho.\r\necho 鎮ㄩ€夋嫨涓嶅畨瑁?bun銆俓r\necho 璇锋墜鍔ㄥ畨瑁?bun 鍚庨噸鏂拌繍
琛屾鑴氭湰銆俓r\necho 瀹夎鎸囧崡: https://bun.sh\r\nexit /b 0\r\n\r\n:install_bun\r\nREM 瀹夎 bun\r\ne
cho.\r\necho [1/3] 姝ｅ湪瀹夎 bun...\r\necho      鎵ц: powershell -c \"irm bun.sh/install.ps1 |
 iex\"\r\necho.\r\npowershell -c \"irm bun.sh/install.ps1 | iex\"\r\n\r\nif %ERRORLEVEL% NE
Q 0 (\r\n    echo.\r\n    echo 閿欒: bun 瀹夎澶辫触\r\n    echo 瑙ｅ喅鏂规: 璇锋墜鍔ㄥ畨瑁?bun\r\n    echo 
瀹夎鎸囧崡: https://bun.sh\r\n    exit /b 1\r\n)\r\n\r\nREM 鍒锋柊 PATH 鐜鍙橀噺锛堜粠娉ㄥ唽琛ㄨ鍙栫敤鎴?PATH锛塡
r\necho.\r\necho      鍒锋柊鐜鍙橀噺...\r\nfor /f \"tokens=2*\" %%a in ('reg query \"HKCU\\Envir
onment\" /v Path 2^>nul') do set \"USER_PATH=%%b\"\r\nset \"PATH=%USER_PATH%;%PATH%\"\r\n\r
\nREM 楠岃瘉 bun 瀹夎\r\nwhere bun >nul 2>nul\r\nif %ERRORLEVEL% NEQ 0 (\r\n    echo.\r\n    ec
ho 閿欒: bun 瀹夎鍚庢棤娉曟壘鍒癨r\n    echo 瑙ｅ喅鏂规: 璇峰叧闂绐楀彛锛岄噸鏂版墦寮€鍛戒护琛屽悗鍐嶈繍琛屾鑴氭湰\r\n    echo 鎴栨墜
鍔ㄥ畨瑁?bun: https://bun.sh\r\n    exit /b 1\r\n)\r\necho      bun 瀹夎鎴愬姛\r\nset \"BUN_CMD=bun
\"\r\n\r\n:install_deps\r\nREM 瀹夎渚濊禆\r\necho.\r\necho [2/3] 瀹夎椤圭洰渚濊禆...\r\necho      鎵ц:
 bun install\r\necho.\r\ncall %BUN_CMD% install\r\n\r\nif %ERRORLEVEL% NEQ 0 (\r\n    echo.
\r\n    echo 閿欒: 渚濊禆瀹夎澶辫触\r\n    echo 瑙ｅ喅鏂规: 璇锋鏌ョ綉缁滆繛鎺ワ紝鎴栨鏌?package.json 鏄惁姝ｇ‘\r\n   
 exit /b 1\r\n)\r\n\r\nREM 鍚姩鏈嶅姟鍣╘r\necho.\r\necho [3/3] 鍚姩鏈嶅姟鍣?..\r\necho.\r\ncall %BUN_
CMD% run start.js %*\r\n"

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\packaging.test.js:41:23
)
(fail) One-Click Packaging - Unit Tests > Script Files Existence > start.cmd should contain
 local bun detection logic
(pass) One-Click Packaging - Unit Tests > Script Files Existence > start.cmd should display
 which bun is being used
(pass) One-Click Packaging - Unit Tests > Pack Script Content Validation > pack.cmd should 
have proper exclusion patterns
68 |       expect(content).toContain("node_modules");
69 |     });
70 | 
71 |     test("pack.ps1 should have proper exclusion patterns", () => {
72 |       const packPs1Path = path.join(PROJECT_ROOT, "scripts", "win", "pack.ps1");
73 |       const content = readFileSync(packPs1Path, "utf-8");
                           ^
error: ENOENT: no such file or directory, open 'C:\Users\ASUS\Desktop\ai-build-ai\agents\sc
ripts\win\pack.ps1'
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\packaging.test.js:73:23
)
(fail) One-Click Packaging - Unit Tests > Pack Script Content Validation > pack.ps1 should 
have proper exclusion patterns
83 |     test("pack scripts should copy bun to runtime directory", () => {
84 |       const packCmdPath = path.join(PROJECT_ROOT, "scripts", "win", "pack.cmd");
85 |       const packPs1Path = path.join(PROJECT_ROOT, "scripts", "win", "pack.ps1");
86 | 
87 |       const cmdContent = readFileSync(packCmdPath, "utf-8");
88 |       const ps1Content = readFileSync(packPs1Path, "utf-8");
                              ^
error: ENOENT: no such file or directory, open 'C:\Users\ASUS\Desktop\ai-build-ai\agents\sc
ripts\win\pack.ps1'
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\packaging.test.js:88:26
)
(fail) One-Click Packaging - Unit Tests > Pack Script Content Validation > pack scripts sho
uld copy bun to runtime directory
(pass) One-Click Packaging - Property Tests > Property 1: File Inclusion/Exclusion Consiste
ncy > excluded directories should not be in copy commands
(pass) One-Click Packaging - Property Tests > Property 1: File Inclusion/Exclusion Consiste
ncy > included directories should be in copy commands
(pass) One-Click Packaging - Property Tests > Property 1: File Inclusion/Exclusion Consiste
ncy > included files should be in copy commands
(pass) One-Click Packaging - Property Tests > Property 1: File Inclusion/Exclusion Consiste
ncy > property: any file matching exclusion pattern should be excluded [16.00ms]
(pass) One-Click Packaging - Property Tests > Property 3: Custom Output Filename > pack.cmd
 should use provided filename for output [16.00ms]
195 |       expect(content).toContain(".zip");
196 |     });
197 | 
198 |     test("pack.ps1 should use provided filename for output", () => {
199 |       const packPs1Path = path.join(PROJECT_ROOT, "scripts", "win", "pack.ps1");
200 |       const content = readFileSync(packPs1Path, "utf-8");
                            ^
error: ENOENT: no such file or directory, open 'C:\Users\ASUS\Desktop\ai-build-ai\agents\sc
ripts\win\pack.ps1'
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\packaging.test.js:200:2
3)
(fail) One-Click Packaging - Property Tests > Property 3: Custom Output Filename > pack.ps1
 should use provided filename for output
(pass) One-Click Packaging - Property Tests > Property 3: Custom Output Filename > property
: output filename should match input parameter pattern
(pass) One-Click Packaging - Property Tests > Property 3: Custom Output Filename > default 
filename should follow timestamp pattern
(pass) One-Click Packaging - Property Tests > Property 4: Error Exit Code > pack.cmd should
 exit with code 1 on bun not found
(pass) One-Click Packaging - Property Tests > Property 4: Error Exit Code > pack.cmd should
 exit with code 1 on missing directories
(pass) One-Click Packaging - Property Tests > Property 4: Error Exit Code > pack.cmd should
 exit with code 1 on zip creation failure
264 |       expect(content).toMatch(/exit\s*\/b\s*1/i);
265 |     });
266 | 
267 |     test("pack.ps1 should exit with code 1 on errors", () => {
268 |       const packPs1Path = path.join(PROJECT_ROOT, "scripts", "win", "pack.ps1");
269 |       const content = readFileSync(packPs1Path, "utf-8");
                            ^
error: ENOENT: no such file or directory, open 'C:\Users\ASUS\Desktop\ai-build-ai\agents\sc
ripts\win\pack.ps1'
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\packaging.test.js:269:2
3)
(fail) One-Click Packaging - Property Tests > Property 4: Error Exit Code > pack.ps1 should
 exit with code 1 on errors
(pass) One-Click Packaging - Property Tests > Property 4: Error Exit Code > property: all e
rror paths should have non-zero exit [15.00ms]
(pass) One-Click Packaging - Property Tests > Property 4: Error Exit Code > pack.cmd should
 exit with code 0 on success
302 |       expect(content).toMatch(/exit\s*\/b\s*0/i);
303 |     });
304 | 
305 |     test("pack.ps1 should exit with code 0 on success", () => {
306 |       const packPs1Path = path.join(PROJECT_ROOT, "scripts", "win", "pack.ps1");
307 |       const content = readFileSync(packPs1Path, "utf-8");
                            ^
error: ENOENT: no such file or directory, open 'C:\Users\ASUS\Desktop\ai-build-ai\agents\sc
ripts\win\pack.ps1'
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\packaging.test.js:307:2
3)
(fail) One-Click Packaging - Property Tests > Property 4: Error Exit Code > pack.ps1 should
 exit with code 0 on success

test\start.test.js:
(pass) start.js > Property 1: 鍙傛暟瑙ｆ瀽姝ｇ‘鎬?> should use default dataDir when no arguments pro
vided
(pass) start.js > Property 1: 鍙傛暟瑙ｆ瀽姝ｇ‘鎬?> should correctly parse positional argument as da
taDir [16.00ms]
(pass) start.js > Property 1: 鍙傛暟瑙ｆ瀽姝ｇ‘鎬?> should handle dataDir with other arguments
(pass) start.js > Property 1: 鍙傛暟瑙ｆ瀽姝ｇ‘鎬?> should handle dataDir after other arguments
54 |    * Validates: Requirements 4.2
55 |    */
56 |   describe("Property 2: 绔彛鍙傛暟瑙ｆ瀽姝ｇ‘鎬?, () => {
57 |     it("should use default port when no port argument provided", () => {
58 |       const result = parseArgs([]);
59 |       expect(result.port).toBe(3000);
                               ^
error: expect(received).toBe(expected)

Expected: 3000
Received: null

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\start.test.js:59:27)
(fail) start.js > Property 2: 绔彛鍙傛暟瑙ｆ瀽姝ｇ‘鎬?> should use default port when no port argument
 provided
鈺斺晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晽
鈺?          Agent Society Server                             鈺?鈺氣晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨晲鈺愨暆

鏁版嵁鐩綍: C:\Users\ASUS\Desktop\ai-build-ai\agents\agent-society-data
HTTP 绔彛: 2999

2026-01-16 18:44:10.420 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
(pass) start.js > Property 2: 绔彛鍙傛暟瑙ｆ瀽姝ｇ‘鎬?> should correctly parse --port argument with v
alid port numbers
(pass) start.js > Property 2: 绔彛鍙傛暟瑙ｆ瀽姝ｇ‘鎬?> should correctly parse -p argument with valid
 port numbers
2026-01-16 18:44:10.424 [INFO] [org] 鍔犺浇缁勭粐鐘舵€佹垚鍔?{
  "roles": 6,
  "agents": 6,
  "terminations": 0,
  "contactRegistries": 0,
  "validationErrors": 0
}
85 |       );
86 |     });
87 | 
88 |     it("should use default port for invalid port numbers", () => {
89 |       const result1 = parseArgs(["--port", "invalid"]);
90 |       expect(result1.port).toBe(3000);
                                ^
error: expect(received).toBe(expected)

Expected: 3000
Received: null

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\start.test.js:90:28)
(fail) start.js > Property 2: 绔彛鍙傛暟瑙ｆ瀽姝ｇ‘鎬?> should use default port for invalid port numb
ers
(pass) start.js > Property 3: 鎿嶄綔绯荤粺妫€娴嬫纭€?> should return 'open' for darwin (macOS)
(pass) start.js > Property 3: 鎿嶄綔绯荤粺妫€娴嬫纭€?> should return 'start' for win32 (Windows)
(pass) start.js > Property 3: 鎿嶄綔绯荤粺妫€娴嬫纭€?> should return 'xdg-open' for linux
(pass) start.js > Property 3: 鎿嶄綔绯荤粺妫€娴嬫纭€?> should return 'xdg-open' for unknown platfor
ms
(pass) start.js > --no-browser 鍙傛暟 > should set openBrowser to true by default
(pass) start.js > --no-browser 鍙傛暟 > should set openBrowser to false when --no-browser is p
rovided
(pass) start.js > --no-browser 鍙傛暟 > should handle --no-browser with other arguments

test\modules\chrome.test.js:
2026-01-16 18:44:10.437 [INFO] [modules] 寮€濮嬪姞杞芥ā鍧?{
  "count": 1,
  "modules": [
    "chrome"
  ]
}
2026-01-16 18:44:10.442 [INFO] [runtime] Chrome 妯″潡鍒濆鍖栧畬鎴?{
  "config": {
    "headless": false
  }
}
2026-01-16 18:44:10.443 [INFO] [tool_groups] 娉ㄥ唽宸ュ叿缁?{
  "groupId": "chrome",
  "description": "Chrome 娴忚鍣ㄦ帶鍒跺伐鍏凤紝鎻愪緵鏃犲ご娴忚鍣ㄦ搷浣滆兘鍔?,
  "toolCount": 16
}
2026-01-16 18:44:10.443 [INFO] [modules] 妯″潡宸ュ叿缁勬敞鍐屾垚鍔?{
  "module": "chrome",
  "toolGroupId": "chrome",
  "toolCount": 16
}
2026-01-16 18:44:10.443 [INFO] [modules] 妯″潡鍔犺浇鎴愬姛
{
  "module": "chrome",
  "toolCount": 16,
  "tools": [
    "chrome_launch",
    "chrome_close",
    "chrome_new_tab",
    "chrome_close_tab",
    "chrome_list_tabs",
    "chrome_navigate",
    "chrome_get_url",
    "chrome_screenshot",
    "chrome_get_text",
    "chrome_get_elements",
    "chrome_click",
    "chrome_click_at",
    "chrome_type",
    "chrome_fill",
    "chrome_evaluate",
    "chrome_wait_for"
  ]
}
2026-01-16 18:44:10.443 [INFO] [modules] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:44:10.443 [INFO] [runtime] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": [
    "chrome"
  ],
  "errors": 0
}
(pass) Property 1: Module Interface Validation > should export required 'name' field as str
ing
(pass) Property 1: Module Interface Validation > should export required 'init' function
(pass) Property 1: Module Interface Validation > should export required 'shutdown' function
(pass) Property 1: Module Interface Validation > should export required 'getToolDefinitions
' function
(pass) Property 1: Module Interface Validation > should export required 'executeToolCall' f
unction
(pass) Property 1: Module Interface Validation > should export optional 'getWebComponent' f
unction
(pass) Property 1: Module Interface Validation > should export optional 'getHttpHandler' fu
nction
2026-01-16 18:44:10.444 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
(pass) Tool Definitions > should return array of tool definitions
78 |       "chrome_evaluate",
79 |       "chrome_wait_for"
80 |     ];
81 | 
82 |     for (const expected of expectedTools) {
83 |       expect(toolNames).toContain(expected);
                             ^
error: expect(received).toContain(expected)

Expected to contain: "chrome_get_content"
Received: [
  "chrome_launch", "chrome_close", "chrome_new_tab", "chrome_close_tab", "chrome_list_tabs"
,
  "chrome_navigate", "chrome_get_url", "chrome_screenshot", "chrome_get_text", "chrome_get_
elements",
  "chrome_click", "chrome_click_at", "chrome_type", "chrome_fill", "chrome_evaluate", "chro
me_wait_for"
]

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\modules\chrome.test.js:
83:25)
(fail) Tool Definitions > should have all 15 Chrome tools defined
2026-01-16 18:44:10.445 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄥ垵濮嬪寲瀹屾垚
{
  "hasServices": true,
  "serviceCount": 5
}
2026-01-16 18:44:10.445 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:44:10.445 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:44:10.445 [INFO] [runtime] 涓婁笅鏂囬檺鍒堕厤缃凡鍔犺浇
{
  "maxTokens": 12000000,
  "warningThreshold": 0.7,
  "criticalThreshold": 0.9,
  "hardLimitThreshold": 0.95
}
(pass) Tool Definitions > should have valid tool definition structure
(pass) BrowserManager > should initialize with empty browser list
(pass) BrowserManager > should return browser_not_found for invalid browserId
(pass) BrowserManager > should return null for getBrowser with invalid id
(pass) BrowserManager > should return null for getPuppeteerBrowser with invalid id
(pass) TabManager > should initialize with empty tab list
(pass) TabManager > should return browser_not_found when creating tab for invalid browser
(pass) TabManager > should return tab_not_found for invalid tabId
2026-01-16 18:44:10.447 [INFO] [runtime] 鏅鸿兘浣撴仮澶嶅畬鎴?{
  "restored": 6,
  "skipped": 0,
  "total": 6
}
(pass) TabManager > should return browser_not_found when listing tabs for invalid browser
(pass) TabManager > should return null for getTab with invalid id
(pass) TabManager > should return null for getPage with invalid id
(pass) PageActions > should return tab_not_found for navigate with invalid tabId
(pass) PageActions > should return tab_not_found for getUrl with invalid tabId
(pass) PageActions > should return tab_not_found for screenshot with invalid tabId
(pass) PageActions > should return tab_not_found for getContent with invalid tabId
(pass) PageActions > should return tab_not_found for getText with invalid tabId
(pass) PageActions > should return tab_not_found for click with invalid tabId
(pass) PageActions > should return tab_not_found for type with invalid tabId
(pass) PageActions > should return tab_not_found for fill with invalid tabId
2026-01-16 18:44:10.457 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 7,
  "errors": 0
}
2026-01-16 18:44:10.457 [INFO] [runtime] 瀵硅瘽鍘嗗彶鍔犺浇瀹屾垚
{
  "loaded": 7,
  "errors": 0
}
2026-01-16 18:44:10.457 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
(pass) PageActions > should return tab_not_found for evaluate with invalid tabId
(pass) PageActions > should return tab_not_found for waitFor with invalid tabId
284 |     await chromeModule.shutdown();
285 |     vi.clearAllMocks();
286 |   });
287 | 
288 |   it("should initialize without errors", async () => {
289 |     await expect(chromeModule.init(mockRuntime)).resolves.not.toThrow();
                                                                    ^
error: expect(received).not.toThrow()

Thrown value: undefined

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\modules\chrome.test.js:
289:63)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\modules\chrome.test.js:
288:42)
(fail) Module Lifecycle > should initialize without errors
291 | 
292 |   it("should return tool definitions after init", async () => {
293 |     await chromeModule.init(mockRuntime);
294 |     const tools = chromeModule.getToolDefinitions();
295 |     expect(Array.isArray(tools)).toBe(true);
296 |     expect(tools.length).toBe(15);
                               ^
error: expect(received).toBe(expected)

Expected: 15
Received: 16

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\modules\chrome.test.js:
296:26)
(fail) Module Lifecycle > should return tool definitions after init
(pass) Module Lifecycle > should return web component definition
(pass) Module Lifecycle > should return http handler function
311 |     expect(typeof handler).toBe("function");
312 |   });
313 | 
314 |   it("should shutdown without errors", async () => {
315 |     await chromeModule.init(mockRuntime);
316 |     await expect(chromeModule.shutdown()).resolves.not.toThrow();
                                                             ^
error: expect(received).not.toThrow()

Thrown value: undefined

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\modules\chrome.test.js:
316:56)
(fail) Module Lifecycle > should shutdown without errors
(pass) Property 12: Error Structure Consistency > should return error object with 'error' f
ield for tab_not_found
(pass) Property 12: Error Structure Consistency > should include relevant context in error 
response
(pass) executeToolCall Routing > should return error for unknown tool
(pass) executeToolCall Routing > should route chrome_close to browserManager
(pass) executeToolCall Routing > should route chrome_new_tab to tabManager
(pass) executeToolCall Routing > should route chrome_close_tab to tabManager
(pass) executeToolCall Routing > should route chrome_navigate to pageActions
(pass) executeToolCall Routing > should route chrome_screenshot to pageActions

test\modules\chrome_selector_sanitization.test.js:
(pass) Feature: chrome-selector-sanitization > Property 1: Outer Quote Removal > should rem
ove outer double quotes from any selector
(pass) Feature: chrome-selector-sanitization > Property 1: Outer Quote Removal > should rem
ove outer single quotes from any selector
(pass) Feature: chrome-selector-sanitization > Property 1: Outer Quote Removal > should tri
m leading and trailing whitespace from any selector
(pass) Feature: chrome-selector-sanitization > Property 2: Clean Selector Idempotence > sho
uld return clean selectors unchanged [16.00ms]
(pass) Feature: chrome-selector-sanitization > Property 2: Clean Selector Idempotence > sho
uld be idempotent - sanitizing twice gives same result
(pass) Feature: chrome-selector-sanitization > Property 3: Internal Quote Preservation > sh
ould preserve internal double quotes in attribute selectors
(pass) Feature: chrome-selector-sanitization > Property 3: Internal Quote Preservation > sh
ould preserve internal single quotes in attribute selectors
(pass) Feature: chrome-selector-sanitization > Property 3: Internal Quote Preservation > sh
ould remove outer quotes while preserving internal quotes
(pass) Feature: chrome-selector-sanitization > Edge Cases > should handle empty string
(pass) Feature: chrome-selector-sanitization > Edge Cases > should handle null
(pass) Feature: chrome-selector-sanitization > Edge Cases > should handle undefined
(pass) Feature: chrome-selector-sanitization > Edge Cases > should handle only quotes
(pass) Feature: chrome-selector-sanitization > Edge Cases > should only remove outermost qu
otes (nested quotes)
(pass) Feature: chrome-selector-sanitization > Edge Cases > should handle mismatched quotes
 (no removal)

test\platform\agent_manager.test.js:
2026-01-16 18:44:11.816 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:44:11.816 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 6,
  "browserJsExecutorAvailable": true
}
2026-01-16 18:44:11.816 [INFO] [society] HTTP鏈嶅姟鍣ㄩ厤缃湇鍔″凡璁剧疆
{
  "configDir": "config"
}
2026-01-16 18:44:11.817 [INFO] [society] HTTP鏈嶅姟鍣ㄦ秷鎭寔涔呭寲鐩綍宸茶缃?{
  "runtimeDir": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\agent-society-data\\state"
}
2026-01-16 18:44:11.817 [INFO] [society] HTTP鏈嶅姟鍣ㄥ伐浠剁洰褰曞凡璁剧疆
{
  "artifactsDir": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\agent-society-data\\artifacts"
}
2026-01-16 18:44:11.830 [INFO] [http] 棰勫姞杞芥秷鎭畬鎴?{
  "fileCount": 8,
  "totalMessages": 241
}
2026-01-16 18:44:11.845 [INFO] [http] HTTP鏈嶅姟鍣ㄥ惎鍔?{
  "port": 2999
}
2026-01-16 18:44:11.846 [INFO] [society] HTTP鏈嶅姟鍣ㄥ惎鍔ㄦ垚鍔?{
  "port": 2999
}
2026-01-16 18:44:11.846 [INFO] [runtime] 浼橀泤鍏抽棴澶勭悊宸茶缃?{
  "shutdownTimeoutMs": 30000
}
2026-01-16 18:44:11.846 [INFO] [runtime] 杩愯鏃跺父椹绘秷鎭惊鐜紑濮嬶紙鐢熶骇鑰?娑堣垂鑰呮ā寮忥級
2026-01-16 18:44:11.846 [INFO] [society] 绯荤粺鍒濆鍖栧畬鎴?鏈嶅姟鍣ㄥ凡鍚姩: http://localhost:2999/web/

鎸?Ctrl+C 鍋滄鏈嶅姟鍣?
姝ｅ湪鎵撳紑娴忚鍣?..
(pass) AgentManager > spawnAgent creates and registers agent instance
(pass) AgentManager > spawnAgent throws error when parentAgentId is missing
(pass) AgentManager > spawnAgentAs creates agent with caller as parent [15.00ms]
(pass) AgentManager > spawnAgentAs rejects invalid parentAgentId [16.00ms]
(pass) AgentManager > listAgentInstances returns all registered agents [16.00ms]
(pass) AgentManager > getAgentStatus returns agent status information [16.00ms]
(pass) AgentManager > getAgentStatus returns null for non-existent agent
(pass) AgentManager > terminateAgent removes agent and its descendants [16.00ms]
(pass) AgentManager > terminateAgent rejects termination of non-child agent
(pass) AgentManager > collectDescendantAgents returns all descendants [31.00ms]
(pass) AgentManager > updateAgentActivity updates last activity time [46.00ms]
(pass) AgentManager > getAgentIdleTime returns correct idle duration [94.00ms]
(pass) AgentManager > findWorkspaceIdForAgent finds workspace through ancestor chain [16.00
ms]
(pass) AgentManager > restoreAgentsFromOrg restores agents from organization state [16.00ms
]

test\platform\agent_society.test.js:
(pass) AgentSociety > Property 1: 鐢ㄦ埛绔偣杈撳叆楠岃瘉 - 鐩爣涓簎ser鏃跺簲鎷掔粷
(pass) AgentSociety > Property 1: 鐢ㄦ埛绔偣杈撳叆楠岃瘉 - 鐩爣涓烘湁鏁圛D鏃跺簲鎺ュ彈 [15.00ms]
(pass) AgentSociety > Property 1: 鐢ㄦ埛绔偣杈撳叆楠岃瘉 - 绌虹洰鏍嘔D搴旇繑鍥為敊璇?(pass) AgentSociety > Proper
ty 2: 鐢ㄦ埛绔偣娑堟伅娴佽浆姝ｇ‘鎬?- 娑堟伅鐩存帴鍙戦€佸埌鐩爣鏅鸿兘浣?(pass) AgentSociety > Property 2: 鐢ㄦ埛绔偣娑堟伅娴佽浆姝
ｇ‘鎬?- 涓嶅瓨鍦╢rom=user to=user鐨勬秷鎭?[16.00ms]
(pass) AgentSociety > Property 3: 宸ヤ綔绌洪棿闅旂 [1344.00ms]
(pass) AgentSociety > Property 8: 宸ヤ綔绌洪棿鑷姩鍒涘缓 [625.00ms]
(pass) AgentSociety > Property 9: 宸ヤ綔绌洪棿淇℃伅鍑嗙‘鎬?[843.00ms]

test\platform\artifact-store.test.js:
(pass) 鍔熻兘: json-artifact-viewer-enhancement, 灞炴€?4: 宸ヤ欢瀛樺偍寰€杩旀纭€?> 瀵硅薄绫诲瀷宸ヤ欢瀛樺偍鍚庤鍙栧簲涓庡師
濮嬪唴瀹圭浉绛?[328.00ms]
(pass) 鍔熻兘: json-artifact-viewer-enhancement, 灞炴€?4: 宸ヤ欢瀛樺偍寰€杩旀纭€?> 鏁扮粍绫诲瀷宸ヤ欢瀛樺偍鍚庤鍙栧簲涓庡師
濮嬪唴瀹圭浉绛?[375.00ms]
(pass) 鍔熻兘: json-artifact-viewer-enhancement, 灞炴€?4: 宸ヤ欢瀛樺偍寰€杩旀纭€?> JSON瀛楃涓插唴瀹逛笉搴旇鍙岄噸缂栫
爜 [375.00ms]
(pass) 鍔熻兘: json-artifact-viewer-enhancement, 灞炴€?4: 宸ヤ欢瀛樺偍寰€杩旀纭€?> 宓屽JSON瀵硅薄瀛樺偍鍚庤鍙栧簲淇濇
寔缁撴瀯 [422.00ms]
(pass) 鍔熻兘: json-artifact-viewer-enhancement, 灞炴€?4: 宸ヤ欢瀛樺偍寰€杩旀纭€?> 鍏冧俊鎭簲姝ｇ‘淇濆瓨鍜岃鍙?[359
.00ms]
(pass) 鍔熻兘: json-artifact-viewer-enhancement, 灞炴€?4: 宸ヤ欢瀛樺偍寰€杩旀纭€?> 鏅€氬瓧绗︿覆鍐呭搴旀纭簭鍒楀寲 
[687.00ms]

test\platform\artifact_binary_routing_integration.test.js:
2026-01-16 18:44:31.879 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
2026-01-16 18:44:31.881 [WARN] [org] 缁勭粐鐘舵€佷笉瀛樺湪鎴栦笉鍙鍙栵紝宸茶烦杩囧姞杞?{
  "filePath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\test\\.tmp\\routing_test_1768
589071879\\runtime\\org.json",
  "error": "ENOENT: no such file or directory, open 'C:\\Users\\ASUS\\Desktop\\ai-build-ai\
\agents\\test\\.tmp\\routing_test_1768589071879\\runtime\\org.json'"
}
2026-01-16 18:44:31.881 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "base.txt"
}
2026-01-16 18:44:31.881 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "compose.txt"
}
2026-01-16 18:44:31.882 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "tool_rules.txt"
}
2026-01-16 18:44:31.882 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "workspace.txt"
}
2026-01-16 18:44:31.884 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
2026-01-16 18:44:31.884 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "model_selector.txt"
}
2026-01-16 18:44:31.884 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄦ湭鍒濆鍖?{
  "hasLlm": false,
  "hasPromptTemplate": true
}
2026-01-16 18:44:31.884 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:44:31.884 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:44:31.885 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_status.txt"
}
2026-01-16 18:44:31.885 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_exceeded.txt"
}
2026-01-16 18:44:31.885 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_critical.txt"
}
2026-01-16 18:44:31.886 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_warning.txt"
}
2026-01-16 18:44:31.888 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 0,
  "errors": 0
}
2026-01-16 18:44:31.888 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
2026-01-16 18:44:33.383 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:44:33.383 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 0,
  "browserJsExecutorAvailable": true
}
2026-01-16 18:44:33.386 [INFO] [artifacts] 鍐欏叆宸ヤ欢
{
  "id": "22ac3cbe-255d-4e60-9538-7c256aa5acb2",
  "type": "text",
  "ref": "artifact:22ac3cbe-255d-4e60-9538-7c256aa5acb2",
  "messageId": null
}
(pass) Artifact Binary Routing Integration > should route text artifact correctly [16.00ms]
2026-01-16 18:44:33.403 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
2026-01-16 18:44:33.403 [WARN] [org] 缁勭粐鐘舵€佷笉瀛樺湪鎴栦笉鍙鍙栵紝宸茶烦杩囧姞杞?{
  "filePath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\test\\.tmp\\routing_test_1768
589073402\\runtime\\org.json",
  "error": "ENOENT: no such file or directory, open 'C:\\Users\\ASUS\\Desktop\\ai-build-ai\
\agents\\test\\.tmp\\routing_test_1768589073402\\runtime\\org.json'"
}
2026-01-16 18:44:33.403 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "base.txt"
}
2026-01-16 18:44:33.404 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "compose.txt"
}
2026-01-16 18:44:33.404 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "tool_rules.txt"
}
2026-01-16 18:44:33.404 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "workspace.txt"
}
2026-01-16 18:44:33.405 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
2026-01-16 18:44:33.405 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "model_selector.txt"
}
2026-01-16 18:44:33.405 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄦ湭鍒濆鍖?{
  "hasLlm": false,
  "hasPromptTemplate": true
}
2026-01-16 18:44:33.405 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:44:33.405 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:44:33.405 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_status.txt"
}
2026-01-16 18:44:33.405 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_exceeded.txt"
}
2026-01-16 18:44:33.406 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_critical.txt"
}
2026-01-16 18:44:33.406 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_warning.txt"
}
2026-01-16 18:44:33.407 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 0,
  "errors": 0
}
2026-01-16 18:44:33.407 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
2026-01-16 18:44:34.736 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:44:34.736 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 0,
  "browserJsExecutorAvailable": true
}
2026-01-16 18:44:34.739 [INFO] [artifacts] 淇濆瓨涓婁紶鏂囦欢
{
  "id": "8a10a912-7453-4157-9bd0-30acbbd06f0d",
  "type": "image",
  "filename": "test.jpg",
  "size": 15,
  "ref": "artifact:8a10a912-7453-4157-9bd0-30acbbd06f0d"
}
(pass) Artifact Binary Routing Integration > should route image artifact with vision capabi
lity [16.00ms]
2026-01-16 18:44:34.760 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
2026-01-16 18:44:34.761 [WARN] [org] 缁勭粐鐘舵€佷笉瀛樺湪鎴栦笉鍙鍙栵紝宸茶烦杩囧姞杞?{
  "filePath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\test\\.tmp\\routing_test_1768
589074760\\runtime\\org.json",
  "error": "ENOENT: no such file or directory, open 'C:\\Users\\ASUS\\Desktop\\ai-build-ai\
\agents\\test\\.tmp\\routing_test_1768589074760\\runtime\\org.json'"
}
2026-01-16 18:44:34.761 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "base.txt"
}
2026-01-16 18:44:34.761 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "compose.txt"
}
2026-01-16 18:44:34.761 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "tool_rules.txt"
}
2026-01-16 18:44:34.762 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "workspace.txt"
}
2026-01-16 18:44:34.762 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
2026-01-16 18:44:34.762 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "model_selector.txt"
}
2026-01-16 18:44:34.762 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄦ湭鍒濆鍖?{
  "hasLlm": false,
  "hasPromptTemplate": true
}
2026-01-16 18:44:34.762 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:44:34.762 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:44:34.762 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_status.txt"
}
2026-01-16 18:44:34.763 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_exceeded.txt"
}
2026-01-16 18:44:34.763 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_critical.txt"
}
2026-01-16 18:44:34.763 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_warning.txt"
}
2026-01-16 18:44:34.764 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 0,
  "errors": 0
}
2026-01-16 18:44:34.764 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
2026-01-16 18:44:35.741 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:44:35.741 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 0,
  "browserJsExecutorAvailable": true
}
2026-01-16 18:44:35.747 [INFO] [artifacts] 淇濆瓨涓婁紶鏂囦欢
{
  "id": "c2c76ecc-f3a7-4252-983b-a8fea527b1d8",
  "type": "image",
  "filename": "photo.png",
  "size": 15,
  "ref": "artifact:c2c76ecc-f3a7-4252-983b-a8fea527b1d8"
}
108 |     const result = await runtime.artifactContentRouter.routeContent(artifact, 'test-t
ext');
109 | 
110 |     expect(result.routing).toBe('text');
111 |     expect(result.contentType).toBe('image');
112 |     expect(result.content).toContain('photo.png');
113 |     expect(result.content).toContain('Binary Content Not Supported');
                                 ^
error: expect(received).toContain(expected)

Expected to contain: "Binary Content Not Supported"
Received: "[闇€瑕佷笓闂ㄥ鐞哴 photo.png (artifact:c2c76ecc-f3a7-4252-983b-a8fea527b1d8)\n绫诲瀷: PNG 
Image\n\n鎿嶄綔鎸囧崡: 鍒涘缓鍏锋湁 瑙嗚锛堝浘鍍忕悊瑙ｏ級 鑳藉姏鐨勪笓闂ㄦ櫤鑳戒綋鏉ュ鐞嗘宸ヤ欢銆俓n\n姝ラ:\n1. 浣跨敤 create_role 鍒涘缓
瑙掕壊锛屾寚瀹氭敮鎸?vision 鑳藉姏鐨勫ぇ妯″瀷\n2. 浣跨敤 spawn_agent_with_task 鍒涘缓鏅鸿兘浣撳苟鍒嗛厤浠诲姟\n3. 鍦ㄤ换鍔′腑璇存槑锛歕n 
  - 闇€瑕佽鍙栧伐浠?artifact:c2c76ecc-f3a7-4252-983b-a8fea527b1d8\n   - 闇€瑕佸畬鎴愪粈涔堝垎鏋愭垨澶勭悊\n   - 瀹
屾垚鍚庨€氳繃 send_message 鎶ュ憡缁撴灉\n4. 浠诲姟鎻忚堪瑕佺畝娲佹槑纭紝鍙鏄庣洰鏍囧拰鏈熸湜鐨勮緭鍑篭n\n閲嶈鎻愮ず:\n- 鍒涘缓瑙掕壊鏃跺彧鍒嗛厤浠
诲姟锛屼笉瑕佽姹備粬鐢ㄥ伐浠惰鍙栥€傚垱寤烘櫤鑳戒綋鐨勬椂鍊欎互浠诲姟鐨勬柟寮忓憡璇変粬闇€瑕佷粠宸ヤ欢閲岃鍙栵紝骞跺憡鐭ュ伐浠禝D銆備互姝や繚鎸佽宀椾綅鐨勯€氱敤鎬э紝灏嗘
潵鍙互澶嶇敤銆俓n- 涓嶈鍦ㄤ换鍔′腑鎻愬強鎶€鏈檺鍒舵垨鑳藉姏绾︽潫\n- 涓嶈瑙ｉ噴涓轰粈涔堥渶瑕佸垱寤烘柊浠ｇ悊\n- 璁╂柊浠ｇ悊涓撴敞浜庝换鍔℃湰韬紝鑰屼笉鏄妧
鏈粏鑺俓n- 涓嶈鎶婁綘鑳藉姏鐨勭‘瀹炰綔涓哄鏂扮殑宀椾綅鍜屾櫤鑳戒綋鐨勬妧鏈害鏉焅n- 瀵规柊鐨勫矖浣嶅拰鏅鸿兘浣撴病鏈夋妧鏈害鏉燂紝涓嶈璇存妧鏈害鏉燂紝涓嶆槸缂栫▼
浠诲姟\n娉ㄦ剰: 鍒涘缓瑙掕壊鏃跺繀椤绘寚瀹氭敮鎸?vision 鑳藉姏鐨勩€?

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\artifact_binar
y_routing_integration.test.js:113:28)
(fail) Artifact Binary Routing Integration > should degrade image artifact for text-only mo
del [32.00ms]
2026-01-16 18:44:35.765 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
2026-01-16 18:44:35.766 [WARN] [org] 缁勭粐鐘舵€佷笉瀛樺湪鎴栦笉鍙鍙栵紝宸茶烦杩囧姞杞?{
  "filePath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\test\\.tmp\\routing_test_1768
589075764\\runtime\\org.json",
  "error": "ENOENT: no such file or directory, open 'C:\\Users\\ASUS\\Desktop\\ai-build-ai\
\agents\\test\\.tmp\\routing_test_1768589075764\\runtime\\org.json'"
}
2026-01-16 18:44:35.766 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "base.txt"
}
2026-01-16 18:44:35.767 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "compose.txt"
}
2026-01-16 18:44:35.767 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "tool_rules.txt"
}
2026-01-16 18:44:35.767 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "workspace.txt"
}
2026-01-16 18:44:35.768 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
2026-01-16 18:44:35.769 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "model_selector.txt"
}
2026-01-16 18:44:35.769 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄦ湭鍒濆鍖?{
  "hasLlm": false,
  "hasPromptTemplate": true
}
2026-01-16 18:44:35.769 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:44:35.769 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:44:35.769 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_status.txt"
}
2026-01-16 18:44:35.769 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_exceeded.txt"
}
2026-01-16 18:44:35.770 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_critical.txt"
}
2026-01-16 18:44:35.770 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_warning.txt"
}
2026-01-16 18:44:35.771 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 0,
  "errors": 0
}
2026-01-16 18:44:35.772 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
2026-01-16 18:44:36.723 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:44:36.723 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 0,
  "browserJsExecutorAvailable": true
}
2026-01-16 18:44:36.726 [INFO] [artifacts] 淇濆瓨涓婁紶鏂囦欢
{
  "id": "a5b08e1d-6b66-4cd0-b30d-0d1978a393bc",
  "type": "document",
  "filename": "report.pdf",
  "size": 13,
  "ref": "artifact:a5b08e1d-6b66-4cd0-b30d-0d1978a393bc"
}
137 |     const result = await runtime.artifactContentRouter.routeContent(artifact, 'test-f
ile');
138 | 
139 |     expect(result.routing).toBe('file');
140 |     expect(result.contentType).toBe('binary');
141 |     expect(result.file).toBeDefined();
142 |     expect(result.file.type).toBe('file');
                                   ^
error: expect(received).toBe(expected)

Expected: "file"
Received: "file_url"

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\artifact_binar
y_routing_integration.test.js:142:30)
(fail) Artifact Binary Routing Integration > should route PDF with file capability [15.00ms
]
2026-01-16 18:44:36.744 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
2026-01-16 18:44:36.744 [WARN] [org] 缁勭粐鐘舵€佷笉瀛樺湪鎴栦笉鍙鍙栵紝宸茶烦杩囧姞杞?{
  "filePath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\test\\.tmp\\routing_test_1768
589076743\\runtime\\org.json",
  "error": "ENOENT: no such file or directory, open 'C:\\Users\\ASUS\\Desktop\\ai-build-ai\
\agents\\test\\.tmp\\routing_test_1768589076743\\runtime\\org.json'"
}
2026-01-16 18:44:36.745 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "base.txt"
}
2026-01-16 18:44:36.745 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "compose.txt"
}
2026-01-16 18:44:36.745 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "tool_rules.txt"
}
2026-01-16 18:44:36.745 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "workspace.txt"
}
2026-01-16 18:44:36.746 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
2026-01-16 18:44:36.746 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "model_selector.txt"
}
2026-01-16 18:44:36.746 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄦ湭鍒濆鍖?{
  "hasLlm": false,
  "hasPromptTemplate": true
}
2026-01-16 18:44:36.746 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:44:36.746 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:44:36.746 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_status.txt"
}
2026-01-16 18:44:36.746 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_exceeded.txt"
}
2026-01-16 18:44:36.747 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_critical.txt"
}
2026-01-16 18:44:36.747 [INFO] [prompts] 鍔犺浇鎻愮ず璇嶆枃浠?{
  "fileName": "context_warning.txt"
}
2026-01-16 18:44:36.747 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 0,
  "errors": 0
}
2026-01-16 18:44:36.748 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
2026-01-16 18:44:37.714 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:44:37.714 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 0,
  "browserJsExecutorAvailable": true
}
(pass) Artifact Binary Routing Integration > should handle null artifact gracefully

test\platform\artifact_content_router.test.js:
(pass) ArtifactContentRouter > Constructor > should create instance with all parameters
(pass) ArtifactContentRouter > Constructor > should handle empty parameters
(pass) ArtifactContentRouter > detectBinaryType > should detect image from MIME type - jpeg
(pass) ArtifactContentRouter > detectBinaryType > should detect image from MIME type - png
(pass) ArtifactContentRouter > detectBinaryType > should detect audio from MIME type
(pass) ArtifactContentRouter > detectBinaryType > should detect video from MIME type
(pass) ArtifactContentRouter > detectBinaryType > should detect document from MIME type
(pass) ArtifactContentRouter > detectBinaryType > should detect image from extension - .jpg
(pass) ArtifactContentRouter > detectBinaryType > should detect image from extension - .png
(pass) ArtifactContentRouter > detectBinaryType > should detect audio from extension
(pass) ArtifactContentRouter > detectBinaryType > should detect document from extension
(pass) ArtifactContentRouter > detectBinaryType > should fallback to other for unknown type
(pass) ArtifactContentRouter > detectBinaryType > should prioritize MIME type over extensio
n
(pass) ArtifactContentRouter > hasCapability > should return true when service has vision c
apability
(pass) ArtifactContentRouter > hasCapability > should return false when service lacks visio
n capability
(pass) ArtifactContentRouter > hasCapability > should return true when service has file cap
ability
(pass) ArtifactContentRouter > hasCapability > should return false when service lacks file 
capability
(pass) ArtifactContentRouter > hasCapability > should return false when serviceRegistry una
vailable
(pass) ArtifactContentRouter > hasCapability > should return false when serviceId not found
(pass) ArtifactContentRouter > routeContent - text content > should return text routing for
 plain text
(pass) ArtifactContentRouter > routeContent - text content > should not encode text content
(pass) ArtifactContentRouter > routeContent - text content > should handle empty string
(pass) ArtifactContentRouter > routeContent - text content > should handle special characte
rs
(pass) ArtifactContentRouter > routeContent - text content > should handle Unicode characte
rs
(pass) ArtifactContentRouter > routeContent - image content > should route image to image_u
rl with vision capability
243 |         meta: { filename: 'screenshot.png' }
244 |       };
245 |       const result = await router.routeContent(artifact, 'text-only-service');
246 |       expect(result.routing).toBe('text');
247 |       expect(result.contentType).toBe('image');
248 |       expect(result.content).toContain('Binary Content Not Supported');
                                   ^
error: expect(received).toContain(expected)

Expected to contain: "Binary Content Not Supported"
Received: "[闇€瑕佷笓闂ㄥ鐞哴 screenshot.png (artifact:img-2)\n绫诲瀷: PNG Image\n\n鎿嶄綔鎸囧崡: 鍒涘缓鍏锋湁 瑙嗚
锛堝浘鍍忕悊瑙ｏ級 鑳藉姏鐨勪笓闂ㄦ櫤鑳戒綋鏉ュ鐞嗘宸ヤ欢銆俓n\n姝ラ:\n1. 浣跨敤 create_role 鍒涘缓瑙掕壊锛屾寚瀹氭敮鎸?vision 鑳藉姏鐨勫ぇ妯″
瀷\n2. 浣跨敤 spawn_agent_with_task 鍒涘缓鏅鸿兘浣撳苟鍒嗛厤浠诲姟\n3. 鍦ㄤ换鍔′腑璇存槑锛歕n   - 闇€瑕佽鍙栧伐浠?artifact:img
-2\n   - 闇€瑕佸畬鎴愪粈涔堝垎鏋愭垨澶勭悊\n   - 瀹屾垚鍚庨€氳繃 send_message 鎶ュ憡缁撴灉\n4. 浠诲姟鎻忚堪瑕佺畝娲佹槑纭紝鍙鏄庣洰鏍囧拰鏈
熸湜鐨勮緭鍑篭n\n閲嶈鎻愮ず:\n- 鍒涘缓瑙掕壊鏃跺彧鍒嗛厤浠诲姟锛屼笉瑕佽姹備粬鐢ㄥ伐浠惰鍙栥€傚垱寤烘櫤鑳戒綋鐨勬椂鍊欎互浠诲姟鐨勬柟寮忓憡璇変粬闇€瑕佷粠宸ヤ欢閲岃
鍙栵紝骞跺憡鐭ュ伐浠禝D銆備互姝や繚鎸佽宀椾綅鐨勯€氱敤鎬э紝灏嗘潵鍙互澶嶇敤銆俓n- 涓嶈鍦ㄤ换鍔′腑鎻愬強鎶€鏈檺鍒舵垨鑳藉姏绾︽潫\n- 涓嶈瑙ｉ噴涓轰粈涔堥渶瑕佸垱
寤烘柊浠ｇ悊\n- 璁╂柊浠ｇ悊涓撴敞浜庝换鍔℃湰韬紝鑰屼笉鏄妧鏈粏鑺俓n- 涓嶈鎶婁綘鑳藉姏鐨勭‘瀹炰綔涓哄鏂扮殑宀椾綅鍜屾櫤鑳戒綋鐨勬妧鏈害鏉焅n- 瀵规柊鐨勫矖浣嶅
拰鏅鸿兘浣撴病鏈夋妧鏈害鏉燂紝涓嶈璇存妧鏈害鏉燂紝涓嶆槸缂栫▼浠诲姟\n娉ㄦ剰: 鍒涘缓瑙掕壊鏃跺繀椤绘寚瀹氭敮鎸?vision 鑳藉姏鐨勩€?

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\artifact_conte
nt_router.test.js:248:30)
(fail) ArtifactContentRouter > routeContent - image content > should route image to text wi
thout vision capability
(pass) ArtifactContentRouter > routeContent - image content > should format image_url corre
ctly
(pass) ArtifactContentRouter > routeContent - image content > should handle various image f
ormats
290 |       };
291 |       const result = await router.routeContent(artifact, 'file-service');
292 |       expect(result.routing).toBe('file');
293 |       expect(result.contentType).toBe('binary');
294 |       expect(result.file).toBeDefined();
295 |       expect(result.file.type).toBe('file');
                                     ^
error: expect(received).toBe(expected)

Expected: "file"
Received: "file_url"

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\artifact_conte
nt_router.test.js:295:32)
(fail) ArtifactContentRouter > routeContent - non-image binary > should route PDF to file w
ith file capability
304 |         meta: { filename: 'report.pdf' }
305 |       };
306 |       const result = await router.routeContent(artifact, 'text-only-service');
307 |       expect(result.routing).toBe('text');
308 |       expect(result.contentType).toBe('binary');
309 |       expect(result.content).toContain('Binary Content Not Supported');
                                   ^
error: expect(received).toContain(expected)

Expected to contain: "Binary Content Not Supported"
Received: "[闇€瑕佷笓闂ㄥ鐞哴 report.pdf (artifact:doc-2)\n绫诲瀷: PDF Document\n\n鎿嶄綔鎸囧崡: 鍒涘缓鍏锋湁 鏂囦欢
璇诲彇 鑳藉姏鐨勪笓闂ㄦ櫤鑳戒綋鏉ュ鐞嗘宸ヤ欢銆俓n\n姝ラ:\n1. 浣跨敤 create_role 鍒涘缓瑙掕壊锛屾寚瀹氭敮鎸?file 鑳藉姏鐨勫ぇ妯″瀷\n2. 浣跨敤
 spawn_agent_with_task 鍒涘缓鏅鸿兘浣撳苟鍒嗛厤浠诲姟\n3. 鍦ㄤ换鍔′腑璇存槑锛歕n   - 闇€瑕佽鍙栧伐浠?artifact:doc-2\n   - 
闇€瑕佸畬鎴愪粈涔堝垎鏋愭垨澶勭悊\n   - 瀹屾垚鍚庨€氳繃 send_message 鎶ュ憡缁撴灉\n4. 浠诲姟鎻忚堪瑕佺畝娲佹槑纭紝鍙鏄庣洰鏍囧拰鏈熸湜鐨勮緭鍑篭n\
n閲嶈鎻愮ず:\n- 鍒涘缓瑙掕壊鏃跺彧鍒嗛厤浠诲姟锛屼笉瑕佽姹備粬鐢ㄥ伐浠惰鍙栥€傚垱寤烘櫤鑳戒綋鐨勬椂鍊欎互浠诲姟鐨勬柟寮忓憡璇変粬闇€瑕佷粠宸ヤ欢閲岃鍙栵紝骞跺憡鐭ュ伐
浠禝D銆備互姝や繚鎸佽宀椾綅鐨勯€氱敤鎬э紝灏嗘潵鍙互澶嶇敤銆俓n- 涓嶈鍦ㄤ换鍔′腑鎻愬強鎶€鏈檺鍒舵垨鑳藉姏绾︽潫\n- 涓嶈瑙ｉ噴涓轰粈涔堥渶瑕佸垱寤烘柊浠ｇ悊\n-
 璁╂柊浠ｇ悊涓撴敞浜庝换鍔℃湰韬紝鑰屼笉鏄妧鏈粏鑺俓n- 涓嶈鎶婁綘鑳藉姏鐨勭‘瀹炰綔涓哄鏂扮殑宀椾綅鍜屾櫤鑳戒綋鐨勬妧鏈害鏉焅n- 瀵规柊鐨勫矖浣嶅拰鏅鸿兘浣撴病鏈夋
妧鏈害鏉燂紝涓嶈璇存妧鏈害鏉燂紝涓嶆槸缂栫▼浠诲姟\n娉ㄦ剰: 鍒涘缓瑙掕壊鏃跺繀椤绘寚瀹氭敮鎸?file 鑳藉姏鐨勩€?

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\artifact_conte
nt_router.test.js:309:30)
(fail) ArtifactContentRouter > routeContent - non-image binary > should route PDF to text w
ithout file capability
(pass) ArtifactContentRouter > routeContent - non-image binary > should route audio file
(pass) ArtifactContentRouter > routeContent - non-image binary > should route video file
(pass) ArtifactContentRouter > generateTextDescription > should include filename in descrip
tion
(pass) ArtifactContentRouter > generateTextDescription > should include file type in descri
ption
362 |         id: 'test-3',
363 |         mimeType: 'image/png',
364 |         meta: { filename: 'image.png' }
365 |       };
366 |       const description = router.generateTextDescription(artifact, 'image');
367 |       expect(description).toContain('Not Supported');
                                ^
error: expect(received).toContain(expected)

Expected to contain: "Not Supported"
Received: "[闇€瑕佷笓闂ㄥ鐞哴 image.png (artifact:test-3)\n绫诲瀷: PNG Image\n\n鎿嶄綔鎸囧崡: 鍒涘缓鍏锋湁 瑙嗚锛堝浘
鍍忕悊瑙ｏ級 鑳藉姏鐨勪笓闂ㄦ櫤鑳戒綋鏉ュ鐞嗘宸ヤ欢銆俓n\n姝ラ:\n1. 浣跨敤 create_role 鍒涘缓瑙掕壊锛屾寚瀹氭敮鎸?vision 鑳藉姏鐨勫ぇ妯″瀷\n2
. 浣跨敤 spawn_agent_with_task 鍒涘缓鏅鸿兘浣撳苟鍒嗛厤浠诲姟\n3. 鍦ㄤ换鍔′腑璇存槑锛歕n   - 闇€瑕佽鍙栧伐浠?artifact:test-3\
n   - 闇€瑕佸畬鎴愪粈涔堝垎鏋愭垨澶勭悊\n   - 瀹屾垚鍚庨€氳繃 send_message 鎶ュ憡缁撴灉\n4. 浠诲姟鎻忚堪瑕佺畝娲佹槑纭紝鍙鏄庣洰鏍囧拰鏈熸湜鐨
勮緭鍑篭n\n閲嶈鎻愮ず:\n- 鍒涘缓瑙掕壊鏃跺彧鍒嗛厤浠诲姟锛屼笉瑕佽姹備粬鐢ㄥ伐浠惰鍙栥€傚垱寤烘櫤鑳戒綋鐨勬椂鍊欎互浠诲姟鐨勬柟寮忓憡璇変粬闇€瑕佷粠宸ヤ欢閲岃鍙栵紝
骞跺憡鐭ュ伐浠禝D銆備互姝や繚鎸佽宀椾綅鐨勯€氱敤鎬э紝灏嗘潵鍙互澶嶇敤銆俓n- 涓嶈鍦ㄤ换鍔′腑鎻愬強鎶€鏈檺鍒舵垨鑳藉姏绾︽潫\n- 涓嶈瑙ｉ噴涓轰粈涔堥渶瑕佸垱寤烘柊
浠ｇ悊\n- 璁╂柊浠ｇ悊涓撴敞浜庝换鍔℃湰韬紝鑰屼笉鏄妧鏈粏鑺俓n- 涓嶈鎶婁綘鑳藉姏鐨勭‘瀹炰綔涓哄鏂扮殑宀椾綅鍜屾櫤鑳戒綋鐨勬妧鏈害鏉焅n- 瀵规柊鐨勫矖浣嶅拰鏅鸿
兘浣撴病鏈夋妧鏈害鏉燂紝涓嶈璇存妧鏈害鏉燂紝涓嶆槸缂栫▼浠诲姟\n娉ㄦ剰: 鍒涘缓瑙掕壊鏃跺繀椤绘寚瀹氭敮鎸?vision 鑳藉姏鐨勩€?

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\artifact_conte
nt_router.test.js:367:27)
(fail) ArtifactContentRouter > generateTextDescription > should include "not supported" mes
sage
(pass) ArtifactContentRouter > generateTextDescription > should NOT contain base64 data
(pass) ArtifactContentRouter > generateTextDescription > should handle various file types
(pass) ArtifactContentRouter > Text model degradation > should return description for JPEG 
with text-only model
(pass) ArtifactContentRouter > Text model degradation > should return description for PNG w
ith text-only model
(pass) ArtifactContentRouter > Text model degradation > should return description for PDF w
ith text-only model
452 |         meta: { filename: 'test.jpg' }
453 |       };
454 |       const result = await router.routeContent(artifact, 'text-only-service');
455 |       expect(result.content).toContain('vision');
456 |       expect(result.content).toContain('create_role');
457 |       expect(result.content).toContain('llmServiceId');
                                   ^
error: expect(received).toContain(expected)

Expected to contain: "llmServiceId"
Received: "[闇€瑕佷笓闂ㄥ鐞哴 test.jpg (artifact:test)\n绫诲瀷: JPEG Image\n\n鎿嶄綔鎸囧崡: 鍒涘缓鍏锋湁 瑙嗚锛堝浘鍍忕
悊瑙ｏ級 鑳藉姏鐨勪笓闂ㄦ櫤鑳戒綋鏉ュ鐞嗘宸ヤ欢銆俓n\n姝ラ:\n1. 浣跨敤 create_role 鍒涘缓瑙掕壊锛屾寚瀹氭敮鎸?vision 鑳藉姏鐨勫ぇ妯″瀷\n2. 
浣跨敤 spawn_agent_with_task 鍒涘缓鏅鸿兘浣撳苟鍒嗛厤浠诲姟\n3. 鍦ㄤ换鍔′腑璇存槑锛歕n   - 闇€瑕佽鍙栧伐浠?artifact:test\n   
- 闇€瑕佸畬鎴愪粈涔堝垎鏋愭垨澶勭悊\n   - 瀹屾垚鍚庨€氳繃 send_message 鎶ュ憡缁撴灉\n4. 浠诲姟鎻忚堪瑕佺畝娲佹槑纭紝鍙鏄庣洰鏍囧拰鏈熸湜鐨勮緭鍑篭
n\n閲嶈鎻愮ず:\n- 鍒涘缓瑙掕壊鏃跺彧鍒嗛厤浠诲姟锛屼笉瑕佽姹備粬鐢ㄥ伐浠惰鍙栥€傚垱寤烘櫤鑳戒綋鐨勬椂鍊欎互浠诲姟鐨勬柟寮忓憡璇変粬闇€瑕佷粠宸ヤ欢閲岃鍙栵紝骞跺憡鐭
ュ伐浠禝D銆備互姝や繚鎸佽宀椾綅鐨勯€氱敤鎬э紝灏嗘潵鍙互澶嶇敤銆俓n- 涓嶈鍦ㄤ换鍔′腑鎻愬強鎶€鏈檺鍒舵垨鑳藉姏绾︽潫\n- 涓嶈瑙ｉ噴涓轰粈涔堥渶瑕佸垱寤烘柊浠ｇ悊\
n- 璁╂柊浠ｇ悊涓撴敞浜庝换鍔℃湰韬紝鑰屼笉鏄妧鏈粏鑺俓n- 涓嶈鎶婁綘鑳藉姏鐨勭‘瀹炰綔涓哄鏂扮殑宀椾綅鍜屾櫤鑳戒綋鐨勬妧鏈害鏉焅n- 瀵规柊鐨勫矖浣嶅拰鏅鸿兘浣撴病
鏈夋妧鏈害鏉燂紝涓嶈璇存妧鏈害鏉燂紝涓嶆槸缂栫▼浠诲姟\n娉ㄦ剰: 鍒涘缓瑙掕壊鏃跺繀椤绘寚瀹氭敮鎸?vision 鑳藉姏鐨勩€?

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\artifact_conte
nt_router.test.js:457:30)
(fail) ArtifactContentRouter > Text model degradation > should include capability limitatio
n in description
(pass) ArtifactContentRouter > Text model degradation > should ensure description is much s
horter than base64
(pass) ArtifactContentRouter > Edge cases > should handle null artifact
(pass) ArtifactContentRouter > Edge cases > should handle undefined artifact
(pass) ArtifactContentRouter > Edge cases > should handle null serviceId
(pass) ArtifactContentRouter > Edge cases > should handle empty MIME type
(pass) ArtifactContentRouter > Edge cases > should handle MIME type with parameters
(pass) ArtifactContentRouter > Edge cases > should handle case-insensitive MIME types
(pass) ArtifactContentRouter > formatImageUrl > should format image URL correctly
(pass) ArtifactContentRouter > formatImageUrl > should handle null MIME type
(pass) ArtifactContentRouter > formatImageUrl > should normalize MIME type

test\platform\artifact_store.test.js:
(pass) ArtifactStore > 鍩虹宸ヤ欢鎿嶄綔 > putArtifact then getArtifact returns stored payload
(pass) ArtifactStore > 鍩虹宸ヤ欢鎿嶄綔 > putArtifact 杩斿洖姝ｇ‘鐨勫紩鐢ㄦ牸寮?(pass) ArtifactStore > 鍩虹宸ヤ欢鎿
嶄綔 > getArtifact 鏀寔甯﹀墠缂€鍜屼笉甯﹀墠缂€鐨勫紩鐢?[16.00ms]
(pass) ArtifactStore > 鍩虹宸ヤ欢鎿嶄綔 > getArtifact 杩斿洖 null 瀵逛簬涓嶅瓨鍦ㄧ殑宸ヤ欢
(pass) ArtifactStore > 鍩虹宸ヤ欢鎿嶄綔 > putArtifact 淇濆瓨瀛楃涓插唴瀹?[31.00ms]
(pass) ArtifactStore > 鍩虹宸ヤ欢鎿嶄綔 > putArtifact 淇濆瓨瀵硅薄鍐呭 [16.00ms]
(pass) ArtifactStore > 鍩虹宸ヤ欢鎿嶄綔 > putArtifact 淇濆瓨鏁扮粍鍐呭 [31.00ms]
(pass) ArtifactStore > 鍩虹宸ヤ欢鎿嶄綔 > putArtifact 淇濆瓨 messageId [15.00ms]
(pass) ArtifactStore > 鍩虹宸ヤ欢鎿嶄綔 > getArtifact 杩斿洖瀹屾暣鐨勫伐浠朵俊鎭?[16.00ms]
(pass) ArtifactStore > 鍏冧俊鎭鐞?> getMetadata 璇诲彇宸ヤ欢鍏冧俊鎭?[31.00ms]
(pass) ArtifactStore > 鍏冧俊鎭鐞?> getMetadata 杩斿洖 null 瀵逛簬涓嶅瓨鍦ㄧ殑宸ヤ欢
(pass) ArtifactStore > 鍥剧墖淇濆瓨 > saveImage 淇濆瓨鍥剧墖鏂囦欢
(pass) ArtifactStore > 鍥剧墖淇濆瓨 > saveImage 浣跨敤榛樿鏍煎紡
(pass) ArtifactStore > 鍥剧墖淇濆瓨 > saveImage 鏀寔涓嶅悓鐨勫浘鐗囨牸寮?[15.00ms]
(pass) ArtifactStore > 涓婁紶鏂囦欢绠＄悊 > saveUploadedFile 淇濆瓨涓婁紶鐨勬枃浠?(pass) ArtifactStore > 涓婁紶鏂囦
欢绠＄悊 > saveUploadedFile 鏍规嵁 MIME 绫诲瀷纭畾鎵╁睍鍚?[16.00ms]
(pass) ArtifactStore > 涓婁紶鏂囦欢绠＄悊 > getUploadedFile 璇诲彇涓婁紶鐨勬枃浠?[31.00ms]
(pass) ArtifactStore > 涓婁紶鏂囦欢绠＄悊 > getUploadedFile 杩斿洖 null 瀵逛簬涓嶅瓨鍦ㄧ殑鏂囦欢
(pass) ArtifactStore > 宸ュ叿鏂规硶 > generateId 鐢熸垚鍞竴ID
(pass) ArtifactStore > 宸ュ叿鏂规硶 > isMetaFile 妫€鏌ユ槸鍚︿负鍏冧俊鎭枃浠?(pass) ArtifactStore > 宸ュ叿鏂规硶 > 
META_EXTENSION 杩斿洖鍏冧俊鎭枃浠跺悗缂€
(pass) ArtifactStore > MIME 绫诲瀷澶勭悊 > _resolveMimeType 瑙ｆ瀽 MIME 绫诲瀷
(pass) ArtifactStore > MIME 绫诲瀷澶勭悊 > _getExtensionFromMimeType 浠?MIME 绫诲瀷鑾峰彇鎵╁睍鍚?(pass) Art
ifactStore > MIME 绫诲瀷澶勭悊 > _getExtensionFromMimeType 浼樺厛浣跨敤鏂囦欢鍚嶄腑鐨勬墿灞曞悕
(pass) ArtifactStore > MIME 绫诲瀷澶勭悊 > _extractExtension 浠庢枃浠跺悕鎻愬彇鎵╁睍鍚?(pass) ArtifactStore >
 ensureReady > ensureReady 鍒涘缓宸ヤ欢鐩綍

test\platform\browser_javascript_executor.test.js:
(pass) BrowserJavaScriptExecutor > 鍩虹鍔熻兘娴嬭瘯 > 搴旇鑳芥墽琛岀畝鍗曠殑鍚屾浠ｇ爜 [578.00ms]
(pass) BrowserJavaScriptExecutor > 鍩虹鍔熻兘娴嬭瘯 > 搴旇鑳借闂?input 鍙傛暟 [422.00ms]
(pass) BrowserJavaScriptExecutor > 鍩虹鍔熻兘娴嬭瘯 > 搴旇鑳芥墽琛屽紓姝ヤ唬鐮?[281.00ms]
(pass) BrowserJavaScriptExecutor > 鍩虹鍔熻兘娴嬭瘯 > 搴旇鑳戒娇鐢?await 鍏抽敭瀛?[219.00ms]
(pass) BrowserJavaScriptExecutor > 鍩虹鍔熻兘娴嬭瘯 > 搴旇鎹曡幏鎵ц閿欒 [187.00ms]
(pass) BrowserJavaScriptExecutor > 鍩虹鍔熻兘娴嬭瘯 > 搴旇鎷掔粷鏃犳晥鐨勪唬鐮佸弬鏁?(pass) BrowserJavaScriptExe
cutor > Canvas 鍔熻兘娴嬭瘯 > 搴旇鑳藉垱寤?Canvas 骞剁粯鍥?[375.00ms]
(pass) BrowserJavaScriptExecutor > Canvas 鍔熻兘娴嬭瘯 > Canvas 搴旇鏄崟渚?[235.00ms]
(pass) BrowserJavaScriptExecutor > Canvas 鍔熻兘娴嬭瘯 > Canvas 鍥惧儚搴旇淇濆瓨鍒?artifacts 鐩綍 [187.00m
s]
(pass) BrowserJavaScriptExecutor > 椤甸潰闅旂娴嬭瘯 > 涓ゆ鎵ц涔嬮棿搴旇瀹屽叏闅旂 [719.00ms]
(pass) BrowserJavaScriptExecutor > 椤甸潰闅旂娴嬭瘯 > DOM 鍏冪礌涓嶅簲璇ュ湪鎵ц闂存寔涔呭寲 [437.00ms]
error: Test "绠楁湳杩愮畻搴旇浜х敓姝ｇ‘缁撴灉" timed out after 5000ms
(fail) BrowserJavaScriptExecutor > Property 1: Code execution result consistency > 绠楁湳杩愮畻搴旇
浜х敓姝ｇ‘缁撴灉 [5000.00ms]
error: Test "瀵硅薄鎿嶄綔搴旇姝ｇ‘澶勭悊" timed out after 5016ms
(fail) BrowserJavaScriptExecutor > Property 1: Code execution result consistency > 瀵硅薄鎿嶄綔搴旇
姝ｇ‘澶勭悊 [5016.00ms]
error: Test "鏁扮粍鎿嶄綔搴旇姝ｇ‘澶勭悊" timed out after 5000ms
(fail) BrowserJavaScriptExecutor > Property 1: Code execution result consistency > 鏁扮粍鎿嶄綔搴旇
姝ｇ‘澶勭悊 [5000.00ms]
error: Test "Promise 搴旇琚纭瓑寰呭拰瑙ｆ瀽" timed out after 5000ms
(fail) BrowserJavaScriptExecutor > Property 2: Promise resolution > Promise 搴旇琚纭瓑寰呭拰瑙ｆ瀽
 [5000.00ms]
(pass) BrowserJavaScriptExecutor > Property 2: Promise resolution > 宓屽 Promise 搴旇琚纭В鏋?
[1141.00ms]
error: Test "async/await 搴旇姝ｇ‘宸ヤ綔" timed out after 5000ms
(fail) BrowserJavaScriptExecutor > Property 2: Promise resolution > async/await 搴旇姝ｇ‘宸ヤ綔 [
5000.00ms]
error: Test "瓒呮椂鐨勪唬鐮佸簲璇ヨ繑鍥炶秴鏃堕敊璇? timed out after 10015ms
(fail) BrowserJavaScriptExecutor > Property 3: Timeout enforcement > 瓒呮椂鐨勪唬鐮佸簲璇ヨ繑鍥炶秴鏃堕敊璇?[1
0015.00ms]
(pass) BrowserJavaScriptExecutor > Property 4: Error capture completeness > 鍚勭閿欒绫诲瀷搴旇琚
纭崟鑾?[2344.00ms]
error: Test "闅忔満閿欒娑堟伅搴旇琚纭崟鑾? timed out after 5000ms
(fail) BrowserJavaScriptExecutor > Property 4: Error capture completeness > 闅忔満閿欒娑堟伅搴旇琚
纭崟鑾?[5000.00ms]
error: Test "Canvas 搴旇鍏锋湁鎸囧畾鐨勫昂瀵? timed out after 5000ms
(fail) BrowserJavaScriptExecutor > Property 5: Canvas creation with dimensions > Canvas 搴旇
鍏锋湁鎸囧畾鐨勫昂瀵?[5000.00ms]
(pass) BrowserJavaScriptExecutor > Property 5: Canvas creation with dimensions > 榛樿灏哄搴旇鏄
?800x600 [656.00ms]
error: Test "澶氭璋冪敤 getCanvas 搴旇杩斿洖鍚屼竴瀹炰緥" timed out after 5016ms
(fail) BrowserJavaScriptExecutor > Property 6: Canvas singleton behavior > 澶氭璋冪敤 getCanvas
 搴旇杩斿洖鍚屼竴瀹炰緥 [5016.00ms]
(pass) BrowserJavaScriptExecutor > Property 6: Canvas singleton behavior > 绗竴娆¤皟鐢ㄧ殑灏哄搴旇琚
繚鐣?[187.00ms]
(pass) BrowserJavaScriptExecutor > Property 7: Canvas export with metadata > Canvas 瀵煎嚭搴旇鍖
呭惈姝ｇ‘鐨勫厓鏁版嵁 [4860.00ms]
error: Test "鍏ㄥ眬鍙橀噺涓嶅簲璇ュ湪鎵ц闂存寔涔呭寲" timed out after 5015ms
(fail) BrowserJavaScriptExecutor > Property 9: Page state isolation > 鍏ㄥ眬鍙橀噺涓嶅簲璇ュ湪鎵ц闂存寔涔呭寲
 [5015.00ms]
(pass) BrowserJavaScriptExecutor > Property 10: Browser instance reuse > 澶氭鎵ц搴旇澶嶇敤鍚屼竴娴忚
鍣ㄥ疄渚?[641.00ms]
error: Test "娴忚鍣ㄥ疄渚嬪簲璇ュ湪澶氭鎵ц闂翠繚鎸佺ǔ瀹? timed out after 5000ms
(fail) BrowserJavaScriptExecutor > Property 10: Browser instance reuse > 娴忚鍣ㄥ疄渚嬪簲璇ュ湪澶氭鎵ц
闂翠繚鎸佺ǔ瀹?[5000.00ms]

# Unhandled error between tests
-------------------------------
352 |         timeout: 1000 // 1绉掕秴鏃?353 |       });
354 |       const elapsed = Date.now() - startTime;
355 | 
356 |       // 搴旇鍦ㄨ秴鏃舵椂闂撮檮杩戣繑鍥?357 |       expect(elapsed).toBeLessThan(3000); // 缁欎竴浜涗綑閲?
                            ^
error: expect(received).toBeLessThan(expected)

Expected: < 3000
Received: 43959

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\browser_javasc
ript_executor.test.js:357:23)
-------------------------------


# Unhandled error between tests
-------------------------------
151 | function buildError(errorMessage, out) {
152 |     if (out.runConfiguration.includeErrorInReport) {
153 |         throw new Error(errorMessage);
154 |     }
155 |     const ErrorWithCause = Error;
156 |     const error = new ErrorWithCause(errorMessage, { cause: out.errorInstance });
                        ^
error: Property failed after 8 tests
{ seed: -545509301, path: "7:25:2:0:0", endOnFailure: true }
Counterexample: ["me",0]
Shrunk 4 time(s)

Hint: Enable verbose mode in order to have the list of all failing values encountered durin
g the run
      at buildError (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\lib\c
heck\runner\utils\RunDetailsFormatter.js:156:19)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\lib\
check\runner\utils\RunDetailsFormatter.js:170:11)

error: expect(received).toBe(expected)

Expected: "undefined"
Received: {
  error: "js_execution_failed",
  message: "Protocol error (Target.createTarget): Target closed",
}

      at toBe (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\browser_javascript_ex
ecutor.test.js:567:28)
-------------------------------


test\platform\cancellation.test.js:
(pass) Request Cancellation and Resource Cleanup > Property 6: Request Cancellation and Res
ource Cleanup > 瀵逛簬浠讳綍琚彇娑堢殑璇锋眰锛堟棤璁烘槸闃熷垪涓繕鏄椿璺冪殑锛夛紝绯荤粺搴旀纭Щ闄ゅ畠銆佹嫆缁濆叾promise銆侀噴鏀捐祫婧愬苟澶勭悊涓嬩
竴涓槦鍒楄姹?[657.00ms]
(pass) Request Cancellation and Resource Cleanup > ConcurrencyController鍙栨秷鍔熻兘 > 搴旀纭彇娑堟椿璺
冭姹?[15.00ms]
(pass) Request Cancellation and Resource Cleanup > ConcurrencyController鍙栨秷鍔熻兘 > 搴旀纭彇娑堥槦鍒
椾腑鐨勮姹?[31.00ms]
(pass) Request Cancellation and Resource Cleanup > ConcurrencyController鍙栨秷鍔熻兘 > 鍙栨秷娲昏穬璇锋眰鍚
庡簲澶勭悊闃熷垪涓殑涓嬩竴涓姹?[79.00ms]
(pass) Request Cancellation and Resource Cleanup > ConcurrencyController鍙栨秷鍔熻兘 > 搴旀纭鐞嗕笉瀛
樺湪鐨勮姹傚彇娑?(pass) Request Cancellation and Resource Cleanup > LlmClient鍙栨秷鍔熻兘 > 搴旈€氳繃骞跺彂鎺у埗鍣
ㄥ彇娑堣姹?[15.00ms]
(pass) Request Cancellation and Resource Cleanup > LlmClient鍙栨秷鍔熻兘 > 搴旀纭鐞嗗悜鍚庡吋瀹圭殑鍙栨秷 [16
.00ms]

test\platform\capability_router.test.js:
(pass) CapabilityRouter > 鍩虹鍔熻兘娴嬭瘯 > 鍒涘缓瀹炰緥涓嶆姏鍑哄紓甯?(pass) CapabilityRouter > 鍩虹鍔熻兘娴嬭瘯 > 澶
勭悊鏃犻檮浠舵秷鎭?(pass) CapabilityRouter > 鍩虹鍔熻兘娴嬭瘯 > 澶勭悊绌烘秷鎭?(pass) CapabilityRouter > getRequir
edCapabilities 鏂规硶 > 绾枃鏈秷鎭繑鍥?text
(pass) CapabilityRouter > getRequiredCapabilities 鏂规硶 > 鍥剧墖闄勪欢闇€瑕?vision 鑳藉姏
(pass) CapabilityRouter > getRequiredCapabilities 鏂规硶 > 闊抽闄勪欢闇€瑕?audio 鑳藉姏
(pass) CapabilityRouter > getRequiredCapabilities 鏂规硶 > 鏂囦欢闄勪欢闇€瑕?file 鑳藉姏
(pass) CapabilityRouter > getRequiredCapabilities 鏂规硶 > 澶氱闄勪欢杩斿洖澶氱鑳藉姏
(pass) CapabilityRouter > checkCapabilitySupport 鏂规硶 > 鍏ㄩ儴鏀寔鏃惰繑鍥?allSupported: true
(pass) CapabilityRouter > checkCapabilitySupport 鏂规硶 > 閮ㄥ垎涓嶆敮鎸佹椂杩斿洖 allSupported: false
(pass) CapabilityRouter > Property 2: Capability Routing for Supported Types > 鏀寔鐨勫浘鐗囬檮浠惰
淇濈暀鍦ㄥ鐞嗗唴瀹逛腑
(pass) CapabilityRouter > Property 2: Capability Routing for Supported Types > 鏀寔鐨勬枃浠堕檮浠跺唴
瀹硅璇诲彇
(pass) CapabilityRouter > Property 2: Capability Routing for Supported Types > 澶氱鏀寔鐨勯檮浠堕兘
琚纭鐞?(pass) CapabilityRouter > Property 3: Fallback Conversion for Unsupported Types > 涓
嶆敮鎸佺殑闄勪欢琚浆鎹负鏂囨湰鎻忚堪 [16.00ms]
(pass) CapabilityRouter > Property 3: Fallback Conversion for Unsupported Types > 涓嶆敮鎸佺殑闄勪欢
涓嶅寘鍚師濮嬫暟鎹?(pass) CapabilityRouter > Property 3: Fallback Conversion for Unsupported Types 
> 娣峰悎鏀寔鍜屼笉鏀寔鐨勯檮浠舵纭鐞?(pass) CapabilityRouter > Property 3: Fallback Conversion for Unsu
pported Types > 鏈嶅姟涓嶅瓨鍦ㄦ椂鎵€鏈夐潪鏂囨湰闄勪欢閮戒笉鏀寔
(pass) CapabilityRouter > Property 4: Formatted Text Content Option > 浣跨敤 formattedTextCont
ent 閫夐」鏃跺簲浣跨敤棰勬牸寮忓寲鐨勬枃鏈?(pass) CapabilityRouter > Property 4: Formatted Text Content Option
 > formattedTextContent 涓庨檮浠跺鐞嗙粨鍚堜娇鐢?(pass) CapabilityRouter > Property 4: Formatted Text 
Content Option > 涓嶆敮鎸佽瑙夌殑妯″瀷鏀跺埌鍥剧墖鏃跺簲杞崲涓烘枃鏈弿杩?
test\platform\command_executor.test.js:
(pass) CommandExecutor > Property 5: 鍗遍櫓鍛戒护鎷︽埅 [172.00ms]
(pass) CommandExecutor > Property 6: 鍛戒护鎵ц瓒呮椂 [6719.00ms]
error: Test "Property 7: 鍛戒护缁撴灉瀹屾暣鎬? timed out after 5000ms (killed 1 dangling process)
(fail) CommandExecutor > Property 7: 鍛戒护缁撴灉瀹屾暣鎬?[5000.00ms]
(pass) CommandExecutor > execute runs command in correct working directory [62.00ms]
(pass) CommandExecutor > _checkCommandSafety allows safe commands
(pass) CommandExecutor > execute returns stderr for failed commands [78.00ms]

test\platform\concurrency_controller.test.js:
(pass) ConcurrencyController > RequestInfo > 搴旀纭垵濮嬪寲鎵€鏈夊睘鎬?(pass) ConcurrencyController >
 ConcurrencyStats > 搴旀纭垵濮嬪寲缁熻淇℃伅
(pass) ConcurrencyController > ConcurrencyStats > reset() 搴旈噸缃墍鏈夌粺璁′俊鎭?(pass) ConcurrencyC
ontroller > ConcurrencyStats > getSnapshot() 搴旇繑鍥炵粺璁′俊鎭殑鍓湰
(pass) ConcurrencyController > 鍩烘湰鍔熻兘 > 搴旀纭垵濮嬪寲
(pass) ConcurrencyController > 鍩烘湰鍔熻兘 > 搴旀嫆缁濇病鏈塧gentId鐨勮姹?(pass) ConcurrencyController > P
roperty 3: Concurrent Request Processing > 瀵逛簬浠讳綍娌℃湁娲昏穬璇锋眰鐨勬櫤鑳戒綋闆嗗悎锛屽綋绯荤粺骞跺彂鏁颁綆浜庢渶澶ч檺鍒舵椂锛屽畠
浠殑璇锋眰搴旂珛鍗崇嫭绔嬪鐞?(pass) ConcurrencyController > Property 5: Queue Management > 瀵逛簬浠讳綍璇锋眰锛屽綋
绯荤粺杈惧埌鏈€澶у苟鍙戞椂锛岃姹傚簲杩涘叆闃熷垪骞跺湪妲戒綅鍙敤鏃跺鐞?[16.00ms]
(pass) ConcurrencyController > 鍗曞厓娴嬭瘯 > 搴旂珛鍗冲鐞嗙涓€涓姹?(pass) ConcurrencyController > 鍗曞厓娴
嬭瘯 > 搴旀嫆缁濆悓涓€鏅鸿兘浣撶殑绗簩涓姹?[15.00ms]
(pass) ConcurrencyController > 鍗曞厓娴嬭瘯 > 搴斿湪杈惧埌骞跺彂闄愬埗鏃跺皢璇锋眰鍔犲叆闃熷垪 [31.00ms]
(pass) ConcurrencyController > 鍗曞厓娴嬭瘯 > 搴旀纭彇娑堟椿璺冭姹?[16.00ms]
(pass) ConcurrencyController > 鍗曞厓娴嬭瘯 > 搴旀纭彇娑堥槦鍒椾腑鐨勮姹?[31.00ms]
(pass) ConcurrencyController > 鍗曞厓娴嬭瘯 > 搴旀纭洿鏂版渶澶у苟鍙戞暟閰嶇疆
(pass) ConcurrencyController > 鍗曞厓娴嬭瘯 > 澧炲姞鏈€澶у苟鍙戞暟鏃跺簲澶勭悊闃熷垪涓殑璇锋眰 [32.00ms]

test\platform\config_concurrency.test.js:
151 | function buildError(errorMessage, out) {
152 |     if (out.runConfiguration.includeErrorInReport) {
153 |         throw new Error(errorMessage);
154 |     }
155 |     const ErrorWithCause = Error;
156 |     const error = new ErrorWithCause(errorMessage, { cause: out.errorInstance });
                        ^
error: Property failed after 1 tests
{ seed: 1652348884, path: "0:0", endOnFailure: true }
Counterexample: [0]
Shrunk 1 time(s)

Hint: Enable verbose mode in order to have the list of all failing values encountered durin
g the run
      at buildError (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\lib\c
heck\runner\utils\RunDetailsFormatter.js:156:19)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\lib\
check\runner\utils\RunDetailsFormatter.js:170:11)

78 |             // 鏈夋晥鍊兼椂搴斾娇鐢ㄩ厤缃€?79 |             expect(loadedConfig.llm.maxConcurrentR
equests).toBe(maxConcurrentRequests);
80 |             expect(console.warn).not.toHaveBeenCalled();
81 |           } else {
82 |             // 鏃犳晥鍊兼椂搴斾娇鐢ㄩ粯璁ゅ€?骞惰褰曡鍛?83 |             expect(loadedConfig.llm.maxCon
currentRequests).toBe(3);
                                                                ^
error: expect(received).toBe(expected)

Expected: 3
Received: 2

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\config_concurr
ency.test.js:83:60)
(fail) Config Concurrency Support > Property 1: Configuration Loading and Validation > 瀵逛簬浠
讳綍app.json閰嶇疆鏂囦欢锛岀郴缁熷簲姝ｇ‘璇诲彇maxConcurrentLlmRequests鍊硷紝鏈寚瀹氭椂浣跨敤榛樿鍊?锛屾棤鏁堝€兼椂浣跨敤榛樿鍊?骞惰鍛?[
46.00ms]
(pass) Config Concurrency Support > Property 2: Dynamic Configuration Updates > 瀵逛簬浠讳綍杩愯鏃堕
厤缃洿鏀癸紝骞跺彂鎺у埗鍣ㄥ簲鍔ㄦ€佽皟鏁村苟鍙戣姹傞檺鍒惰€屼笉涓柇娲昏穬璇锋眰 [485.00ms]
(pass) Config Concurrency Support > 鍗曞厓娴嬭瘯 > 搴旀纭鐞嗗畬鏁寸殑閰嶇疆鏂囦欢
177 | 
178 |       await writeFile(configPath, JSON.stringify(config, null, 2));
179 | 
180 |       const loadedConfig = await loadConfig(configPath);
181 | 
182 |       expect(loadedConfig.llm.maxConcurrentRequests).toBe(3);
                                                           ^
error: expect(received).toBe(expected)

Expected: 3
Received: 2

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\config_concurr
ency.test.js:182:54)
(fail) Config Concurrency Support > 鍗曞厓娴嬭瘯 > 搴斿湪缂哄皯maxConcurrentRequests鏃朵娇鐢ㄩ粯璁ゅ€?[15.00ms]
212 | 
213 |         console.warn.mockClear();
214 | 
215 |         const loadedConfig = await loadConfig(configPath);
216 | 
217 |         expect(loadedConfig.llm.maxConcurrentRequests).toBe(3);
                                                             ^
error: expect(received).toBe(expected)

Expected: 3
Received: 2

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\config_concurr
ency.test.js:217:56)
(fail) Config Concurrency Support > 鍗曞厓娴嬭瘯 > 搴斿湪鏃犳晥鍊兼椂浣跨敤榛樿鍊煎苟璁板綍璀﹀憡 [16.00ms]
237 | 
238 |       await writeFile(configPath, JSON.stringify(config, null, 2));
239 | 
240 |       const loadedConfig = await loadConfig(configPath);
241 | 
242 |       expect(loadedConfig.llm.maxConcurrentRequests).toBe(3);
                                                           ^
error: expect(received).toBe(expected)

Expected: 3
Received: 2

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\config_concurr
ency.test.js:242:54)
(fail) Config Concurrency Support > 鍗曞厓娴嬭瘯 > 搴旀纭鐞唍ull鍊?(pass) Config Concurrency Support
 > 鍗曞厓娴嬭瘯 > 搴旀纭鐞嗚竟鐣屽€?[31.00ms]

test\platform\config_service.test.js:
(pass) ConfigService > maskApiKey() > Property 6: 瀵逛簬鏈夋晥闀垮害 > 4 鐨?API Key锛屽簲鍙樉绀烘渶鍚?4 涓瓧绗?
(pass) ConfigService > maskApiKey() > Property 6: 瀵逛簬鏈夋晥闀垮害 <= 4 鐨?API Key锛屽簲瀹屽叏鎺╃爜涓?****
(pass) ConfigService > maskApiKey() > 瀵逛簬 null 鎴?undefined锛屽簲杩斿洖 ****
(pass) ConfigService > maskApiKey() > 瀵逛簬闈炲瓧绗︿覆绫诲瀷锛屽簲杩斿洖 ****
(pass) ConfigService > hasLocalConfig() > 褰?app.local.json 涓嶅瓨鍦ㄦ椂搴旇繑鍥?false
(pass) ConfigService > hasLocalConfig() > 褰?app.local.json 瀛樺湪鏃跺簲杩斿洖 true [16.00ms]
(pass) ConfigService > validateLlmConfig() > Property 2: 绌烘垨绌虹櫧鐨?baseURL 搴旈獙璇佸け璐?(pass) Con
figService > validateLlmConfig() > Property 2: 绌烘垨绌虹櫧鐨?model 搴旈獙璇佸け璐?(pass) ConfigService >
 validateLlmConfig() > 鏈夋晥鐨勯厤缃簲楠岃瘉閫氳繃
(pass) ConfigService > validateLlmService() > Property 2: 绌烘垨绌虹櫧鐨勫繀濉瓧娈靛簲楠岃瘉澶辫触
(pass) ConfigService > validateLlmService() > 鏈夋晥鐨勬湇鍔￠厤缃簲楠岃瘉閫氳繃
(pass) ConfigService - LLM Config Read/Write > getLlmConfig() > Property 7: 褰?app.local.jso
n 瀛樺湪鏃跺簲浼樺厛璇诲彇 [16.00ms]
(pass) ConfigService - LLM Config Read/Write > getLlmConfig() > Property 7: 褰?app.local.jso
n 涓嶅瓨鍦ㄦ椂搴旇鍙?app.json [15.00ms]
(pass) ConfigService - LLM Config Read/Write > getLlmConfig() > 褰撲袱涓厤缃枃浠堕兘涓嶅瓨鍦ㄦ椂搴旀姏鍑洪敊璇?(
pass) ConfigService - LLM Config Read/Write > saveLlmConfig() > Property 5: 淇濆瓨閰嶇疆鏃跺簲淇濈暀鍏朵粬
瀛楁 [16.00ms]
(pass) ConfigService - LLM Config Read/Write > saveLlmConfig() > 褰?app.local.json 涓嶅瓨鍦ㄦ椂搴斾粠
 app.json 澶嶅埗 [16.00ms]
(pass) ConfigService - LLM Config Read/Write > saveLlmConfig() > 褰?app.json 涓嶅瓨鍦ㄦ椂搴旀姏鍑洪敊璇?(
pass) ConfigService - LLM Services Management > getLlmServices() > Property 7: 褰?llmservice
s.local.json 瀛樺湪鏃跺簲浼樺厛璇诲彇 [16.00ms]
(pass) ConfigService - LLM Services Management > getLlmServices() > Property 7: 褰?llmservic
es.local.json 涓嶅瓨鍦ㄦ椂搴旇鍙?llmservices.json
(pass) ConfigService - LLM Services Management > getLlmServices() > 褰撲袱涓厤缃枃浠堕兘涓嶅瓨鍦ㄦ椂搴旇繑鍥炵
┖鍒楄〃
(pass) ConfigService - LLM Services Management > addLlmService() > Property 8: 娣诲姞閲嶅 ID 鐨勬
湇鍔″簲鎶涘嚭閿欒 [47.00ms]
(pass) ConfigService - LLM Services Management > addLlmService() > Property 8: 涓嶅悓 ID 鐨勬湇鍔″
簲鑳芥垚鍔熸坊鍔?(pass) ConfigService - LLM Services Management > addLlmService() > 娣诲姞鏈嶅姟鏃跺簲杩斿洖甯︽帺
鐮佺殑 apiKey
(pass) ConfigService - LLM Services Management > updateLlmService() > 鏇存柊涓嶅瓨鍦ㄧ殑鏈嶅姟搴旀姏鍑洪敊璇?[
31.00ms]
(pass) ConfigService - LLM Services Management > updateLlmService() > 鏇存柊鏈嶅姟搴旀纭繚瀛樻柊鍊?[47.
00ms]
(pass) ConfigService - LLM Services Management > deleteLlmService() > 鍒犻櫎涓嶅瓨鍦ㄧ殑鏈嶅姟搴旀姏鍑洪敊璇?(
pass) ConfigService - LLM Services Management > deleteLlmService() > 鍒犻櫎鏈嶅姟鍚庡簲浠庡垪琛ㄤ腑绉婚櫎 [62
.00ms]

test\platform\contact_manager.test.js:
(pass) ContactManager > Property 3: 鑱旂郴浜烘敞鍐岃〃鍒濆鍖?- 鏅€氭櫤鑳戒綋搴旇嚜鍔ㄥ寘鍚埗鏅鸿兘浣?[16.00ms]
(pass) ContactManager > Property 3: 鑱旂郴浜烘敞鍐岃〃鍒濆鍖?- root 鏅鸿兘浣撳簲鍙寘鍚?user
(pass) ContactManager > Property 3: 鑱旂郴浜烘敞鍐岃〃鍒濆鍖?- user 搴斿彧鍖呭惈 root
(pass) ContactManager > Property 3: 鑱旂郴浜烘敞鍐岃〃鍒濆鍖?- 棰勮鍗忎綔鑰呭簲琚坊鍔犲埌娉ㄥ唽琛?(pass) ContactManag
er - 鑱旂郴浜烘煡璇?> Property 5: 鑱旂郴浜烘煡璇?- canSendMessage 濮嬬粓杩斿洖 allowed: true [16.00ms]
(pass) ContactManager - 鑱旂郴浜烘煡璇?> Property 5: 鑱旂郴浜烘煡璇?- isContactKnown 搴旀纭姤鍛婃湭鐭ヨ仈绯讳汉
(pass) ContactManager - 鑱旂郴浜烘煡璇?> Property 5: 鑱旂郴浜烘煡璇?- isContactKnown 搴旀纭姤鍛婂凡鐭ヨ仈绯讳汉
(pass) ContactManager - 鑱旂郴浜烘煡璇?> Property 5: 鑱旂郴浜烘煡璇?- 鍙戦€佽€呬笉瀛樺湪鏃?isContactKnown 搴旇繑鍥為敊璇?
[15.00ms]
(pass) ContactManager - 鑱旂郴浜烘煡璇?> Property 5: 鑱旂郴浜烘煡璇?- 娣诲姞鑱旂郴浜哄悗 isContactKnown 搴旇繑鍥?true
(pass) ContactManager - 鎸佷箙鍖栭泦鎴?> 鑱旂郴浜烘敞鍐岃〃搴旇兘閫氳繃 OrgPrimitives 鎸佷箙鍖栧拰鎭㈠ [32.00ms]
(pass) ContactManager - 鎸佷箙鍖栭泦鎴?> 鍒犻櫎鑱旂郴浜烘敞鍐岃〃搴斾粠鎸佷箙鍖栦腑绉婚櫎 [15.00ms]

test\platform\content_adapter.test.js:
(pass) ContentAdapter > 鍩虹鍔熻兘娴嬭瘯 > 鍒涘缓瀹炰緥涓嶆姏鍑哄紓甯?(pass) ContentAdapter > 鍩虹鍔熻兘娴嬭瘯 > adapt
ToText 杩斿洖姝ｇ‘鐨勭粨鏋?(pass) ContentAdapter > 鍩虹鍔熻兘娴嬭瘯 > adaptMultiple 澶勭悊澶氫釜闄勪欢
(pass) ContentAdapter > 鍩虹鍔熻兘娴嬭瘯 > adaptMultiple 澶勭悊绌烘暟缁?(pass) ContentAdapter > 鍩虹鍔熻兘娴嬭瘯
 > adaptMultiple 澶勭悊闈炴暟缁勮緭鍏?[16.00ms]
(pass) ContentAdapter > formatFileSize 杈呭姪鍑芥暟 > 鏍煎紡鍖栧瓧鑺?(pass) ContentAdapter > formatFileS
ize 杈呭姪鍑芥暟 > 鏍煎紡鍖?KB
(pass) ContentAdapter > formatFileSize 杈呭姪鍑芥暟 > 鏍煎紡鍖?MB
(pass) ContentAdapter > formatFileSize 杈呭姪鍑芥暟 > 鏍煎紡鍖?GB
(pass) ContentAdapter > formatFileSize 杈呭姪鍑芥暟 > 澶勭悊鏃犳晥杈撳叆
(pass) ContentAdapter > Property 4: Content Adapter Output Completeness > 杈撳嚭鏂囨湰鍖呭惈 artifac
t reference ID
(pass) ContentAdapter > Property 4: Content Adapter Output Completeness > 杈撳嚭鏂囨湰鍖呭惈鍐呭绫诲瀷
(pass) ContentAdapter > Property 4: Content Adapter Output Completeness > 杈撳嚭鏂囨湰鍖呭惈鏂囦欢鍚嶏紙濡傛
灉鎻愪緵锛?[15.00ms]
(pass) ContentAdapter > Property 4: Content Adapter Output Completeness > 杈撳嚭鏂囨湰鍖呭惈鏂囦欢澶у皬锛堝
鏋滄彁渚涳級
160 |     return error;
161 | }
162 | function throwIfFailed(out) {
163 |     if (!out.failed)
164 |         return;
165 |     throw buildError(defaultReportMessage(out), out);
                                                         ^
error: Property failed after 1 tests
{ seed: -1926420957, path: "0:0:0:0:0:0", endOnFailure: true }
Counterexample: [{"type":"image","artifactRef":"artifact: ","filename":undefined,"size":und
efined,"mimeType":undefined}]
Shrunk 5 time(s)

Hint: Enable verbose mode in order to have the list of all failing values encountered durin
g the run
      at throwIfFailed (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\li
b\check\runner\utils\RunDetailsFormatter.js:165:52)
      at assert (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\lib\check
\runner\Runner.js:61:9)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\content_adapte
r.test.js:189:10)
(fail) ContentAdapter > Property 4: Content Adapter Output Completeness > 杈撳嚭鏂囨湰鍖呭惈杞彂寤鸿
(pass) ContentAdapter > Property 5: Structured Output Format > structuredInfo 鍖呭惈鎵€鏈夊繀闇€瀛楁
(pass) ContentAdapter > Property 5: Structured Output Format > structuredInfo 瀛楁绫诲瀷姝ｇ‘
(pass) ContentAdapter > Property 5: Structured Output Format > structuredInfo 鍙互琚?JSON 搴忓垪
鍖栧拰鍙嶅簭鍒楀寲 [16.00ms]
(pass) ContentAdapter > findCapableAgents 鏂规硶 > 娌℃湁 agentRegistry 鏃惰繑鍥炵┖鏁扮粍
(pass) ContentAdapter > findCapableAgents 鏂规硶 > 浣跨敤 getAgentsByCapability 鏂规硶
(pass) ContentAdapter > findCapableAgents 鏂规硶 > 浣跨敤 getAgents 鏂规硶閬嶅巻鏌ユ壘

test\platform\conversation_manager.test.js:
(pass) ConversationManager > 鍩虹浼氳瘽绠＄悊 > ensureConversation 鍒涘缓鏂颁細璇?(pass) ConversationMana
ger > 鍩虹浼氳瘽绠＄悊 > ensureConversation 杩斿洖宸插瓨鍦ㄧ殑浼氳瘽
(pass) ConversationManager > 鍩虹浼氳瘽绠＄悊 > getConversation 杩斿洖宸插瓨鍦ㄧ殑浼氳瘽
(pass) ConversationManager > 鍩虹浼氳瘽绠＄悊 > getConversation 杩斿洖 undefined 瀵逛簬涓嶅瓨鍦ㄧ殑浼氳瘽
(pass) ConversationManager > 鍩虹浼氳瘽绠＄悊 > hasConversation 妫€鏌ヤ細璇濇槸鍚﹀瓨鍦?(pass) ConversationMa
nager > 鍩虹浼氳瘽绠＄悊 > deleteConversation 鍒犻櫎浼氳瘽
(pass) ConversationManager > 鍩虹浼氳瘽绠＄悊 > getMessageCount 杩斿洖娑堟伅鏁伴噺
(pass) ConversationManager > 浼氳瘽鍘嬬缉 > compress 鍘嬬缉浼氳瘽鍘嗗彶
(pass) ConversationManager > 浼氳瘽鍘嬬缉 > compress 涓嶅帇缂╂秷鎭暟閲忎笉瓒崇殑浼氳瘽
(pass) ConversationManager > 浼氳瘽鍘嬬缉 > compress 杩斿洖閿欒瀵逛簬涓嶅瓨鍦ㄧ殑浼氳瘽
(pass) ConversationManager > 浼氳瘽鍘嬬缉 > compress 杩斿洖閿欒瀵逛簬鏃犳晥鐨勬憳瑕?(pass) ConversationManager 
> Token 浣跨敤缁熻 > updateTokenUsage 鏇存柊 token 浣跨敤缁熻
(pass) ConversationManager > Token 浣跨敤缁熻 > getTokenUsage 杩斿洖 null 瀵逛簬涓嶅瓨鍦ㄧ殑缁熻
(pass) ConversationManager > Token 浣跨敤缁熻 > getContextUsagePercent 璁＄畻涓婁笅鏂囦娇鐢ㄧ櫨鍒嗘瘮
(pass) ConversationManager > Token 浣跨敤缁熻 > getContextUsagePercent 杩斿洖 0 瀵逛簬娌℃湁鏁版嵁鐨勬櫤鑳戒綋
(pass) ConversationManager > Token 浣跨敤缁熻 > clearTokenUsage 娓呴櫎 token 浣跨敤缁熻
(pass) ConversationManager > 涓婁笅鏂囩姸鎬佹鏌?> getContextStatus 杩斿洖 normal 鐘舵€?(pass) Conversati
onManager > 涓婁笅鏂囩姸鎬佹鏌?> getContextStatus 杩斿洖 warning 鐘舵€?(pass) ConversationManager > 涓婁笅鏂
囩姸鎬佹鏌?> getContextStatus 杩斿洖 critical 鐘舵€?(pass) ConversationManager > 涓婁笅鏂囩姸鎬佹鏌?> getCon
textStatus 杩斿洖 exceeded 鐘舵€?(pass) ConversationManager > 涓婁笅鏂囩姸鎬佹鏌?> isContextExceeded 妫€鏌
ユ槸鍚﹁秴杩囩‖鎬ч檺鍒?(pass) ConversationManager > 涓婁笅鏂囩姸鎬佹鏌?> buildContextStatusPrompt 鐢熸垚鐘舵€佹彁绀?(
pass) ConversationManager > 涓婁笅鏂囩姸鎬佹鏌?> buildContextStatusPrompt 鍖呭惈璀﹀憡淇℃伅
(pass) ConversationManager > 宸ュ叿璋冪敤鍘嗗彶 > getLastToolCall 杩斿洖鏈€鍚庝竴涓伐鍏疯皟鐢?(pass) Conversatio
nManager > 宸ュ叿璋冪敤鍘嗗彶 > getLastToolCall 杩斿洖 null 瀵逛簬娌℃湁宸ュ叿璋冪敤鐨勪細璇?(pass) ConversationManager
 > 宸ュ叿璋冪敤鍘嗗彶 > getLastToolCall 杩斿洖 null 瀵逛簬涓嶅瓨鍦ㄧ殑浼氳瘽
(pass) ConversationManager > 宸ュ叿璋冪敤鍘嗗彶 > verifyHistoryConsistency 楠岃瘉瀵硅瘽鍘嗗彶涓€鑷存€?(pass) Con
versationManager > 宸ュ叿璋冪敤鍘嗗彶 > verifyHistoryConsistency 妫€娴嬪绔嬬殑宸ュ叿鍝嶅簲
(pass) ConversationManager > 宸ュ叿璋冪敤鍘嗗彶 > verifyHistoryConsistency 杩斿洖閿欒瀵逛簬涓嶅瓨鍦ㄧ殑浼氳瘽
(pass) ConversationManager > 鎸佷箙鍖?> persistConversationNow 淇濆瓨浼氳瘽鍒扮鐩?(pass) ConversationMa
nager > 鎸佷箙鍖?> loadAllConversations 鍔犺浇鎵€鏈変細璇?[31.00ms]
(pass) ConversationManager > 鎸佷箙鍖?> deletePersistedConversation 鍒犻櫎鎸佷箙鍖栫殑浼氳瘽
(pass) ConversationManager > 鎸佷箙鍖?> flushAll 绛夊緟鎵€鏈夊緟淇濆瓨鐨勫璇濆畬鎴?[31.00ms]
(pass) ConversationManager > 閰嶇疆 > setConversationsDir 璁剧疆鎸佷箙鍖栫洰褰?(pass) ConversationManage
r > 閰嶇疆 > setPromptTemplates 璁剧疆鎻愮ず璇嶆ā鏉?(pass) ConversationManager > 涓婁笅鏂囨鏌?> checkAndWarn
 妫€鏌ヤ笂涓嬫枃鏄惁瓒呰繃闄愬埗
(pass) ConversationManager > 涓婁笅鏂囨鏌?> checkAndWarn 杩斿洖 false 瀵逛簬鏈秴杩囬檺鍒剁殑浼氳瘽
(pass) ConversationManager > 涓婁笅鏂囨鏌?> checkAndWarn 杩斿洖 false 瀵逛簬涓嶅瓨鍦ㄧ殑浼氳瘽

test\platform\error_handling.test.js:
(pass) Error Handling and Resource Release > Property 8: Error Handling and Resource Releas
e > 瀵逛簬浠讳綍鍦ㄥ鐞嗚繃绋嬩腑澶辫触鐨勮姹傦紝绯荤粺搴旈噴鏀惧苟鍙戞Ы浣嶅苟澶勭悊涓嬩竴涓槦鍒楄姹?(pass) Error Handling and Resource
 Release > ConcurrencyController閿欒澶勭悊 > 搴旀纭鐞嗚姹傛墽琛屽け璐?(pass) Error Handling and Resourc
e Release > ConcurrencyController閿欒澶勭悊 > 澶辫触鐨勮姹傚簲閲婃斁妲戒綅骞跺鐞嗛槦鍒椾腑鐨勪笅涓€涓姹?(pass) Error Ha
ndling and Resource Release > ConcurrencyController閿欒澶勭悊 > 搴旀纭褰曢敊璇棩蹇?(pass) Error Hand
ling and Resource Release > LlmClient閿欒澶勭悊 > 搴旀纭鐞嗙綉缁滈敊璇?(pass) Error Handling and Resou
rce Release > LlmClient閿欒澶勭悊 > 搴旀纭鐞咥PI閿欒 [16.00ms]
(pass) Error Handling and Resource Release > LlmClient閿欒澶勭悊 > 閿欒澶勭悊搴斾笌骞跺彂鎺у埗姝ｇ‘闆嗘垚
(pass) Error Handling and Resource Release > LlmClient閿欒澶勭悊 > 搴旀纭鐞嗚秴鏃堕敊璇?(pass) Error H
andling and Resource Release > LlmClient閿欒澶勭悊 > 搴旀纭鐞咼SON瑙ｆ瀽閿欒
(pass) Error Handling and Resource Release > 閿欒鎭㈠ > 绯荤粺搴斿湪閿欒鍚庣户缁甯稿鐞嗘柊璇锋眰
(pass) Error Handling and Resource Release > 閿欒鎭㈠ > 澶氫釜閿欒涓嶅簲褰卞搷绯荤粺绋冲畾鎬?
test\platform\http_client.test.js:
(pass) HttpClient > URL 楠岃瘉 > 搴旀嫆缁?HTTP URL
(pass) HttpClient > URL 楠岃瘉 > 搴旀嫆缁濇棤鏁?URL
(pass) HttpClient > URL 楠岃瘉 > 搴旀帴鍙?HTTPS URL [969.00ms]
(pass) HttpClient > HTTP 鏂规硶楠岃瘉 > 搴旀嫆缁濇棤鏁堢殑 HTTP 鏂规硶
(pass) HttpClient > HTTP 鏂规硶楠岃瘉 > 搴旀帴鍙楁湁鏁堢殑 HTTP 鏂规硶 [2234.00ms]
(pass) HttpClient > 璇锋眰鏃ュ織 > 搴旇褰曡姹?ID [187.00ms]
(pass) HttpClient > 璇锋眰鏃ュ織 > 搴旇褰曟櫤鑳戒綋 ID [204.00ms]
(pass) HttpClient > 璇锋眰鏃ュ織 > 搴旇褰曡姹傛柟娉曞拰 URL [203.00ms]
(pass) HttpClient > 璇锋眰鏃ュ織 > 搴旇褰曡姹傚ご [203.00ms]
(pass) HttpClient > 璇锋眰鏃ュ織 > 搴旇褰曡姹備綋 [187.00ms]
(pass) HttpClient > createHttpClient 宸ュ巶鍑芥暟 > 搴斿垱寤?HttpClient 瀹炰緥

test\platform\http_server.test.js:
(pass) HTTPServer > Property 4: HTTP API娑堟伅杞彂涓€鑷存€?- submit绔偣涓庢帶鍒跺彴鏂瑰紡琛屼负涓€鑷?(pass) HTTPS
erver > Property 4: HTTP API娑堟伅杞彂涓€鑷存€?- send绔偣涓庢帶鍒跺彴鏂瑰紡琛屼负涓€鑷?[16.00ms]
(pass) HTTPServer > Property 4: HTTP API娑堟伅杞彂涓€鑷存€?- taskId涓庡疄闄呮秷鎭搴?(pass) HTTPServer > 
Property 5: HTTP娑堟伅鏌ヨ瀹屾暣鎬?- 娑堟伅鎸夋帴鏀堕『搴忓瓨鍌?(pass) HTTPServer > Property 5: HTTP娑堟伅鏌ヨ瀹屾暣鎬?-
 涓嶅瓨鍦ㄧ殑taskId杩斿洖绌烘暟缁?(pass) HTTPServer - 閿欒澶勭悊 > 鏈嶅姟鍣ㄥ惎鍔ㄥ拰鍋滄 [16.00ms]
(pass) HTTPServer - 閿欒澶勭悊 > 閲嶅鍚姩鏈嶅姟鍣ㄥ簲杩斿洖鎴愬姛 [15.00ms]
(pass) HTTPServer - 閿欒澶勭悊 > 鍋滄鏈惎鍔ㄧ殑鏈嶅姟鍣ㄥ簲杩斿洖鎴愬姛
(pass) HTTPServer - 閿欒澶勭悊 > GET /api/agents - society鏈垵濮嬪寲鏃惰繑鍥?00 [16.00ms]
(pass) HTTPServer - 閿欒澶勭悊 > GET /api/roles - society鏈垵濮嬪寲鏃惰繑鍥?00 [16.00ms]
(pass) HTTPServer - 閿欒澶勭悊 > GET /api/org/tree - society鏈垵濮嬪寲鏃惰繑鍥?00 [15.00ms]
(pass) HTTPServer - 閿欒澶勭悊 > GET /api/agent-messages/:agentId - 鏈夋晥agentId杩斿洖绌烘秷鎭垪琛?[16.00
ms]
(pass) HTTPServer - 閿欒澶勭悊 > GET /api/messages/:taskId - 绌簍askId杩斿洖400 [16.00ms]
(pass) HTTPServer - 閿欒澶勭悊 > GET /api/messages/:taskId - 鏈夋晥taskId杩斿洖绌烘秷鎭垪琛?[15.00ms]
(pass) HTTPServer - 閿欒澶勭悊 > POST /api/submit - society鏈垵濮嬪寲鏃惰繑鍥?00 [16.00ms]
(pass) HTTPServer - 閿欒澶勭悊 > POST /api/submit - 缂哄皯text瀛楁杩斿洖400 [15.00ms]
(pass) HTTPServer - 閿欒澶勭悊 > POST /api/submit - 鏃犳晥JSON杩斿洖400 [16.00ms]
(pass) HTTPServer - 閿欒澶勭悊 > POST /api/send - 缂哄皯agentId杩斿洖400 [16.00ms]
(pass) HTTPServer - 閿欒澶勭悊 > POST /api/send - 缂哄皯text杩斿洖400 [15.00ms]
(pass) HTTPServer - 閿欒澶勭悊 > 鏈煡璺緞杩斿洖404 [16.00ms]
(pass) HTTPServer - 閿欒澶勭悊 > OPTIONS璇锋眰杩斿洖204锛圕ORS棰勬锛?[16.00ms]
(pass) HTTPServer - 閿欒澶勭悊 > CORS澶存纭缃?[15.00ms]
2026-01-16 18:46:17.578 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
2026-01-16 18:46:17.580 [INFO] [org] 鍔犺浇缁勭粐鐘舵€佹垚鍔?{
  "roles": 1,
  "agents": 1,
  "terminations": 1,
  "contactRegistries": 0,
  "validationErrors": 0
}
2026-01-16 18:46:17.582 [INFO] [modules] 寮€濮嬪姞杞芥ā鍧?{
  "count": 1,
  "modules": [
    "chrome"
  ]
}
2026-01-16 18:46:17.582 [INFO] [runtime] Chrome 妯″潡鍒濆鍖栧畬鎴?{
  "config": {
    "headless": false
  }
}
2026-01-16 18:46:17.583 [INFO] [tool_groups] 娉ㄥ唽宸ュ叿缁?{
  "groupId": "chrome",
  "description": "Chrome 娴忚鍣ㄦ帶鍒跺伐鍏凤紝鎻愪緵鏃犲ご娴忚鍣ㄦ搷浣滆兘鍔?,
  "toolCount": 16
}
2026-01-16 18:46:17.583 [INFO] [modules] 妯″潡宸ュ叿缁勬敞鍐屾垚鍔?{
  "module": "chrome",
  "toolGroupId": "chrome",
  "toolCount": 16
}
2026-01-16 18:46:17.583 [INFO] [modules] 妯″潡鍔犺浇鎴愬姛
{
  "module": "chrome",
  "toolCount": 16,
  "tools": [
    "chrome_launch",
    "chrome_close",
    "chrome_new_tab",
    "chrome_close_tab",
    "chrome_list_tabs",
    "chrome_navigate",
    "chrome_get_url",
    "chrome_screenshot",
    "chrome_get_text",
    "chrome_get_elements",
    "chrome_click",
    "chrome_click_at",
    "chrome_type",
    "chrome_fill",
    "chrome_evaluate",
    "chrome_wait_for"
  ]
}
2026-01-16 18:46:17.583 [INFO] [modules] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:17.583 [INFO] [runtime] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": [
    "chrome"
  ],
  "errors": 0
}
2026-01-16 18:46:17.584 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
2026-01-16 18:46:17.584 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄥ垵濮嬪寲瀹屾垚
{
  "hasServices": true,
  "serviceCount": 5
}
2026-01-16 18:46:17.584 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:17.584 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:17.584 [INFO] [runtime] 涓婁笅鏂囬檺鍒堕厤缃凡鍔犺浇
{
  "maxTokens": 12000000,
  "warningThreshold": 0.7,
  "criticalThreshold": 0.9,
  "hardLimitThreshold": 0.95
}
2026-01-16 18:46:17.585 [INFO] [runtime] 鏅鸿兘浣撴仮澶嶅畬鎴?{
  "restored": 0,
  "skipped": 1,
  "total": 0
}
2026-01-16 18:46:17.587 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:17.587 [INFO] [runtime] 瀵硅瘽鍘嗗彶鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:17.587 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
2026-01-16 18:46:18.284 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:46:18.285 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 0,
  "browserJsExecutorAvailable": true
}
2026-01-16 18:46:18.285 [INFO] [runtime] 浼橀泤鍏抽棴澶勭悊宸茶缃?{
  "shutdownTimeoutMs": 30000
}
2026-01-16 18:46:18.285 [INFO] [runtime] 杩愯鏃跺父椹绘秷鎭惊鐜紑濮嬶紙鐢熶骇鑰?娑堣垂鑰呮ā寮忥級
(pass) HTTPServer - 涓嶴ociety闆嗘垚 > GET /api/agents - 杩斿洖root鍜寀ser鏅鸿兘浣?[16.00ms]
2026-01-16 18:46:18.286 [INFO] [society] 绯荤粺鍒濆鍖栧畬鎴?2026-01-16 18:46:18.309 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
2026-01-16 18:46:18.310 [INFO] [org] 鍔犺浇缁勭粐鐘舵€佹垚鍔?{
  "roles": 1,
  "agents": 1,
  "terminations": 1,
  "contactRegistries": 0,
  "validationErrors": 0
}
2026-01-16 18:46:18.313 [INFO] [modules] 寮€濮嬪姞杞芥ā鍧?{
  "count": 1,
  "modules": [
    "chrome"
  ]
}
2026-01-16 18:46:18.314 [INFO] [runtime] Chrome 妯″潡鍒濆鍖栧畬鎴?{
  "config": {
    "headless": false
  }
}
2026-01-16 18:46:18.314 [INFO] [tool_groups] 娉ㄥ唽宸ュ叿缁?{
  "groupId": "chrome",
  "description": "Chrome 娴忚鍣ㄦ帶鍒跺伐鍏凤紝鎻愪緵鏃犲ご娴忚鍣ㄦ搷浣滆兘鍔?,
  "toolCount": 16
}
2026-01-16 18:46:18.314 [INFO] [modules] 妯″潡宸ュ叿缁勬敞鍐屾垚鍔?{
  "module": "chrome",
  "toolGroupId": "chrome",
  "toolCount": 16
}
2026-01-16 18:46:18.314 [INFO] [modules] 妯″潡鍔犺浇鎴愬姛
{
  "module": "chrome",
  "toolCount": 16,
  "tools": [
    "chrome_launch",
    "chrome_close",
    "chrome_new_tab",
    "chrome_close_tab",
    "chrome_list_tabs",
    "chrome_navigate",
    "chrome_get_url",
    "chrome_screenshot",
    "chrome_get_text",
    "chrome_get_elements",
    "chrome_click",
    "chrome_click_at",
    "chrome_type",
    "chrome_fill",
    "chrome_evaluate",
    "chrome_wait_for"
  ]
}
2026-01-16 18:46:18.314 [INFO] [modules] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:18.314 [INFO] [runtime] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": [
    "chrome"
  ],
  "errors": 0
}
2026-01-16 18:46:18.315 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
2026-01-16 18:46:18.315 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄥ垵濮嬪寲瀹屾垚
{
  "hasServices": true,
  "serviceCount": 5
}
2026-01-16 18:46:18.315 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:18.315 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:18.315 [INFO] [runtime] 涓婁笅鏂囬檺鍒堕厤缃凡鍔犺浇
{
  "maxTokens": 12000000,
  "warningThreshold": 0.7,
  "criticalThreshold": 0.9,
  "hardLimitThreshold": 0.95
}
2026-01-16 18:46:18.317 [INFO] [runtime] 鏅鸿兘浣撴仮澶嶅畬鎴?{
  "restored": 0,
  "skipped": 1,
  "total": 0
}
2026-01-16 18:46:18.319 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:18.319 [INFO] [runtime] 瀵硅瘽鍘嗗彶鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:18.319 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
2026-01-16 18:46:19.196 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:46:19.196 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 0,
  "browserJsExecutorAvailable": true
}
2026-01-16 18:46:19.197 [INFO] [runtime] 浼橀泤鍏抽棴澶勭悊宸茶缃?{
  "shutdownTimeoutMs": 30000
}
2026-01-16 18:46:19.197 [INFO] [runtime] 杩愯鏃跺父椹绘秷鎭惊鐜紑濮嬶紙鐢熶骇鑰?娑堣垂鑰呮ā寮忥級
(pass) HTTPServer - 涓嶴ociety闆嗘垚 > GET /api/roles - 杩斿洖root鍜寀ser宀椾綅 [31.00ms]
2026-01-16 18:46:19.197 [INFO] [society] 绯荤粺鍒濆鍖栧畬鎴?2026-01-16 18:46:19.222 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
2026-01-16 18:46:19.223 [INFO] [org] 鍔犺浇缁勭粐鐘舵€佹垚鍔?{
  "roles": 1,
  "agents": 1,
  "terminations": 1,
  "contactRegistries": 0,
  "validationErrors": 0
}
2026-01-16 18:46:19.225 [INFO] [modules] 寮€濮嬪姞杞芥ā鍧?{
  "count": 1,
  "modules": [
    "chrome"
  ]
}
2026-01-16 18:46:19.225 [INFO] [runtime] Chrome 妯″潡鍒濆鍖栧畬鎴?{
  "config": {
    "headless": false
  }
}
2026-01-16 18:46:19.225 [INFO] [tool_groups] 娉ㄥ唽宸ュ叿缁?{
  "groupId": "chrome",
  "description": "Chrome 娴忚鍣ㄦ帶鍒跺伐鍏凤紝鎻愪緵鏃犲ご娴忚鍣ㄦ搷浣滆兘鍔?,
  "toolCount": 16
}
2026-01-16 18:46:19.225 [INFO] [modules] 妯″潡宸ュ叿缁勬敞鍐屾垚鍔?{
  "module": "chrome",
  "toolGroupId": "chrome",
  "toolCount": 16
}
2026-01-16 18:46:19.225 [INFO] [modules] 妯″潡鍔犺浇鎴愬姛
{
  "module": "chrome",
  "toolCount": 16,
  "tools": [
    "chrome_launch",
    "chrome_close",
    "chrome_new_tab",
    "chrome_close_tab",
    "chrome_list_tabs",
    "chrome_navigate",
    "chrome_get_url",
    "chrome_screenshot",
    "chrome_get_text",
    "chrome_get_elements",
    "chrome_click",
    "chrome_click_at",
    "chrome_type",
    "chrome_fill",
    "chrome_evaluate",
    "chrome_wait_for"
  ]
}
2026-01-16 18:46:19.226 [INFO] [modules] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:19.226 [INFO] [runtime] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": [
    "chrome"
  ],
  "errors": 0
}
2026-01-16 18:46:19.226 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
2026-01-16 18:46:19.227 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄥ垵濮嬪寲瀹屾垚
{
  "hasServices": true,
  "serviceCount": 5
}
2026-01-16 18:46:19.227 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:19.227 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:19.227 [INFO] [runtime] 涓婁笅鏂囬檺鍒堕厤缃凡鍔犺浇
{
  "maxTokens": 12000000,
  "warningThreshold": 0.7,
  "criticalThreshold": 0.9,
  "hardLimitThreshold": 0.95
}
2026-01-16 18:46:19.228 [INFO] [runtime] 鏅鸿兘浣撴仮澶嶅畬鎴?{
  "restored": 0,
  "skipped": 1,
  "total": 0
}
2026-01-16 18:46:19.229 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:19.229 [INFO] [runtime] 瀵硅瘽鍘嗗彶鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:19.230 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
2026-01-16 18:46:20.173 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:46:20.173 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 0,
  "browserJsExecutorAvailable": true
}
2026-01-16 18:46:20.175 [INFO] [runtime] 浼橀泤鍏抽棴澶勭悊宸茶缃?{
  "shutdownTimeoutMs": 30000
}
2026-01-16 18:46:20.175 [INFO] [runtime] 杩愯鏃跺父椹绘秷鎭惊鐜紑濮嬶紙鐢熶骇鑰?娑堣垂鑰呮ā寮忥級
(pass) HTTPServer - 涓嶴ociety闆嗘垚 > GET /api/org/tree - 杩斿洖缁勭粐鏍?[31.00ms]
2026-01-16 18:46:20.175 [INFO] [society] 绯荤粺鍒濆鍖栧畬鎴?2026-01-16 18:46:20.214 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
2026-01-16 18:46:20.216 [INFO] [org] 鍔犺浇缁勭粐鐘舵€佹垚鍔?{
  "roles": 1,
  "agents": 1,
  "terminations": 1,
  "contactRegistries": 0,
  "validationErrors": 0
}
2026-01-16 18:46:20.218 [INFO] [modules] 寮€濮嬪姞杞芥ā鍧?{
  "count": 1,
  "modules": [
    "chrome"
  ]
}
2026-01-16 18:46:20.219 [INFO] [runtime] Chrome 妯″潡鍒濆鍖栧畬鎴?{
  "config": {
    "headless": false
  }
}
2026-01-16 18:46:20.219 [INFO] [tool_groups] 娉ㄥ唽宸ュ叿缁?{
  "groupId": "chrome",
  "description": "Chrome 娴忚鍣ㄦ帶鍒跺伐鍏凤紝鎻愪緵鏃犲ご娴忚鍣ㄦ搷浣滆兘鍔?,
  "toolCount": 16
}
2026-01-16 18:46:20.219 [INFO] [modules] 妯″潡宸ュ叿缁勬敞鍐屾垚鍔?{
  "module": "chrome",
  "toolGroupId": "chrome",
  "toolCount": 16
}
2026-01-16 18:46:20.219 [INFO] [modules] 妯″潡鍔犺浇鎴愬姛
{
  "module": "chrome",
  "toolCount": 16,
  "tools": [
    "chrome_launch",
    "chrome_close",
    "chrome_new_tab",
    "chrome_close_tab",
    "chrome_list_tabs",
    "chrome_navigate",
    "chrome_get_url",
    "chrome_screenshot",
    "chrome_get_text",
    "chrome_get_elements",
    "chrome_click",
    "chrome_click_at",
    "chrome_type",
    "chrome_fill",
    "chrome_evaluate",
    "chrome_wait_for"
  ]
}
2026-01-16 18:46:20.219 [INFO] [modules] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:20.219 [INFO] [runtime] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": [
    "chrome"
  ],
  "errors": 0
}
2026-01-16 18:46:20.220 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
2026-01-16 18:46:20.220 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄥ垵濮嬪寲瀹屾垚
{
  "hasServices": true,
  "serviceCount": 5
}
2026-01-16 18:46:20.221 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:20.221 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:20.221 [INFO] [runtime] 涓婁笅鏂囬檺鍒堕厤缃凡鍔犺浇
{
  "maxTokens": 12000000,
  "warningThreshold": 0.7,
  "criticalThreshold": 0.9,
  "hardLimitThreshold": 0.95
}
2026-01-16 18:46:20.224 [INFO] [runtime] 鏅鸿兘浣撴仮澶嶅畬鎴?{
  "restored": 0,
  "skipped": 1,
  "total": 0
}
2026-01-16 18:46:20.225 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:20.226 [INFO] [runtime] 瀵硅瘽鍘嗗彶鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:20.226 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
2026-01-16 18:46:21.849 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:46:21.849 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 0,
  "browserJsExecutorAvailable": true
}
2026-01-16 18:46:21.850 [INFO] [runtime] 浼橀泤鍏抽棴澶勭悊宸茶缃?{
  "shutdownTimeoutMs": 30000
}
2026-01-16 18:46:21.850 [INFO] [runtime] 杩愯鏃跺父椹绘秷鎭惊鐜紑濮嬶紙鐢熶骇鑰?娑堣垂鑰呮ā寮忥級
2026-01-16 18:46:21.850 [INFO] [society] 绯荤粺鍒濆鍖栧畬鎴?2026-01-16 18:46:21.885 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "user",
  "id": "8d029d27-6419-407f-afdd-794745c18446",
  "to": "root",
  "from": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "娴嬭瘯闇€姹?
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:46:21.885 [INFO] [society] 鐢ㄦ埛娑堟伅宸插彂閫?{
  "toAgentId": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "hasAttachments": false
}
2026-01-16 18:46:21.885 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "root",
  "to": "root",
  "id": "8d029d27-6419-407f-afdd-794745c18446",
  "from": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "娴嬭瘯闇€姹?
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:46:21.885 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "root",
  "messageId": "8d029d27-6419-407f-afdd-794745c18446",
  "from": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:21.891 [INFO] [runtime] 妫€鏌ユ秷鎭檮浠?{
  "agentId": "root",
  "hasImages": false,
  "hasFiles": false,
  "payloadType": "object",
  "attachmentsCount": 0
}
2026-01-16 18:46:21.891 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "8d029d27-6419-407f-afdd-794745c18446",
  "messageFrom": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 1
}
2026-01-16 18:46:21.891 [INFO] [llm] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "root",
  "activeCount": 1,
  "queueLength": 0
}
(pass) HTTPServer - 涓嶴ociety闆嗘垚 > POST /api/submit - 鎴愬姛鎻愪氦闇€姹?[47.00ms]
2026-01-16 18:46:21.894 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
2026-01-16 18:46:21.895 [INFO] [org] 鍔犺浇缁勭粐鐘舵€佹垚鍔?{
  "roles": 1,
  "agents": 1,
  "terminations": 1,
  "contactRegistries": 0,
  "validationErrors": 0
}
2026-01-16 18:46:21.896 [INFO] [llm] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "8d029d27-6419-407f-afdd-794745c18446",
    "messageFrom": "user",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 1
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "user",
      "content": "from=user\nto=root\ntaskId=983491d1-5274-4e35-9e24-bca90040f859\npayload=娴嬭瘯闇€姹俓n\n銆愪笂涓嬫枃鐘舵€併€戝凡浣跨敤 9277/12000000 tokens (0.1%)\r\n"
    }
  }
}
2026-01-16 18:46:21.898 [INFO] [modules] 寮€濮嬪姞杞芥ā鍧?{
  "count": 1,
  "modules": [
    "chrome"
  ]
}
2026-01-16 18:46:21.898 [INFO] [runtime] Chrome 妯″潡鍒濆鍖栧畬鎴?{
  "config": {
    "headless": false
  }
}
2026-01-16 18:46:21.898 [INFO] [tool_groups] 娉ㄥ唽宸ュ叿缁?{
  "groupId": "chrome",
  "description": "Chrome 娴忚鍣ㄦ帶鍒跺伐鍏凤紝鎻愪緵鏃犲ご娴忚鍣ㄦ搷浣滆兘鍔?,
  "toolCount": 16
}
2026-01-16 18:46:21.898 [INFO] [modules] 妯″潡宸ュ叿缁勬敞鍐屾垚鍔?{
  "module": "chrome",
  "toolGroupId": "chrome",
  "toolCount": 16
}
2026-01-16 18:46:21.898 [INFO] [modules] 妯″潡鍔犺浇鎴愬姛
{
  "module": "chrome",
  "toolCount": 16,
  "tools": [
    "chrome_launch",
    "chrome_close",
    "chrome_new_tab",
    "chrome_close_tab",
    "chrome_list_tabs",
    "chrome_navigate",
    "chrome_get_url",
    "chrome_screenshot",
    "chrome_get_text",
    "chrome_get_elements",
    "chrome_click",
    "chrome_click_at",
    "chrome_type",
    "chrome_fill",
    "chrome_evaluate",
    "chrome_wait_for"
  ]
}
2026-01-16 18:46:21.898 [INFO] [modules] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:21.898 [INFO] [runtime] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": [
    "chrome"
  ],
  "errors": 0
}
2026-01-16 18:46:21.906 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
2026-01-16 18:46:21.908 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄥ垵濮嬪寲瀹屾垚
{
  "hasServices": true,
  "serviceCount": 5
}
2026-01-16 18:46:21.909 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:21.909 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:21.909 [INFO] [runtime] 涓婁笅鏂囬檺鍒堕厤缃凡鍔犺浇
{
  "maxTokens": 12000000,
  "warningThreshold": 0.7,
  "criticalThreshold": 0.9,
  "hardLimitThreshold": 0.95
}
2026-01-16 18:46:21.911 [INFO] [runtime] 鏅鸿兘浣撴仮澶嶅畬鎴?{
  "restored": 0,
  "skipped": 1,
  "total": 0
}
2026-01-16 18:46:21.914 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:21.914 [INFO] [runtime] 瀵硅瘽鍘嗗彶鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:21.914 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
2026-01-16 18:46:23.200 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:46:23.200 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 0,
  "browserJsExecutorAvailable": true
}
2026-01-16 18:46:23.201 [INFO] [runtime] 浼橀泤鍏抽棴澶勭悊宸茶缃?{
  "shutdownTimeoutMs": 30000
}
2026-01-16 18:46:23.201 [INFO] [runtime] 杩愯鏃跺父椹绘秷鎭惊鐜紑濮嬶紙鐢熶骇鑰?娑堣垂鑰呮ā寮忥級
2026-01-16 18:46:23.201 [INFO] [society] 绯荤粺鍒濆鍖栧畬鎴?2026-01-16 18:46:23.221 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "user",
  "id": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
  "to": "root",
  "from": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "娴嬭瘯娑堟伅"
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:46:23.221 [INFO] [society] 鐢ㄦ埛娑堟伅宸插彂閫?{
  "toAgentId": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "hasAttachments": false
}
2026-01-16 18:46:23.222 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "root",
  "to": "root",
  "id": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
  "from": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "娴嬭瘯娑堟伅"
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:46:23.222 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "root",
  "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
  "from": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:23.222 [INFO] [runtime] 妫€鏌ユ秷鎭檮浠?{
  "agentId": "root",
  "hasImages": false,
  "hasFiles": false,
  "payloadType": "object",
  "attachmentsCount": 0
}
2026-01-16 18:46:23.223 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
  "messageFrom": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 1
}
2026-01-16 18:46:23.223 [INFO] [llm] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "root",
  "activeCount": 1,
  "queueLength": 0
}
(pass) HTTPServer - 涓嶴ociety闆嗘垚 > POST /api/send - 鎴愬姛鍙戦€佹秷鎭?[16.00ms]
2026-01-16 18:46:23.225 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
2026-01-16 18:46:23.225 [INFO] [llm] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
    "messageFrom": "user",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 1
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "user",
      "content": "from=user\nto=root\ntaskId=c84d3446-34c2-4bb8-9354-c2dfe9b0c617\npayload=娴嬭瘯娑堟伅\n\n銆愪笂涓嬫枃鐘舵€併€戝凡浣跨敤 9277/12000000 tokens (0.1%)\r\n"
    }
  }
}
2026-01-16 18:46:23.226 [INFO] [org] 鍔犺浇缁勭粐鐘舵€佹垚鍔?{
  "roles": 1,
  "agents": 1,
  "terminations": 1,
  "contactRegistries": 0,
  "validationErrors": 0
}
2026-01-16 18:46:23.229 [INFO] [modules] 寮€濮嬪姞杞芥ā鍧?{
  "count": 1,
  "modules": [
    "chrome"
  ]
}
2026-01-16 18:46:23.229 [INFO] [runtime] Chrome 妯″潡鍒濆鍖栧畬鎴?{
  "config": {
    "headless": false
  }
}
2026-01-16 18:46:23.229 [INFO] [tool_groups] 娉ㄥ唽宸ュ叿缁?{
  "groupId": "chrome",
  "description": "Chrome 娴忚鍣ㄦ帶鍒跺伐鍏凤紝鎻愪緵鏃犲ご娴忚鍣ㄦ搷浣滆兘鍔?,
  "toolCount": 16
}
2026-01-16 18:46:23.229 [INFO] [modules] 妯″潡宸ュ叿缁勬敞鍐屾垚鍔?{
  "module": "chrome",
  "toolGroupId": "chrome",
  "toolCount": 16
}
2026-01-16 18:46:23.229 [INFO] [modules] 妯″潡鍔犺浇鎴愬姛
{
  "module": "chrome",
  "toolCount": 16,
  "tools": [
    "chrome_launch",
    "chrome_close",
    "chrome_new_tab",
    "chrome_close_tab",
    "chrome_list_tabs",
    "chrome_navigate",
    "chrome_get_url",
    "chrome_screenshot",
    "chrome_get_text",
    "chrome_get_elements",
    "chrome_click",
    "chrome_click_at",
    "chrome_type",
    "chrome_fill",
    "chrome_evaluate",
    "chrome_wait_for"
  ]
}
2026-01-16 18:46:23.229 [INFO] [modules] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:23.229 [INFO] [runtime] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": [
    "chrome"
  ],
  "errors": 0
}
2026-01-16 18:46:23.230 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
2026-01-16 18:46:23.231 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄥ垵濮嬪寲瀹屾垚
{
  "hasServices": true,
  "serviceCount": 5
}
2026-01-16 18:46:23.231 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:23.231 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:23.231 [INFO] [runtime] 涓婁笅鏂囬檺鍒堕厤缃凡鍔犺浇
{
  "maxTokens": 12000000,
  "warningThreshold": 0.7,
  "criticalThreshold": 0.9,
  "hardLimitThreshold": 0.95
}
2026-01-16 18:46:23.232 [INFO] [runtime] 鏅鸿兘浣撴仮澶嶅畬鎴?{
  "restored": 0,
  "skipped": 1,
  "total": 0
}
2026-01-16 18:46:23.234 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:23.234 [INFO] [runtime] 瀵硅瘽鍘嗗彶鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:23.234 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
2026-01-16 18:46:25.035 [INFO] [llm] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "8d029d27-6419-407f-afdd-794745c18446",
    "messageFrom": "user",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 1
  },
  "message": {
    "content": "",
    "reasoning_content": "鐢ㄦ埛鍐嶆鍙戦€佷簡涓€涓猏"娴嬭瘯闇€姹俓"銆傝繖鏄笌涔嬪墠鐩稿悓鐨勯渶姹傘€傛牴鎹垜鐨勮鍒欙紝鎴戝簲璇ワ細\n\n1. 妫€鏌ユ槸鍚﹀凡缁忓垱寤轰簡鐩稿簲鐨勫矖浣嶅拰鏅鸿兘浣揬n2. 濡傛灉宸插瓨鍦紝搴旇澶嶇敤\n3. 浣嗘槸鏍规嵁鎴戠殑鑱岃矗锛屾垜搴旇\"鍙兘鍒涘缓 1 涓瓙鏅鸿兘浣撳疄渚嬶紱绂佹鍒涘缓澶氫釜锛涜嫢宸插垱寤哄繀椤诲鐢╘"\n\n浣嗕箣鍓嶆垜宸茬粡鍒涘缓鐨勬櫤鑳戒綋宸茬粡琚粓姝簡锛坱erminate_agent锛夛紝鎵€浠ョ幇鍦ㄧ郴缁熶腑娌℃湁姝ｅ湪杩愯鐨勬櫤鑳戒綋浜嗐€俓n\n璁╂垜閲嶆柊璇勪及锛氱敤鎴风殑闇€姹傛槸\"娴嬭瘯闇€姹俓"锛岃繖瀹為檯涓婃槸瑕侀獙璇佺郴缁熻兘鍚︽甯稿伐浣溿€傛垜搴旇锛歕n1. 鍒涘缓涓€涓矖浣嶏紙鍙兘鍙互澶嶇敤涔嬪墠鐨勫矖浣?ID锛屽鏋滃畠杩樺湪鐨勮瘽锛塡n2. 鍒涘缓涓€涓柊鐨勬櫤鑳戒綋瀹炰緥\n3. 鍙戦€佷换鍔¤鏄嶾n\n浣嗘槸锛屾垜宸茬粡鍦ㄤ箣鍓嶅垱寤鸿繃 \"task_executor\" 杩欎釜宀椾綅浜嗐€傛垜搴旇妫€鏌ヨ繖涓矖浣嶆槸鍚﹁繕鍦紝濡傛灉杩樺湪锛屽彲浠ュ鐢ㄥ畠銆俓n\n璁╂垜鍏堝皾璇曟壘鍒拌繖涓矖浣嶃€?,
    "role": "assistant",
    "tool_calls": [
      {
        "function": {
          "arguments": "{\"name\":\"task_executor\"}",
          "name": "find_role_by_name"
        },
        "id": "call_-7970954726311876772",
        "index": 0,
        "type": "function"
      }
    ]
  }
}
2026-01-16 18:46:25.039 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "8d029d27-6419-407f-afdd-794745c18446",
  "messageFrom": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 1,
  "latencyMs": 3136,
  "promptTokens": 9140,
  "completionTokens": 208,
  "totalTokens": 9348,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:46:25.044 [INFO] [llm] LLM璇锋眰瀹屾垚
{
  "agentId": "root",
  "activeCount": 0
}
2026-01-16 18:46:25.049 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "8d029d27-6419-407f-afdd-794745c18446",
  "messageFrom": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 2
}
2026-01-16 18:46:25.049 [INFO] [llm] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "root",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:46:25.054 [INFO] [llm] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "8d029d27-6419-407f-afdd-794745c18446",
    "messageFrom": "user",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 2
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "tool",
      "tool_call_id": "call_-7970954726311876772",
      "content": "{\"id\":\"b51806f1-d0de-4439-b4c4-caa618eba5d9\",\"name\":\"task_executor\",\"rolePrompt\":\"璐熻矗鎵ц鍚勭娴嬭瘯浠诲姟鍜岄€氱敤浠诲姟銆傞渶瑕佸悜鐢ㄦ埛绔偣锛坱o=user锛夊弽棣堜换鍔¤繘搴﹀拰缁撴灉锛屽悜涓婄骇鏅鸿兘浣撴眹鎶ヤ换鍔″畬鎴愭儏鍐点€傜姝㈢紪閫犵粨鏋滐紝濡傛灉缂哄皯蹇呰宸ュ叿鏃犳硶瀹屾垚浠诲姟锛屽繀椤绘槑纭鏄庨檺鍒躲€備换鍔＄粨鏉熷悗鍏堟眹鎶ョ粨鏋滐紝鐒跺悗鍋滄璋冪敤宸ュ叿绛夊緟杩涗竴姝ユ寚绀烘垨缁堟銆俓",\"createdBy\":\"root\",\"createdAt\":\"2026-01-16T18:31:29.679+00:00\",\"status\":\"active\",\"llmServiceId\":\"max-model\",\"toolGroups\":null}"
    }
  }
}
2026-01-16 18:46:25.603 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:46:25.603 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 0,
  "browserJsExecutorAvailable": true
}
2026-01-16 18:46:25.604 [INFO] [runtime] 浼橀泤鍏抽棴澶勭悊宸茶缃?{
  "shutdownTimeoutMs": 30000
}
2026-01-16 18:46:25.604 [INFO] [runtime] 杩愯鏃跺父椹绘秷鎭惊鐜紑濮嬶紙鐢熶骇鑰?娑堣垂鑰呮ā寮忥級
(pass) HTTPServer - LLM 涓柇 API > POST /api/agent/:agentId/abort - society鏈垵濮嬪寲鏃惰繑鍥?00 [31
.00ms]
2026-01-16 18:46:25.604 [INFO] [society] 绯荤粺鍒濆鍖栧畬鎴?2026-01-16 18:46:25.630 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
2026-01-16 18:46:25.632 [INFO] [org] 鍔犺浇缁勭粐鐘舵€佹垚鍔?{
  "roles": 1,
  "agents": 1,
  "terminations": 1,
  "contactRegistries": 0,
  "validationErrors": 0
}
2026-01-16 18:46:25.634 [INFO] [modules] 寮€濮嬪姞杞芥ā鍧?{
  "count": 1,
  "modules": [
    "chrome"
  ]
}
2026-01-16 18:46:25.635 [INFO] [runtime] Chrome 妯″潡鍒濆鍖栧畬鎴?{
  "config": {
    "headless": false
  }
}
2026-01-16 18:46:25.635 [INFO] [tool_groups] 娉ㄥ唽宸ュ叿缁?{
  "groupId": "chrome",
  "description": "Chrome 娴忚鍣ㄦ帶鍒跺伐鍏凤紝鎻愪緵鏃犲ご娴忚鍣ㄦ搷浣滆兘鍔?,
  "toolCount": 16
}
2026-01-16 18:46:25.635 [INFO] [modules] 妯″潡宸ュ叿缁勬敞鍐屾垚鍔?{
  "module": "chrome",
  "toolGroupId": "chrome",
  "toolCount": 16
}
2026-01-16 18:46:25.635 [INFO] [modules] 妯″潡鍔犺浇鎴愬姛
{
  "module": "chrome",
  "toolCount": 16,
  "tools": [
    "chrome_launch",
    "chrome_close",
    "chrome_new_tab",
    "chrome_close_tab",
    "chrome_list_tabs",
    "chrome_navigate",
    "chrome_get_url",
    "chrome_screenshot",
    "chrome_get_text",
    "chrome_get_elements",
    "chrome_click",
    "chrome_click_at",
    "chrome_type",
    "chrome_fill",
    "chrome_evaluate",
    "chrome_wait_for"
  ]
}
2026-01-16 18:46:25.635 [INFO] [modules] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:25.635 [INFO] [runtime] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": [
    "chrome"
  ],
  "errors": 0
}
2026-01-16 18:46:25.635 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
2026-01-16 18:46:25.636 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄥ垵濮嬪寲瀹屾垚
{
  "hasServices": true,
  "serviceCount": 5
}
2026-01-16 18:46:25.636 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:25.636 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:25.636 [INFO] [runtime] 涓婁笅鏂囬檺鍒堕厤缃凡鍔犺浇
{
  "maxTokens": 12000000,
  "warningThreshold": 0.7,
  "criticalThreshold": 0.9,
  "hardLimitThreshold": 0.95
}
2026-01-16 18:46:25.638 [INFO] [runtime] 鏅鸿兘浣撴仮澶嶅畬鎴?{
  "restored": 0,
  "skipped": 1,
  "total": 0
}
2026-01-16 18:46:25.640 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:25.640 [INFO] [runtime] 瀵硅瘽鍘嗗彶鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:25.640 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
2026-01-16 18:46:25.747 [INFO] [llm] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
    "messageFrom": "user",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 1
  },
  "message": {
    "content": "",
    "reasoning_content": "鐢ㄦ埛鍙堝彂閫佷簡涓€涓祴璇曟秷鎭€傛牴鎹甊oot鏅鸿兘浣撶殑鑱岃矗锛屾垜闇€瑕侊細\n\n1. 妫€鏌ユ槸鍚﹀凡缁忔湁鍚堥€傜殑宀椾綅瀛樺湪\n2. 濡傛灉娌℃湁锛屽垱寤哄矖浣峔n3. 鍒涘缓瀛愭櫤鑳戒綋瀹炰緥\n4. 鍙戦€佷换鍔¤鏄嶾n\n杩欐鐢ㄦ埛鐨勯渶姹傛槸\"娴嬭瘯娑堟伅\"锛屽拰涔嬪墠鐨刓"娴嬭瘯闇€姹俓"绫讳技銆傛垜鍙互澶嶇敤涔嬪墠鍒涘缓鐨刓"task_executor\"宀椾綅锛屾垨鑰呭垱寤轰竴涓柊鐨勩€俓n\n鏍规嵁鍘熷垯锛屽鏋滃凡缁忔湁鍚堥€傜殑宀椾綅锛屽簲璇ュ鐢ㄣ€傛垜鍙互浣跨敤 find_role_by_name 鏉ユ煡鎵炬槸鍚﹀凡缁忓瓨鍦?\"task_executor\" 宀椾綅銆俓n\n璁╂垜鍏堟煡鎵句竴涓嬨€?,
    "role": "assistant",
    "tool_calls": [
      {
        "function": {
          "arguments": "{\"name\":\"task_executor\"}",
          "name": "find_role_by_name"
        },
        "id": "call_-7971009633175634149",
        "index": 0,
        "type": "function"
      }
    ]
  }
}
2026-01-16 18:46:25.748 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
  "messageFrom": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 1,
  "latencyMs": 2520,
  "promptTokens": 9142,
  "completionTokens": 135,
  "totalTokens": 9277,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:46:25.750 [INFO] [llm] LLM璇锋眰瀹屾垚
{
  "agentId": "root",
  "activeCount": 0
}
2026-01-16 18:46:25.751 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
  "messageFrom": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 2
}
2026-01-16 18:46:25.751 [INFO] [llm] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "root",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:46:25.753 [INFO] [llm] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
    "messageFrom": "user",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 2
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "tool",
      "tool_call_id": "call_-7971009633175634149",
      "content": "{\"id\":\"b51806f1-d0de-4439-b4c4-caa618eba5d9\",\"name\":\"task_executor\",\"rolePrompt\":\"璐熻矗鎵ц鍚勭娴嬭瘯浠诲姟鍜岄€氱敤浠诲姟銆傞渶瑕佸悜鐢ㄦ埛绔偣锛坱o=user锛夊弽棣堜换鍔¤繘搴﹀拰缁撴灉锛屽悜涓婄骇鏅鸿兘浣撴眹鎶ヤ换鍔″畬鎴愭儏鍐点€傜姝㈢紪閫犵粨鏋滐紝濡傛灉缂哄皯蹇呰宸ュ叿鏃犳硶瀹屾垚浠诲姟锛屽繀椤绘槑纭鏄庨檺鍒躲€備换鍔＄粨鏉熷悗鍏堟眹鎶ョ粨鏋滐紝鐒跺悗鍋滄璋冪敤宸ュ叿绛夊緟杩涗竴姝ユ寚绀烘垨缁堟銆俓",\"createdBy\":\"root\",\"createdAt\":\"2026-01-16T18:31:29.679+00:00\",\"status\":\"active\",\"llmServiceId\":\"max-model\",\"toolGroups\":null}"
    }
  }
}
2026-01-16 18:46:27.209 [INFO] [llm] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "8d029d27-6419-407f-afdd-794745c18446",
    "messageFrom": "user",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 2
  },
  "message": {
    "content": "",
    "reasoning_content": "寰堝ソ锛宼ask_executor 宀椾綅杩樺湪锛屾垜鍙互鐩存帴浣跨敤瀹冩潵鍒涘缓鏂扮殑鏅鸿兘浣撳疄渚嬶紝涓嶉渶瑕侀噸鏂板垱寤哄矖浣嶃€俓n\n鐜板湪鎴戦渶瑕侊細\n1. 浣跨敤宸叉湁鐨勫矖浣?ID 鍒涘缓鏂扮殑鏅鸿兘浣撳疄渚媆n2. 鍙戦€佷换鍔¤鏄庣粰杩欎釜鏅鸿兘浣?,
    "role": "assistant",
    "tool_calls": [
      {
        "function": {
          "arguments": "{\"roleId\":\"b51806f1-d0de-4439-b4c4-caa618eba5d9\",\"taskBrief\":{\"objective\": \"澶勭悊娴嬭瘯闇€姹傦紝楠岃瘉鏅鸿兘浣撶郴缁熷姛鑳芥槸鍚︽甯竆", \"constraints\": [\"鏃犵壒娈婃妧鏈害鏉焅"], \"inputs\": \"鐢ㄦ埛鎻愪氦浜嗙畝鍗曠殑娴嬭瘯闇€姹俓", \"outputs\": \"鍚戠敤鎴风鐐癸紙to=user锛夊彂閫佹祴璇曠粨鏋滄秷鎭痋", \"completion_criteria\": \"娴嬭瘯浠诲姟瀹屾垚骞跺悜鐢ㄦ埛姹囨姤缁撴灉鍚庯紝浠诲姟鍗崇粨鏉焅"}}",
          "name": "spawn_agent"
        },
        "id": "call_-7970998878576993456",
        "index": 0,
        "type": "function"
      }
    ]
  }
}
2026-01-16 18:46:27.216 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "8d029d27-6419-407f-afdd-794745c18446",
  "messageFrom": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 2,
  "latencyMs": 2147,
  "promptTokens": 9499,
  "completionTokens": 163,
  "totalTokens": 9662,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:46:27.219 [INFO] [llm] LLM璇锋眰瀹屾垚
{
  "agentId": "root",
  "activeCount": 0
}
2026-01-16 18:46:27.228 [INFO] [org] 鍒涘缓鏅鸿兘浣撳厓鏁版嵁
{
  "id": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
  "parentAgentId": "root",
  "status": "active"
}
2026-01-16 18:46:27.229 [WARN] [contact] 娣诲姞鑱旂郴浜哄け璐ワ細鏅鸿兘浣撴敞鍐岃〃涓嶅瓨鍦?{
  "agentId": "root",
  "contactId": "6339ff92-78a0-4f75-8725-fc51d330a187"
}
2026-01-16 18:46:27.228 [INFO] [workspace] 宸ヤ綔绌洪棿鍒嗛厤鎴愬姛锛堟噿鍔犺浇锛?{
  "workspaceId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "workspacePath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\data\\runtime\\workspaces\\6339ff92-78a0-4f75-8725-fc51d330a187"
}
2026-01-16 18:46:27.228 [INFO] [runtime] 涓烘櫤鑳戒綋鍒嗛厤宸ヤ綔绌洪棿
{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "workspaceId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "workspacePath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\data\\runtime\\workspaces\\6339ff92-78a0-4f75-8725-fc51d330a187"
}
2026-01-16 18:46:27.228 [INFO] [runtime] 鍒涘缓鏅鸿兘浣撳疄渚?{
  "id": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
  "roleName": "task_executor",
  "parentAgentId": "root"
}
2026-01-16 18:46:27.228 [INFO] [lifecycle] 鏅鸿兘浣撳垱寤?{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
  "roleName": "task_executor",
  "parentAgentId": "root",
  "eventType": "agent_created"
}
2026-01-16 18:46:27.229 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "root",
  "id": "60859a18-36b6-477f-98f1-210a8b1a4c78",
  "to": "user",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187"
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:46:27.229 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "8d029d27-6419-407f-afdd-794745c18446",
  "messageFrom": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 3
}
2026-01-16 18:46:27.229 [INFO] [llm] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "root",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:46:27.229 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "user",
  "to": "user",
  "id": "60859a18-36b6-477f-98f1-210a8b1a4c78",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187"
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:46:27.229 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "user",
  "messageId": "60859a18-36b6-477f-98f1-210a8b1a4c78",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:27.229 [INFO] [society] 鐢ㄦ埛绔偣鏀跺埌娑堟伅
{
  "agentId": "user",
  "messageId": "60859a18-36b6-477f-98f1-210a8b1a4c78",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187"
  },
  "payloadPreview": "{\n  \"agentId\": \"6339ff92-78a0-4f75-8725-fc51d330a187\"\n}"
}
[user] from=root taskId=983491d1-5274-4e35-9e24-bca90040f859
{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187"
}
2026-01-16 18:46:27.233 [INFO] [llm] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "8d029d27-6419-407f-afdd-794745c18446",
    "messageFrom": "user",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 3
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "tool",
      "tool_call_id": "call_-7970998878576993456",
      "content": "{\"id\":\"6339ff92-78a0-4f75-8725-fc51d330a187\",\"roleId\":\"b51806f1-d0de-4439-b4c4-caa618eba5d9\",\"roleName\":\"task_executor\"}"
    }
  }
}
2026-01-16 18:46:27.360 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:46:27.361 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 0,
  "browserJsExecutorAvailable": true
}
2026-01-16 18:46:27.361 [INFO] [runtime] 浼橀泤鍏抽棴澶勭悊宸茶缃?{
  "shutdownTimeoutMs": 30000
}
2026-01-16 18:46:27.361 [INFO] [runtime] 杩愯鏃跺父椹绘秷鎭惊鐜紑濮嬶紙鐢熶骇鑰?娑堣垂鑰呮ā寮忥級
2026-01-16 18:46:27.361 [INFO] [society] 绯荤粺鍒濆鍖栧畬鎴?2026-01-16 18:46:27.378 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
2026-01-16 18:46:27.379 [INFO] [org] 鍔犺浇缁勭粐鐘舵€佹垚鍔?{
  "roles": 1,
  "agents": 2,
  "terminations": 1,
  "contactRegistries": 0,
  "validationErrors": 0
}
2026-01-16 18:46:27.381 [INFO] [modules] 寮€濮嬪姞杞芥ā鍧?{
  "count": 1,
  "modules": [
    "chrome"
  ]
}
2026-01-16 18:46:27.381 [INFO] [runtime] Chrome 妯″潡鍒濆鍖栧畬鎴?{
  "config": {
    "headless": false
  }
}
2026-01-16 18:46:27.381 [INFO] [tool_groups] 娉ㄥ唽宸ュ叿缁?{
(pass) HTTPServer - LLM 涓柇 API > POST /api/agent/:agentId/abort - 鏅鸿兘浣撲笉瀛樺湪鏃惰繑鍥?04 [16.00m
s]
  "groupId": "chrome",
  "description": "Chrome 娴忚鍣ㄦ帶鍒跺伐鍏凤紝鎻愪緵鏃犲ご娴忚鍣ㄦ搷浣滆兘鍔?,
  "toolCount": 16
}
2026-01-16 18:46:27.381 [INFO] [modules] 妯″潡宸ュ叿缁勬敞鍐屾垚鍔?{
  "module": "chrome",
  "toolGroupId": "chrome",
  "toolCount": 16
}
2026-01-16 18:46:27.381 [INFO] [modules] 妯″潡鍔犺浇鎴愬姛
{
  "module": "chrome",
  "toolCount": 16,
  "tools": [
    "chrome_launch",
    "chrome_close",
    "chrome_new_tab",
    "chrome_close_tab",
    "chrome_list_tabs",
    "chrome_navigate",
    "chrome_get_url",
    "chrome_screenshot",
    "chrome_get_text",
    "chrome_get_elements",
    "chrome_click",
    "chrome_click_at",
    "chrome_type",
    "chrome_fill",
    "chrome_evaluate",
    "chrome_wait_for"
  ]
}
2026-01-16 18:46:27.381 [INFO] [modules] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:27.381 [INFO] [runtime] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": [
    "chrome"
  ],
  "errors": 0
}
2026-01-16 18:46:27.382 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
2026-01-16 18:46:27.382 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄥ垵濮嬪寲瀹屾垚
{
  "hasServices": true,
  "serviceCount": 5
}
2026-01-16 18:46:27.382 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:27.383 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:27.383 [INFO] [runtime] 涓婁笅鏂囬檺鍒堕厤缃凡鍔犺浇
{
  "maxTokens": 12000000,
  "warningThreshold": 0.7,
  "criticalThreshold": 0.9,
  "hardLimitThreshold": 0.95
}
2026-01-16 18:46:27.384 [INFO] [runtime] 鏅鸿兘浣撴仮澶嶅畬鎴?{
  "restored": 1,
  "skipped": 1,
  "total": 1
}
2026-01-16 18:46:27.385 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:27.386 [INFO] [runtime] 瀵硅瘽鍘嗗彶鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:27.386 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
2026-01-16 18:46:27.605 [INFO] [llm] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
2026-01-16 18:46:27.615 [WARN] [contact] 娣诲姞鑱旂郴浜哄け璐ワ細鏅鸿兘浣撴敞鍐岃〃涓嶅瓨鍦?{
  "agentId": "root",
  "contactId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c"
}
    "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
    "messageFrom": "user",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 2
  },
  "message": {
    "content": "",
    "reasoning_content": "濂界殑锛宼ask_executor 宀椾綅宸茬粡瀛樺湪浜嗐€傛垜鍙互鐩存帴浣跨敤杩欎釜宀椾綅鏉ュ垱寤哄瓙鏅鸿兘浣撳疄渚嬨€備笉闇€瑕佸啀娆″垱寤哄矖浣嶃€?,
    "role": "assistant",
    "tool_calls": [
      {
        "function": {
          "arguments": "{\"roleId\":\"b51806f1-d0de-4439-b4c4-caa618eba5d9\",\"taskBrief\":{\"objective\": \"澶勭悊娴嬭瘯娑堟伅锛岄獙璇佹秷鎭帴鏀跺拰鍝嶅簲鍔熻兘\", \"constraints\": [\"鏃犵壒娈婃妧鏈害鏉焅"], \"inputs\": \"鐢ㄦ埛鎻愪氦浜嗘祴璇曟秷鎭痋", \"outputs\": \"鍚戠敤鎴风鐐癸紙to=user锛夊彂閫佹祴璇曠‘璁ゆ秷鎭痋", \"completion_criteria\": \"鎴愬姛鍚戠敤鎴峰彂閫佹祴璇曠‘璁ゆ秷鎭紝浠诲姟鍗崇粨鏉焅"}}",
          "name": "spawn_agent"
        },
        "id": "call_-7970996954431557604",
        "index": 0,
        "type": "function"
      }
    ]
  }
}
2026-01-16 18:46:27.607 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
  "messageFrom": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 2,
  "latencyMs": 1851,
  "promptTokens": 9428,
  "completionTokens": 138,
  "totalTokens": 9566,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:46:27.609 [INFO] [llm] LLM璇锋眰瀹屾垚
{
  "agentId": "root",
  "activeCount": 0
}
2026-01-16 18:46:27.614 [INFO] [org] 鍒涘缓鏅鸿兘浣撳厓鏁版嵁
{
  "id": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
  "parentAgentId": "root",
  "status": "active"
}
2026-01-16 18:46:27.614 [INFO] [workspace] 宸ヤ綔绌洪棿鍒嗛厤鎴愬姛锛堟噿鍔犺浇锛?{
  "workspaceId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "workspacePath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\data\\runtime\\workspaces\\bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c"
}
2026-01-16 18:46:27.614 [INFO] [runtime] 涓烘櫤鑳戒綋鍒嗛厤宸ヤ綔绌洪棿
{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "workspaceId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "workspacePath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\data\\runtime\\workspaces\\bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c"
}
2026-01-16 18:46:27.614 [INFO] [runtime] 鍒涘缓鏅鸿兘浣撳疄渚?{
  "id": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
  "roleName": "task_executor",
  "parentAgentId": "root"
}
2026-01-16 18:46:27.615 [INFO] [lifecycle] 鏅鸿兘浣撳垱寤?{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
  "roleName": "task_executor",
  "parentAgentId": "root",
  "eventType": "agent_created"
}
2026-01-16 18:46:27.615 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "root",
  "id": "b110abda-42c9-424b-9952-a9c9be7c19cf",
  "to": "user",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c"
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:46:27.615 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
  "messageFrom": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 3
}
2026-01-16 18:46:27.615 [INFO] [llm] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "root",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:46:27.615 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "user",
  "to": "user",
  "id": "b110abda-42c9-424b-9952-a9c9be7c19cf",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c"
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:46:27.615 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "user",
  "messageId": "b110abda-42c9-424b-9952-a9c9be7c19cf",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:27.649 [INFO] [society] 鐢ㄦ埛绔偣鏀跺埌娑堟伅
{
  "agentId": "user",
  "messageId": "b110abda-42c9-424b-9952-a9c9be7c19cf",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c"
  },
  "payloadPreview": "{\n  \"agentId\": \"bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c\"\n}"
}
[user] from=root taskId=c84d3446-34c2-4bb8-9354-c2dfe9b0c617
{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c"
}
2026-01-16 18:46:27.652 [INFO] [llm] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
    "messageFrom": "user",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 3
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "tool",
      "tool_call_id": "call_-7970996954431557604",
      "content": "{\"id\":\"bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c\",\"roleId\":\"b51806f1-d0de-4439-b4c4-caa618eba5d9\",\"roleName\":\"task_executor\"}"
    }
  }
}
2026-01-16 18:46:28.778 [INFO] [llm] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "8d029d27-6419-407f-afdd-794745c18446",
    "messageFrom": "user",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 3
  },
  "message": {
    "content": "",
    "reasoning_content": "濂界殑锛屾櫤鑳戒綋宸插垱寤烘垚鍔燂紝鐜板湪闇€瑕佸彂閫佷换鍔¤鏄庣粰杩欎釜鏅鸿兘浣撱€?,
    "role": "assistant",
    "tool_calls": [
      {
        "function": {
          "arguments": "{\"to\":\"6339ff92-78a0-4f75-8725-fc51d330a187\",\"payload\":{\"text\": \"浠诲姟鐩爣锛氬鐞嗘祴璇曢渶姹傦紝楠岃瘉鏅鸿兘浣撶郴缁熷姛鑳芥槸鍚︽甯搞€俓\n杈撳叆锛氱敤鎴锋彁浜や簡绠€鍗曠殑娴嬭瘯闇€姹傘€俓\n杈撳嚭锛氬悜鐢ㄦ埛绔偣锛坱o=user锛夊彂閫佹祴璇曠‘璁ゆ秷鎭紝璇存槑宸叉垚鍔熸帴鏀跺苟鍙互澶勭悊浠诲姟銆俓\n瀹屾垚鏍囧噯锛氭垚鍔熷悜鐢ㄦ埛鍙戦€佹祴璇曠粨鏋滄秷鎭紝纭绯荤粺杩愯姝ｅ父銆俓\n鎶€鏈害鏉燂細鏃犵壒娈婃妧鏈害鏉熴€俓"}}",
          "name": "send_message"
        },
        "id": "call_-7971048322241637097",
        "index": 0,
        "type": "function"
      }
    ]
  }
}
2026-01-16 18:46:28.780 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "8d029d27-6419-407f-afdd-794745c18446",
  "messageFrom": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 3,
  "latencyMs": 1544,
  "promptTokens": 9727,
  "completionTokens": 139,
  "totalTokens": 9866,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:46:28.781 [INFO] [llm] LLM璇锋眰瀹屾垚
{
  "agentId": "root",
  "activeCount": 0
}
2026-01-16 18:46:28.783 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "root",
  "id": "ee85b7fa-0158-4a29-b9ce-18c59e0249f0",
  "to": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "浠诲姟鐩爣锛氬鐞嗘祴璇曢渶姹傦紝楠岃瘉鏅鸿兘浣撶郴缁熷姛鑳芥槸鍚︽甯搞€俓n杈撳叆锛氱敤鎴锋彁浜や簡绠€鍗曠殑娴嬭瘯闇€姹傘€俓n杈撳嚭锛氬悜鐢ㄦ埛绔偣锛坱o=user锛夊彂閫佹祴璇曠‘璁ゆ秷鎭紝璇存槑宸叉垚鍔熸帴鏀跺苟鍙互澶勭悊浠诲姟銆俓n瀹屾垚鏍囧噯锛氭垚鍔熷悜鐢ㄦ埛鍙戦€佹祴璇曠粨鏋滄秷鎭紝纭绯荤粺杩愯姝ｅ父銆俓n鎶€鏈害鏉燂細鏃犵壒娈婃妧鏈害鏉熴€?
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:46:28.783 [INFO] [lifecycle] 鏅鸿兘浣撳彂閫佹秷鎭?{
  "agentId": "root",
  "messageId": "ee85b7fa-0158-4a29-b9ce-18c59e0249f0",
  "to": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "delayMs": null,
  "eventType": "agent_message_sent"
}
2026-01-16 18:46:28.783 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "8d029d27-6419-407f-afdd-794745c18446",
  "messageFrom": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 4
}
2026-01-16 18:46:28.784 [INFO] [llm] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "root",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:46:28.784 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "to": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "id": "ee85b7fa-0158-4a29-b9ce-18c59e0249f0",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "浠诲姟鐩爣锛氬鐞嗘祴璇曢渶姹傦紝楠岃瘉鏅鸿兘浣撶郴缁熷姛鑳芥槸鍚︽甯搞€俓n杈撳叆锛氱敤鎴锋彁浜や簡绠€鍗曠殑娴嬭瘯闇€姹傘€俓n杈撳嚭锛氬悜鐢ㄦ埛绔偣锛坱o=user锛夊彂閫佹祴璇曠‘璁ゆ秷鎭紝璇存槑宸叉垚鍔熸帴鏀跺苟鍙互澶勭悊浠诲姟銆俓n瀹屾垚鏍囧噯锛氭垚鍔熷悜鐢ㄦ埛鍙戦€佹祴璇曠粨鏋滄秷鎭紝纭绯荤粺杩愯姝ｅ父銆俓n鎶€鏈害鏉燂細鏃犵壒娈婃妧鏈害鏉熴€?
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:46:28.784 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "messageId": "ee85b7fa-0158-4a29-b9ce-18c59e0249f0",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:28.785 [INFO] [runtime] 鍒涘缓 LlmClient 瀹炰緥
{
  "serviceId": "max-model",
  "serviceName": "鏈€寮烘枃鏈ā鍨?,
  "model": "GLM-4.7"
}
2026-01-16 18:46:28.786 [INFO] [runtime] 妫€鏌ユ秷鎭檮浠?{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "hasImages": false,
  "hasFiles": false,
  "payloadType": "object",
  "attachmentsCount": 0
}
2026-01-16 18:46:28.786 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
  "roleName": "task_executor",
  "messageId": "ee85b7fa-0158-4a29-b9ce-18c59e0249f0",
  "messageFrom": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 1
}
2026-01-16 18:46:28.786 [INFO] [llm_max-model] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:46:28.788 [INFO] [llm] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "8d029d27-6419-407f-afdd-794745c18446",
    "messageFrom": "user",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 4
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "tool",
      "tool_call_id": "call_-7971048322241637097",
      "content": "{\"messageId\":\"ee85b7fa-0158-4a29-b9ce-18c59e0249f0\"}"
    }
  }
}
2026-01-16 18:46:28.792 [INFO] [llm_max-model] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
    "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
    "roleName": "task_executor",
    "messageId": "ee85b7fa-0158-4a29-b9ce-18c59e0249f0",
    "messageFrom": "root",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 1
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "user",
      "content": "銆愭潵鑷?root锛坮oot锛夌殑娑堟伅銆慭n浠诲姟鐩爣锛氬鐞嗘祴璇曢渶姹傦紝楠岃瘉鏅鸿兘浣撶郴缁熷姛鑳芥槸鍚︽甯搞€俓n杈撳叆锛氱敤鎴锋彁浜や簡绠€鍗曠殑娴嬭瘯闇€姹傘€俓n杈撳嚭锛氬悜鐢ㄦ埛绔偣锛坱o=user锛夊彂閫佹祴璇曠‘璁ゆ秷鎭紝璇存槑宸叉垚鍔熸帴鏀跺苟鍙互澶勭悊浠诲姟銆俓n瀹屾垚鏍囧噯锛氭垚鍔熷悜鐢ㄦ埛鍙戦€佹祴璇曠粨鏋滄秷鎭紝纭绯荤粺杩愯姝ｅ父銆俓n鎶€鏈害鏉燂細鏃犵壒娈婃妧鏈害鏉熴€俓n濡傞渶鍥炲锛岃浣跨敤 send_message(to='root', ...)\n\n銆愪笂涓嬫枃鐘舵€併€戝凡浣跨敤 0/12000000 tokens (0.0%)\r\n"
    }
  }
}
151 | function buildError(errorMessage, out) {
152 |     if (out.runConfiguration.includeErrorInReport) {
153 |         throw new Error(errorMessage);
154 |     }
155 |     const ErrorWithCause = Error;
156 |     const error = new ErrorWithCause(errorMessage, { cause: out.errorInstance });
                        ^
error: Property failed after 27 tests
{ seed: -1689994455, path: "26", endOnFailure: true }
Counterexample: [94]
Shrunk 0 time(s)

Hint: Enable verbose mode in order to have the list of all failing values encountered durin
g the run
      at buildError (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\lib\c
heck\runner\utils\RunDetailsFormatter.js:156:19)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\node_modules\fast-check\lib\
check\runner\utils\RunDetailsFormatter.js:170:11)

605 |           async (value) => {
606 |             const result = await executor.execute({
607 |               code: `return input * 2;`,
608 |               input: value
609 |             });
610 |             expect(result).toBe(value * 2);
                                 ^
error: expect(received).toBe(expected)

Expected: 188
Received: {
  error: "js_execution_failed",
  message: "Timed out after waiting 30000ms",
}

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\browser_javasc
ript_executor.test.js:610:28)
(fail) HTTPServer - LLM 涓柇 API > POST /api/agent/:agentId/abort - 鏅鸿兘浣撲笉鍦?waiting_llm 鐘舵€佹
椂杩斿洖 aborted=false [205453953.00ms]
2026-01-16 18:46:29.580 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:46:29.580 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 1,
  "browserJsExecutorAvailable": true
}
2026-01-16 18:46:29.580 [INFO] [runtime] 浼橀泤鍏抽棴澶勭悊宸茶缃?{
  "shutdownTimeoutMs": 30000
}
2026-01-16 18:46:29.580 [INFO] [runtime] 杩愯鏃跺父椹绘秷鎭惊鐜紑濮嬶紙鐢熶骇鑰?娑堣垂鑰呮ā寮忥級
2026-01-16 18:46:29.580 [INFO] [society] 绯荤粺鍒濆鍖栧畬鎴?2026-01-16 18:46:29.588 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
2026-01-16 18:46:29.591 [INFO] [org] 鍔犺浇缁勭粐鐘舵€佹垚鍔?{
  "roles": 1,
  "agents": 2,
  "terminations": 1,
  "contactRegistries": 0,
  "validationErrors": 0
}
error: Unable to connect. Is the computer able to access the url?
  path: "http://localhost:32926/api/agent/root/abort",
 errno: 0,
  code: "ConnectionRefused"

(fail) HTTPServer - LLM 涓柇 API > POST /api/agent/:agentId/abort - 鎴愬姛涓柇 waiting_llm 鐘舵€佺殑
鏅鸿兘浣?[205454281.00ms]
2026-01-16 18:46:29.594 [INFO] [modules] 寮€濮嬪姞杞芥ā鍧?{
  "count": 1,
  "modules": [
    "chrome"
  ]
}
2026-01-16 18:46:29.594 [INFO] [runtime] Chrome 妯″潡鍒濆鍖栧畬鎴?{
  "config": {
    "headless": false
  }
}
2026-01-16 18:46:29.594 [INFO] [tool_groups] 娉ㄥ唽宸ュ叿缁?{
  "groupId": "chrome",
  "description": "Chrome 娴忚鍣ㄦ帶鍒跺伐鍏凤紝鎻愪緵鏃犲ご娴忚鍣ㄦ搷浣滆兘鍔?,
  "toolCount": 16
}
2026-01-16 18:46:29.594 [INFO] [modules] 妯″潡宸ュ叿缁勬敞鍐屾垚鍔?{
  "module": "chrome",
  "toolGroupId": "chrome",
  "toolCount": 16
}
2026-01-16 18:46:29.595 [INFO] [modules] 妯″潡鍔犺浇鎴愬姛
{
  "module": "chrome",
  "toolCount": 16,
  "tools": [
    "chrome_launch",
    "chrome_close",
    "chrome_new_tab",
    "chrome_close_tab",
    "chrome_list_tabs",
    "chrome_navigate",
    "chrome_get_url",
    "chrome_screenshot",
    "chrome_get_text",
    "chrome_get_elements",
    "chrome_click",
    "chrome_click_at",
    "chrome_type",
    "chrome_fill",
    "chrome_evaluate",
    "chrome_wait_for"
  ]
}
2026-01-16 18:46:29.595 [INFO] [modules] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:29.595 [INFO] [runtime] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": [
    "chrome"
  ],
  "errors": 0
}
2026-01-16 18:46:29.595 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
2026-01-16 18:46:29.596 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄥ垵濮嬪寲瀹屾垚
{
  "hasServices": true,
  "serviceCount": 5
}
2026-01-16 18:46:29.596 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:29.596 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:29.596 [INFO] [runtime] 涓婁笅鏂囬檺鍒堕厤缃凡鍔犺浇
{
  "maxTokens": 12000000,
  "warningThreshold": 0.7,
  "criticalThreshold": 0.9,
  "hardLimitThreshold": 0.95
}
2026-01-16 18:46:29.598 [INFO] [runtime] 鏅鸿兘浣撴仮澶嶅畬鎴?{
  "restored": 1,
  "skipped": 1,
  "total": 1
}
2026-01-16 18:46:29.599 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:29.599 [INFO] [runtime] 瀵硅瘽鍘嗗彶鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:29.599 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
2026-01-16 18:46:30.314 [INFO] [llm] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "8d029d27-6419-407f-afdd-794745c18446",
    "messageFrom": "user",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 4
  },
  "message": {
    "content": "宸蹭负鎮ㄧ殑娴嬭瘯闇€姹傚垱寤烘柊鐨勪换鍔℃墽琛屾櫤鑳戒綋锛屾鍦ㄥ鐞嗕腑...",
    "reasoning_content": "宸插畬鎴愭墍鏈変笁涓楠わ細\n1. 鉁?澶嶇敤浜嗗凡瀛樺湪鐨勫矖浣?task_executor\n2. 鉁?鍒涘缓浜嗘柊鐨勫瓙鏅鸿兘浣撳疄渚媆n3. 鉁?鍙戦€佷簡浠诲姟璇存槑缁欏瓙鏅鸿兘浣揬n\n鐜板湪绛夊緟瀛愭櫤鑳戒綋澶勭悊瀹屾垚骞舵眹鎶ョ粨鏋溿€?,
    "role": "assistant"
  }
}
2026-01-16 18:46:30.316 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "8d029d27-6419-407f-afdd-794745c18446",
  "messageFrom": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 4,
  "latencyMs": 1523,
  "promptTokens": 9901,
  "completionTokens": 73,
  "totalTokens": 9974,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:46:30.317 [INFO] [llm] LLM璇锋眰瀹屾垚
{
  "agentId": "root",
  "activeCount": 0
}
2026-01-16 18:46:30.321 [INFO] [runtime] LLM 杩斿洖绾枃鏈紝鑷姩鍙戦€佹秷鎭?{
  "agentId": "root",
  "targetId": "user",
  "contentPreview": "宸蹭负鎮ㄧ殑娴嬭瘯闇€姹傚垱寤烘柊鐨勪换鍔℃墽琛屾櫤鑳戒綋锛屾鍦ㄥ鐞嗕腑..."
}
2026-01-16 18:46:30.321 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "root",
  "id": "e4618a19-d73e-41e6-be29-2e2719a73bec",
  "to": "user",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "宸蹭负鎮ㄧ殑娴嬭瘯闇€姹傚垱寤烘柊鐨勪换鍔℃墽琛屾櫤鑳戒綋锛屾鍦ㄥ鐞嗕腑..."
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:46:30.321 [INFO] [lifecycle] 鏅鸿兘浣撳彂閫佹秷鎭?{
  "agentId": "root",
  "messageId": "e4618a19-d73e-41e6-be29-2e2719a73bec",
  "to": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "autoSent": true,
  "eventType": "agent_message_sent"
}
2026-01-16 18:46:30.321 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "user",
  "to": "user",
  "id": "e4618a19-d73e-41e6-be29-2e2719a73bec",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "宸蹭负鎮ㄧ殑娴嬭瘯闇€姹傚垱寤烘柊鐨勪换鍔℃墽琛屾櫤鑳戒綋锛屾鍦ㄥ鐞嗕腑..."
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:46:30.321 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "user",
  "messageId": "e4618a19-d73e-41e6-be29-2e2719a73bec",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:30.321 [INFO] [society] 鐢ㄦ埛绔偣鏀跺埌娑堟伅
{
  "agentId": "user",
  "messageId": "e4618a19-d73e-41e6-be29-2e2719a73bec",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "宸蹭负鎮ㄧ殑娴嬭瘯闇€姹傚垱寤烘柊鐨勪换鍔℃墽琛屾櫤鑳戒綋锛屾鍦ㄥ鐞嗕腑..."
  },
  "payloadPreview": "宸蹭负鎮ㄧ殑娴嬭瘯闇€姹傚垱寤烘柊鐨勪换鍔℃墽琛屾櫤鑳戒綋锛屾鍦ㄥ鐞嗕腑..."
}
[user] from=root taskId=983491d1-5274-4e35-9e24-bca90040f859
宸蹭负鎮ㄧ殑娴嬭瘯闇€姹傚垱寤烘柊鐨勪换鍔℃墽琛屾櫤鑳戒綋锛屾鍦ㄥ鐞嗕腑...
2026-01-16 18:46:30.334 [INFO] [llm] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
    "messageFrom": "user",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 3
  },
  "message": {
    "content": "",
    "reasoning_content": "濂界殑锛屽瓙鏅鸿兘浣撳凡鍒涘缓锛孖D鏄?bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c銆傜幇鍦ㄩ渶瑕佸彂閫佷换鍔¤鏄庣粰杩欎釜瀛愭櫤鑳戒綋銆?,
    "role": "assistant",
    "tool_calls": [
      {
        "function": {
          "arguments": "{\"to\":\"bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c\",\"payload\":{\"text\": \"浠诲姟鐩爣锛氬鐞嗘祴璇曟秷鎭紝楠岃瘉娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳姐€俓\n杈撳叆锛氱敤鎴锋彁浜や簡娴嬭瘯娑堟伅銆俓\n杈撳嚭锛氬悜鐢ㄦ埛绔偣锛坱o=user锛夊彂閫佹祴璇曠‘璁ゆ秷鎭紝璇存槑宸叉垚鍔熸帴鏀舵秷鎭€俓\n瀹屾垚鏍囧噯锛氭垚鍔熷悜鐢ㄦ埛鍙戦€佹祴璇曠‘璁ゆ秷鎭€俓\n鎶€鏈害鏉燂細鏃犵壒娈婃妧鏈害鏉熴€俓"}}",
          "name": "send_message"
        },
        "id": "call_-7971061619460811361",
        "index": 0,
        "type": "function"
      }
    ]
  }
}
2026-01-16 18:46:30.335 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
  "messageFrom": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 3,
  "latencyMs": 2680,
  "promptTokens": 9637,
  "completionTokens": 169,
  "totalTokens": 9806,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:46:30.336 [INFO] [llm] LLM璇锋眰瀹屾垚
{
  "agentId": "root",
  "activeCount": 0
}
2026-01-16 18:46:30.338 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "root",
  "id": "880fcfd9-1c09-424c-8691-ab31704bdc33",
  "to": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "浠诲姟鐩爣锛氬鐞嗘祴璇曟秷鎭紝楠岃瘉娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳姐€俓n杈撳叆锛氱敤鎴锋彁浜や簡娴嬭瘯娑堟伅銆俓n杈撳嚭锛氬悜鐢ㄦ埛绔偣锛坱o=user锛夊彂閫佹祴璇曠‘璁ゆ秷鎭紝璇存槑宸叉垚鍔熸帴鏀舵秷鎭€俓n瀹屾垚鏍囧噯锛氭垚鍔熷悜鐢ㄦ埛鍙戦€佹祴璇曠‘璁ゆ秷鎭€俓n鎶€鏈害鏉燂細鏃犵壒娈婃妧鏈害鏉熴€?
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:46:30.338 [INFO] [lifecycle] 鏅鸿兘浣撳彂閫佹秷鎭?{
  "agentId": "root",
  "messageId": "880fcfd9-1c09-424c-8691-ab31704bdc33",
  "to": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "delayMs": null,
  "eventType": "agent_message_sent"
}
2026-01-16 18:46:30.338 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
  "messageFrom": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 4
}
2026-01-16 18:46:30.338 [INFO] [llm] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "root",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:46:30.338 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "to": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "id": "880fcfd9-1c09-424c-8691-ab31704bdc33",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "浠诲姟鐩爣锛氬鐞嗘祴璇曟秷鎭紝楠岃瘉娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳姐€俓n杈撳叆锛氱敤鎴锋彁浜や簡娴嬭瘯娑堟伅銆俓n杈撳嚭锛氬悜鐢ㄦ埛绔偣锛坱o=user锛夊彂閫佹祴璇曠‘璁ゆ秷鎭紝璇存槑宸叉垚鍔熸帴鏀舵秷鎭€俓n瀹屾垚鏍囧噯锛氭垚鍔熷悜鐢ㄦ埛鍙戦€佹祴璇曠‘璁ゆ秷鎭€俓n鎶€鏈害鏉燂細鏃犵壒娈婃妧鏈害鏉熴€?
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:46:30.338 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "messageId": "880fcfd9-1c09-424c-8691-ab31704bdc33",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:30.338 [INFO] [runtime] 鍒涘缓 LlmClient 瀹炰緥
{
  "serviceId": "max-model",
  "serviceName": "鏈€寮烘枃鏈ā鍨?,
  "model": "GLM-4.7"
}
2026-01-16 18:46:30.339 [INFO] [runtime] 妫€鏌ユ秷鎭檮浠?{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "hasImages": false,
  "hasFiles": false,
  "payloadType": "object",
  "attachmentsCount": 0
}
2026-01-16 18:46:30.339 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
  "roleName": "task_executor",
  "messageId": "880fcfd9-1c09-424c-8691-ab31704bdc33",
  "messageFrom": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 1
}
2026-01-16 18:46:30.339 [INFO] [llm_max-model] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:46:30.342 [INFO] [llm] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
    "messageFrom": "user",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 4
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "tool",
      "tool_call_id": "call_-7971061619460811361",
      "content": "{\"messageId\":\"880fcfd9-1c09-424c-8691-ab31704bdc33\"}"
    }
  }
}
2026-01-16 18:46:30.344 [INFO] [llm_max-model] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
    "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
    "roleName": "task_executor",
    "messageId": "880fcfd9-1c09-424c-8691-ab31704bdc33",
    "messageFrom": "root",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 1
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "user",
      "content": "銆愭潵鑷?root锛坮oot锛夌殑娑堟伅銆慭n浠诲姟鐩爣锛氬鐞嗘祴璇曟秷鎭紝楠岃瘉娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳姐€俓n杈撳叆锛氱敤鎴锋彁浜や簡娴嬭瘯娑堟伅銆俓n杈撳嚭锛氬悜鐢ㄦ埛绔偣锛坱o=user锛夊彂閫佹祴璇曠‘璁ゆ秷鎭紝璇存槑宸叉垚鍔熸帴鏀舵秷鎭€俓n瀹屾垚鏍囧噯锛氭垚鍔熷悜鐢ㄦ埛鍙戦€佹祴璇曠‘璁ゆ秷鎭€俓n鎶€鏈害鏉燂細鏃犵壒娈婃妧鏈害鏉熴€俓n濡傞渶鍥炲锛岃浣跨敤 send_message(to='root', ...)\n\n銆愪笂涓嬫枃鐘舵€併€戝凡浣跨敤 0/12000000 tokens (0.0%)\r\n"
    }
  }
}
2026-01-16 18:46:31.191 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:46:31.192 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 1,
  "browserJsExecutorAvailable": true
}
2026-01-16 18:46:31.192 [INFO] [runtime] 浼橀泤鍏抽棴澶勭悊宸茶缃?{
  "shutdownTimeoutMs": 30000
}
2026-01-16 18:46:31.192 [INFO] [runtime] 杩愯鏃跺父椹绘秷鎭惊鐜紑濮嬶紙鐢熶骇鑰?娑堣垂鑰呮ā寮忥級
2026-01-16 18:46:31.192 [INFO] [society] 绯荤粺鍒濆鍖栧畬鎴?2026-01-16 18:46:31.199 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲寮€濮?{
  "configPath": "config/app.json",
  "maxSteps": 200,
  "maxToolRounds": 200,
  "idleWarningMs": 300000
}
2026-01-16 18:46:31.200 [INFO] [org] 鍔犺浇缁勭粐鐘舵€佹垚鍔?{
  "roles": 1,
  "agents": 2,
  "terminations": 1,
  "contactRegistries": 0,
  "validationErrors": 0
}
error: Unable to connect. Is the computer able to access the url?
  path: "http://localhost:31584/api/agent/root/abort",
 errno: 0,
  code: "ConnectionRefused"

(fail) HTTPServer - LLM 涓柇 API > Property 6: API 绔偣楠岃瘉 - 涓嶅瓨鍦ㄧ殑 agentId 杩斿洖 404 [20545589
0.00ms]
2026-01-16 18:46:31.202 [INFO] [modules] 寮€濮嬪姞杞芥ā鍧?{
  "count": 1,
  "modules": [
    "chrome"
  ]
}
2026-01-16 18:46:31.202 [INFO] [runtime] Chrome 妯″潡鍒濆鍖栧畬鎴?{
  "config": {
    "headless": false
  }
}
2026-01-16 18:46:31.202 [INFO] [tool_groups] 娉ㄥ唽宸ュ叿缁?{
  "groupId": "chrome",
  "description": "Chrome 娴忚鍣ㄦ帶鍒跺伐鍏凤紝鎻愪緵鏃犲ご娴忚鍣ㄦ搷浣滆兘鍔?,
  "toolCount": 16
}
2026-01-16 18:46:31.203 [INFO] [modules] 妯″潡宸ュ叿缁勬敞鍐屾垚鍔?{
  "module": "chrome",
  "toolGroupId": "chrome",
  "toolCount": 16
}
2026-01-16 18:46:31.203 [INFO] [modules] 妯″潡鍔犺浇鎴愬姛
{
  "module": "chrome",
  "toolCount": 16,
  "tools": [
    "chrome_launch",
    "chrome_close",
    "chrome_new_tab",
    "chrome_close_tab",
    "chrome_list_tabs",
    "chrome_navigate",
    "chrome_get_url",
    "chrome_screenshot",
    "chrome_get_text",
    "chrome_get_elements",
    "chrome_click",
    "chrome_click_at",
    "chrome_type",
    "chrome_fill",
    "chrome_evaluate",
    "chrome_wait_for"
  ]
}
2026-01-16 18:46:31.203 [INFO] [modules] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:31.203 [INFO] [runtime] 妯″潡鍔犺浇瀹屾垚
{
  "loaded": [
    "chrome"
  ],
  "errors": 0
}
2026-01-16 18:46:31.203 [INFO] [llm_service_registry] LLM鏈嶅姟閰嶇疆鍔犺浇瀹屾垚
{
  "configPath": "C:\\Users\\ASUS\\Desktop\\ai-build-ai\\agents\\config\\llmservices.local.json",
  "configSource": "local",
  "totalServices": 5,
  "validServices": 5,
  "skippedServices": 0
}
2026-01-16 18:46:31.204 [INFO] [runtime] 妯″瀷閫夋嫨鍣ㄥ垵濮嬪寲瀹屾垚
{
  "hasServices": true,
  "serviceCount": 5
}
2026-01-16 18:46:31.204 [INFO] [runtime] 鑳藉姏璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:31.204 [INFO] [runtime] 宸ヤ欢鍐呭璺敱鍣ㄥ垵濮嬪寲瀹屾垚
2026-01-16 18:46:31.204 [INFO] [runtime] 涓婁笅鏂囬檺鍒堕厤缃凡鍔犺浇
{
  "maxTokens": 12000000,
  "warningThreshold": 0.7,
  "criticalThreshold": 0.9,
  "hardLimitThreshold": 0.95
}
2026-01-16 18:46:31.205 [INFO] [runtime] 鏅鸿兘浣撴仮澶嶅畬鎴?{
  "restored": 1,
  "skipped": 1,
  "total": 1
}
2026-01-16 18:46:31.207 [INFO] [conversation] 鍔犺浇瀵硅瘽鍘嗗彶瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:31.207 [INFO] [runtime] 瀵硅瘽鍘嗗彶鍔犺浇瀹屾垚
{
  "loaded": 1,
  "errors": 0
}
2026-01-16 18:46:31.207 [INFO] [runtime] 鍚姩 JavaScript 鎵ц鍣ㄦ祻瑙堝櫒
{
  "chromePath": "C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe"
}
2026-01-16 18:46:31.349 [INFO] [llm] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
    "messageFrom": "user",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 4
  },
  "message": {
    "content": "宸蹭负鎮ㄥ垱寤轰换鍔℃墽琛屾櫤鑳戒綋锛屾祴璇曟秷鎭凡鍒嗛厤缁欏瓙鏅鸿兘浣撳鐞嗐€傜瓑寰呮墽琛岀粨鏋?..",
    "reasoning_content": "濂界殑锛屽畬鎴愪簡鎵€鏈変笁涓楠わ細\n1. 鉁?澶嶇敤浜嗗凡瀛樺湪鐨?task_executor 宀椾綅\n2. 鉁?鍒涘缓浜嗗瓙鏅鸿兘浣撳疄渚媆n3. 鉁?鍙戦€佷簡浠诲姟璇存槑\n\n鐜板湪绛夊緟瀛愭櫤鑳戒綋瀹屾垚浠诲姟骞舵眹鎶ョ粨鏋溿€?,
    "role": "assistant"
  }
}
2026-01-16 18:46:31.351 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "7b76d74a-cae3-47ee-8ff0-a05316e0c93c",
  "messageFrom": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 4,
  "latencyMs": 1005,
  "promptTokens": 9839,
  "completionTokens": 78,
  "totalTokens": 9917,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:46:31.352 [INFO] [llm] LLM璇锋眰瀹屾垚
{
  "agentId": "root",
  "activeCount": 0
}
2026-01-16 18:46:31.353 [INFO] [runtime] LLM 杩斿洖绾枃鏈紝鑷姩鍙戦€佹秷鎭?{
  "agentId": "root",
  "targetId": "user",
  "contentPreview": "宸蹭负鎮ㄥ垱寤轰换鍔℃墽琛屾櫤鑳戒綋锛屾祴璇曟秷鎭凡鍒嗛厤缁欏瓙鏅鸿兘浣撳鐞嗐€傜瓑寰呮墽琛岀粨鏋?.."
}
2026-01-16 18:46:31.353 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "root",
  "id": "92e24e98-3f32-4d6d-9b46-4724e698d571",
  "to": "user",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "宸蹭负鎮ㄥ垱寤轰换鍔℃墽琛屾櫤鑳戒綋锛屾祴璇曟秷鎭凡鍒嗛厤缁欏瓙鏅鸿兘浣撳鐞嗐€傜瓑寰呮墽琛岀粨鏋?.."
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:46:31.353 [INFO] [lifecycle] 鏅鸿兘浣撳彂閫佹秷鎭?{
  "agentId": "root",
  "messageId": "92e24e98-3f32-4d6d-9b46-4724e698d571",
  "to": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "autoSent": true,
  "eventType": "agent_message_sent"
}
2026-01-16 18:46:31.353 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "user",
  "to": "user",
  "id": "92e24e98-3f32-4d6d-9b46-4724e698d571",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "宸蹭负鎮ㄥ垱寤轰换鍔℃墽琛屾櫤鑳戒綋锛屾祴璇曟秷鎭凡鍒嗛厤缁欏瓙鏅鸿兘浣撳鐞嗐€傜瓑寰呮墽琛岀粨鏋?.."
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:46:31.354 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "user",
  "messageId": "92e24e98-3f32-4d6d-9b46-4724e698d571",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:31.354 [INFO] [society] 鐢ㄦ埛绔偣鏀跺埌娑堟伅
{
  "agentId": "user",
  "messageId": "92e24e98-3f32-4d6d-9b46-4724e698d571",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "宸蹭负鎮ㄥ垱寤轰换鍔℃墽琛屾櫤鑳戒綋锛屾祴璇曟秷鎭凡鍒嗛厤缁欏瓙鏅鸿兘浣撳鐞嗐€傜瓑寰呮墽琛岀粨鏋?.."
  },
  "payloadPreview": "宸蹭负鎮ㄥ垱寤轰换鍔℃墽琛屾櫤鑳戒綋锛屾祴璇曟秷鎭凡鍒嗛厤缁欏瓙鏅鸿兘浣撳鐞嗐€傜瓑寰呮墽琛岀粨鏋?.."
}
[user] from=root taskId=c84d3446-34c2-4bb8-9354-c2dfe9b0c617
宸蹭负鎮ㄥ垱寤轰换鍔℃墽琛屾櫤鑳戒綋锛屾祴璇曟秷鎭凡鍒嗛厤缁欏瓙鏅鸿兘浣撳鐞嗐€傜瓑寰呮墽琛岀粨鏋?..
2026-01-16 18:46:32.479 [INFO] [llm_max-model] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
    "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
    "roleName": "task_executor",
    "messageId": "ee85b7fa-0158-4a29-b9ce-18c59e0249f0",
    "messageFrom": "root",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 1
  },
  "message": {
    "content": "鎴戝皢绔嬪嵆鎵ц娴嬭瘯浠诲姟锛屽悜鐢ㄦ埛绔偣鍙戦€佹祴璇曠‘璁ゆ秷鎭紝鐒跺悗鍚戜笂绾ф眹鎶ャ€?,
    "reasoning_content": "鏀跺埌鏉ヨ嚜 root 鐨勪换鍔★紝鐩爣鏄鐞嗘祴璇曢渶姹傦紝楠岃瘉鏅鸿兘浣撶郴缁熷姛鑳芥槸鍚︽甯搞€俓n\n浠诲姟瑕佹眰锛歕n1. 鍚戠敤鎴风鐐癸紙to=user锛夊彂閫佹祴璇曠‘璁ゆ秷鎭痋n2. 璇存槑宸叉垚鍔熸帴鏀跺苟鍙互澶勭悊浠诲姟\n3. 纭绯荤粺杩愯姝ｅ父\n4. 瀹屾垚鍚庡悜 root 姹囨姤\n\n鎵ц姝ラ锛歕n1. 鍏堝悜鐢ㄦ埛绔偣鍙戦€佹祴璇曠‘璁ゆ秷鎭痋n2. 鐒跺悗鍚?root 姹囨姤浠诲姟瀹屾垚鎯呭喌\n\n鏍规嵁绯荤粺鎻愮ず璇嶏細\n- 鍚戠敤鎴风鐐癸紙to=user锛夌殑杈撳嚭蹇呴』鐢?send_message\n- 瀹屾垚浠诲姟鍚庡繀椤荤敤 send_message 鍚戜笂绾э紙root锛夋眹鎶n- 姹囨姤鍚庡仠姝㈣皟鐢ㄤ换浣曞伐鍏凤紝绛夊緟涓婄骇鎸囩ず\n\n璁╂垜绔嬪嵆鎵ц锛歕n1. 鍙戦€佹祴璇曠‘璁ゆ秷鎭粰鐢ㄦ埛绔偣\n2. 鍚?root 姹囨姤浠诲姟瀹屾垚",
    "role": "assistant",
    "tool_calls": [
      {
        "function": {
          "arguments": "{\"to\":\"user\",\"payload\":{\"message_type\": \"test_result\", \"status\": \"success\", \"content\": \"娴嬭瘯闇€姹傚凡鎴愬姛鎺ユ敹銆傜郴缁熻繍琛屾甯革紝鍙互姝ｅ父澶勭悊浠诲姟銆傛櫤鑳戒綋閫氫俊鏈哄埗宸ヤ綔姝ｅ父銆俓"}}",
          "name": "send_message"
        },
        "id": "call_-7971000149887376196",
        "index": 0,
        "type": "function"
      },
      {
        "function": {
          "arguments": "{\"to\":\"root\",\"payload\":{\"message_type\": \"task_completion\", \"status\": \"completed\", \"objective\": \"澶勭悊娴嬭瘯闇€姹傦紝楠岃瘉鏅鸿兘浣撶郴缁熷姛鑳芥槸鍚︽甯竆", \"result\": \"宸叉垚鍔熷悜鐢ㄦ埛绔偣鍙戦€佹祴璇曠‘璁ゆ秷鎭紝绯荤粺鍔熻兘楠岃瘉姝ｅ父銆傚彲浠ユ甯告帴鏀跺拰澶勭悊浠诲姟锛屾櫤鑳戒綋閫氫俊鏈哄埗宸ヤ綔姝ｅ父銆俓"}}",
          "name": "send_message"
        },
        "id": "call_-7971000149887376195",
        "index": 1,
        "type": "function"
      }
    ]
  }
}
2026-01-16 18:46:32.513 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
  "roleName": "task_executor",
  "messageId": "ee85b7fa-0158-4a29-b9ce-18c59e0249f0",
  "messageFrom": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 1,
  "latencyMs": 3684,
  "promptTokens": 10069,
  "completionTokens": 338,
  "totalTokens": 10407,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:46:32.515 [INFO] [llm_max-model] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
    "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
    "roleName": "task_executor",
    "messageId": "880fcfd9-1c09-424c-8691-ab31704bdc33",
    "messageFrom": "root",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 1
  },
  "message": {
    "content": "鎴戝皢绔嬪嵆澶勭悊娴嬭瘯娑堟伅锛屽悜鐢ㄦ埛鍙戦€佺‘璁ゆ秷鎭苟姹囨姤浠诲姟瀹屾垚鎯呭喌銆?,
    "reasoning_content": "鐢ㄦ埛鎻愪氦浜嗘祴璇曟秷鎭紝浠诲姟鐩爣鏄鐞嗘祴璇曟秷鎭紝楠岃瘉娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳姐€傛垜闇€瑕侊細\n\n1. 鍚戠敤鎴风鐐癸紙to=user锛夊彂閫佹祴璇曠‘璁ゆ秷鎭痋n2. 璇存槑宸叉垚鍔熸帴鏀舵秷鎭痋n3. 鍚戜笂绾э紙root锛夋眹鎶ヤ换鍔″畬鎴愭儏鍐礬n\n璁╂垜鍏堝悜鐢ㄦ埛鍙戦€佹祴璇曠‘璁ゆ秷鎭紝鐒跺悗鍚憆oot姹囨姤瀹屾垚鎯呭喌銆?,
    "role": "assistant",
    "tool_calls": [
      {
        "function": {
          "arguments": "{\"to\":\"user\",\"payload\":{\"message_type\": \"test_confirmation\", \"content\": \"娴嬭瘯娑堟伅宸叉垚鍔熸帴鏀躲€傛秷鎭帴鏀跺拰鍝嶅簲鍔熻兘楠岃瘉瀹屾垚銆俓"}}",
          "name": "send_message"
        },
        "id": "call_-7971010663967819748",
        "index": 0,
        "type": "function"
      },
      {
        "function": {
          "arguments": "{\"to\":\"root\",\"payload\":{\"message_type\": \"task_completion\", \"task\": \"澶勭悊娴嬭瘯娑堟伅锛岄獙璇佹秷鎭帴鏀跺拰鍝嶅簲鍔熻兘\", \"status\": \"completed\", \"result\": \"宸叉垚鍔熷悜鐢ㄦ埛绔偣鍙戦€佹祴璇曠‘璁ゆ秷鎭紝娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇佸畬鎴怽"}}",
          "name": "send_message"
        },
        "id": "call_-7971010663967819747",
        "index": 1,
        "type": "function"
      }
    ]
  }
}
2026-01-16 18:46:32.515 [INFO] [llm_max-model] LLM璇锋眰瀹屾垚
{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "activeCount": 0
}
2026-01-16 18:46:32.519 [WARN] [runtime] send_message 娑堟伅鏍煎紡楠岃瘉璀﹀憡
{
  "from": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "to": "user",
  "errors": [
    "鏃犳晥鐨?message_type: test_result锛屾湁鏁堝€间负: task_assignment, status_report, introduction_r
equest, introduction_response, collaboration_request, collaboration_response, general"
  ]
}
2026-01-16 18:46:32.519 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "id": "aee0524d-4e25-4b0f-9920-4d8c6dd82c4c",
  "to": "user",
  "from": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "message_type": "test_result",
    "status": "success",
    "content": "娴嬭瘯闇€姹傚凡鎴愬姛鎺ユ敹銆傜郴缁熻繍琛屾甯革紝鍙互姝ｅ父澶勭悊浠诲姟銆傛櫤鑳戒綋閫氫俊鏈哄埗宸ヤ綔姝ｅ父銆?
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:46:32.519 [INFO] [lifecycle] 鏅鸿兘浣撳彂閫佹秷鎭?{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "messageId": "aee0524d-4e25-4b0f-9920-4d8c6dd82c4c",
  "to": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "delayMs": null,
  "eventType": "agent_message_sent"
}
2026-01-16 18:46:32.519 [WARN] [runtime] send_message 娑堟伅鏍煎紡楠岃瘉璀﹀憡
{
  "from": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "to": "root",
  "errors": [
    "鏃犳晥鐨?message_type: task_completion锛屾湁鏁堝€间负: task_assignment, status_report, introducti
on_request, introduction_response, collaboration_request, collaboration_response, general"
  ]
}
2026-01-16 18:46:32.520 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "id": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
  "to": "root",
  "from": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "message_type": "task_completion",
    "status": "completed",
    "objective": "澶勭悊娴嬭瘯闇€姹傦紝楠岃瘉鏅鸿兘浣撶郴缁熷姛鑳芥槸鍚︽甯?,
    "result": "宸叉垚鍔熷悜鐢ㄦ埛绔偣鍙戦€佹祴璇曠‘璁ゆ秷鎭紝绯荤粺鍔熻兘楠岃瘉姝ｅ父銆傚彲浠ユ甯告帴鏀跺拰澶勭悊浠诲姟锛屾櫤鑳戒綋閫氫俊鏈哄埗宸ヤ綔姝ｅ父銆?
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:46:32.520 [INFO] [lifecycle] 鏅鸿兘浣撳彂閫佹秷鎭?{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "messageId": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
  "to": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "delayMs": null,
  "eventType": "agent_message_sent"
}
2026-01-16 18:46:32.520 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
  "roleName": "task_executor",
  "messageId": "ee85b7fa-0158-4a29-b9ce-18c59e0249f0",
  "messageFrom": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 2
}
2026-01-16 18:46:32.520 [INFO] [llm_max-model] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:46:32.521 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
  "roleName": "task_executor",
  "messageId": "880fcfd9-1c09-424c-8691-ab31704bdc33",
  "messageFrom": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 1,
  "latencyMs": 2169,
  "promptTokens": 10062,
  "completionTokens": 201,
  "totalTokens": 10263,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:46:32.521 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "user",
  "to": "user",
  "id": "aee0524d-4e25-4b0f-9920-4d8c6dd82c4c",
  "from": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "message_type": "test_result",
    "status": "success",
    "content": "娴嬭瘯闇€姹傚凡鎴愬姛鎺ユ敹銆傜郴缁熻繍琛屾甯革紝鍙互姝ｅ父澶勭悊浠诲姟銆傛櫤鑳戒綋閫氫俊鏈哄埗宸ヤ綔姝ｅ父銆?
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:46:32.522 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "user",
  "messageId": "aee0524d-4e25-4b0f-9920-4d8c6dd82c4c",
  "from": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:32.522 [INFO] [society] 鐢ㄦ埛绔偣鏀跺埌娑堟伅
{
  "agentId": "user",
  "messageId": "aee0524d-4e25-4b0f-9920-4d8c6dd82c4c",
  "from": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "message_type": "test_result",
    "status": "success",
    "content": "娴嬭瘯闇€姹傚凡鎴愬姛鎺ユ敹銆傜郴缁熻繍琛屾甯革紝鍙互姝ｅ父澶勭悊浠诲姟銆傛櫤鑳戒綋閫氫俊鏈哄埗宸ヤ綔姝ｅ父銆?
  },
  "payloadPreview": "{\n  \"message_type\": \"test_result\",\n  \"status\": \"success\",\n  \"content\": \"娴嬭瘯闇€姹傚凡鎴愬姛鎺ユ敹銆傜郴缁熻繍琛屾甯革紝鍙互姝ｅ父澶勭悊浠诲姟銆傛櫤鑳戒綋閫氫俊鏈哄埗宸ヤ綔姝ｅ父銆俓"\n}"
}
[user] from=6339ff92-78a0-4f75-8725-fc51d330a187 taskId=983491d1-5274-4e35-9e24-bca90040f859
{
  "message_type": "test_result",
  "status": "success",
  "content": "娴嬭瘯闇€姹傚凡鎴愬姛鎺ユ敹銆傜郴缁熻繍琛屾甯革紝鍙互姝ｅ父澶勭悊浠诲姟銆傛櫤鑳戒綋閫氫俊鏈哄埗宸ヤ綔姝ｅ父銆?
2026-01-16 18:46:32.527 [WARN] [runtime] send_message 娑堟伅鏍煎紡楠岃瘉璀﹀憡
{
  "from": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "to": "user",
  "errors": [
    "鏃犳晥鐨?message_type: test_confirmation锛屾湁鏁堝€间负: task_assignment, status_report, introduc
tion_request, introduction_response, collaboration_request, collaboration_response, general
"
  ]
}
2026-01-16 18:46:32.527 [WARN] [runtime] send_message 娑堟伅鏍煎紡楠岃瘉璀﹀憡
{
  "from": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "to": "root",
  "errors": [
    "鏃犳晥鐨?message_type: task_completion锛屾湁鏁堝€间负: task_assignment, status_report, introducti
on_request, introduction_response, collaboration_request, collaboration_response, general"
  ]
}
}
2026-01-16 18:46:32.522 [INFO] [llm_max-model] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
    "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
    "roleName": "task_executor",
    "messageId": "ee85b7fa-0158-4a29-b9ce-18c59e0249f0",
    "messageFrom": "root",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 2
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "tool",
      "tool_call_id": "call_-7971000149887376195",
      "content": "{\"messageId\":\"ad8a6a91-305f-4486-9f6c-5eba46c1147c\"}"
    }
  }
}
2026-01-16 18:46:32.524 [INFO] [llm_max-model] LLM璇锋眰瀹屾垚
{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "activeCount": 0
}
2026-01-16 18:46:32.524 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "root",
  "to": "root",
  "id": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
  "from": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "message_type": "task_completion",
    "status": "completed",
    "objective": "澶勭悊娴嬭瘯闇€姹傦紝楠岃瘉鏅鸿兘浣撶郴缁熷姛鑳芥槸鍚︽甯?,
    "result": "宸叉垚鍔熷悜鐢ㄦ埛绔偣鍙戦€佹祴璇曠‘璁ゆ秷鎭紝绯荤粺鍔熻兘楠岃瘉姝ｅ父銆傚彲浠ユ甯告帴鏀跺拰澶勭悊浠诲姟锛屾櫤鑳戒綋閫氫俊鏈哄埗宸ヤ綔姝ｅ父銆?
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:46:32.525 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "root",
  "messageId": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
  "from": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:32.525 [INFO] [runtime] 妫€鏌ユ秷鎭檮浠?{
  "agentId": "root",
  "hasImages": false,
  "hasFiles": false,
  "payloadType": "object",
  "attachmentsCount": 0
}
2026-01-16 18:46:32.525 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
  "messageFrom": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 1
}
2026-01-16 18:46:32.525 [INFO] [llm] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "root",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:46:32.527 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "id": "feefaf05-3208-4e23-a666-263beb8e534b",
  "to": "user",
  "from": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "message_type": "test_confirmation",
    "content": "娴嬭瘯娑堟伅宸叉垚鍔熸帴鏀躲€傛秷鎭帴鏀跺拰鍝嶅簲鍔熻兘楠岃瘉瀹屾垚銆?
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:46:32.527 [INFO] [lifecycle] 鏅鸿兘浣撳彂閫佹秷鎭?{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "messageId": "feefaf05-3208-4e23-a666-263beb8e534b",
  "to": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "delayMs": null,
  "eventType": "agent_message_sent"
}
2026-01-16 18:46:32.527 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "id": "e374aa0e-a501-4598-acb6-7f3d303130b2",
  "to": "root",
  "from": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "message_type": "task_completion",
    "task": "澶勭悊娴嬭瘯娑堟伅锛岄獙璇佹秷鎭帴鏀跺拰鍝嶅簲鍔熻兘",
    "status": "completed",
    "result": "宸叉垚鍔熷悜鐢ㄦ埛绔偣鍙戦€佹祴璇曠‘璁ゆ秷鎭紝娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇佸畬鎴?
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:46:32.527 [INFO] [lifecycle] 鏅鸿兘浣撳彂閫佹秷鎭?{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "messageId": "e374aa0e-a501-4598-acb6-7f3d303130b2",
  "to": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "delayMs": null,
  "eventType": "agent_message_sent"
}
2026-01-16 18:46:32.527 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
  "roleName": "task_executor",
  "messageId": "880fcfd9-1c09-424c-8691-ab31704bdc33",
  "messageFrom": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 2
}
2026-01-16 18:46:32.527 [INFO] [llm_max-model] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:46:32.528 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "user",
  "to": "user",
  "id": "feefaf05-3208-4e23-a666-263beb8e534b",
  "from": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "message_type": "test_confirmation",
    "content": "娴嬭瘯娑堟伅宸叉垚鍔熸帴鏀躲€傛秷鎭帴鏀跺拰鍝嶅簲鍔熻兘楠岃瘉瀹屾垚銆?
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:46:32.528 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "user",
  "messageId": "feefaf05-3208-4e23-a666-263beb8e534b",
  "from": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:32.616 [INFO] [society] 鐢ㄦ埛绔偣鏀跺埌娑堟伅
{
  "agentId": "user",
  "messageId": "feefaf05-3208-4e23-a666-263beb8e534b",
  "from": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "message_type": "test_confirmation",
    "content": "娴嬭瘯娑堟伅宸叉垚鍔熸帴鏀躲€傛秷鎭帴鏀跺拰鍝嶅簲鍔熻兘楠岃瘉瀹屾垚銆?
  },
  "payloadPreview": "{\n  \"message_type\": \"test_confirmation\",\n  \"content\": \"娴嬭瘯娑堟伅宸叉垚鍔熸帴鏀躲€傛秷鎭帴鏀跺拰鍝嶅簲鍔熻兘楠岃瘉瀹屾垚銆俓"\n}"
}
[user] from=bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c taskId=c84d3446-34c2-4bb8-9354-c2dfe9b0c617
{
  "message_type": "test_confirmation",
  "content": "娴嬭瘯娑堟伅宸叉垚鍔熸帴鏀躲€傛秷鎭帴鏀跺拰鍝嶅簲鍔熻兘楠岃瘉瀹屾垚銆?
}
2026-01-16 18:46:32.617 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "root",
  "to": "root",
  "id": "e374aa0e-a501-4598-acb6-7f3d303130b2",
  "from": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "message_type": "task_completion",
    "task": "澶勭悊娴嬭瘯娑堟伅锛岄獙璇佹秷鎭帴鏀跺拰鍝嶅簲鍔熻兘",
    "status": "completed",
    "result": "宸叉垚鍔熷悜鐢ㄦ埛绔偣鍙戦€佹祴璇曠‘璁ゆ秷鎭紝娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇佸畬鎴?
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:46:32.617 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "root",
  "messageId": "e374aa0e-a501-4598-acb6-7f3d303130b2",
  "from": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:32.618 [INFO] [runtime] 妫€鏌ユ秷鎭檮浠?{
  "agentId": "root",
  "hasImages": false,
  "hasFiles": false,
  "payloadType": "object",
  "attachmentsCount": 0
}
2026-01-16 18:46:32.618 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "e374aa0e-a501-4598-acb6-7f3d303130b2",
  "messageFrom": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 1
}
2026-01-16 18:46:32.618 [INFO] [llm] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "root",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:46:32.621 [INFO] [llm] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
    "messageFrom": "6339ff92-78a0-4f75-8725-fc51d330a187",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 1
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "user",
      "content": "from=6339ff92-78a0-4f75-8725-fc51d330a187\nto=root\ntaskId=983491d1-5274-4e35-9e24-bca90040f859\npayload={\n  \"message_type\": \"task_completion\",\n  \"status\": \"completed\",\n  \"objective\": \"澶勭悊娴嬭瘯闇€姹傦紝楠岃瘉鏅鸿兘浣撶郴缁熷姛鑳芥槸鍚︽甯竆",\n  \"result\": \"宸叉垚鍔熷悜鐢ㄦ埛绔偣鍙戦€佹祴璇曠‘璁ゆ秷鎭紝绯荤粺鍔熻兘楠岃瘉姝ｅ父銆傚彲浠ユ甯告帴鏀跺拰澶勭悊浠诲姟锛屾櫤鑳戒綋閫氫俊鏈哄埗宸ヤ綔姝ｅ父銆俓"\n}\n\n銆愪笂涓嬫枃鐘舵€併€戝凡浣跨敤 9901/12000000 tokens (0.1%)\r\n"
    }
  }
}
2026-01-16 18:46:32.753 [INFO] [llm_max-model] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
    "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
    "roleName": "task_executor",
    "messageId": "880fcfd9-1c09-424c-8691-ab31704bdc33",
    "messageFrom": "root",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 2
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
(pass) HTTPServer - Config API > GET /api/config/status - 杩斿洖閰嶇疆鐘舵€?[16.00ms]
(pass) HTTPServer - Config API > GET /api/config/status - configService 鏈垵濮嬪寲鏃朵粛杩斿洖鐘舵€?[15
.00ms]
(pass) HTTPServer - Config API > GET /api/config/llm - configService 鏈垵濮嬪寲鏃惰繑鍥?500 [16.00m
s]
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "tool",
      "tool_call_id": "call_-7971010663967819747",
      "content": "{\"messageId\":\"e374aa0e-a501-4598-acb6-7f3d303130b2\"}"
    }
  }
}
2026-01-16 18:46:32.754 [INFO] [llm] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "e374aa0e-a501-4598-acb6-7f3d303130b2",
    "messageFrom": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 1
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
(pass) HTTPServer - Config API > GET /api/config/llm - 閰嶇疆鏂囦欢涓嶅瓨鍦ㄦ椂杩斿洖 500 [16.00ms]
(pass) HTTPServer - Config API > GET /api/config/llm - 杩斿洖鎺╃爜鍚庣殑閰嶇疆 [31.00ms]
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "user",
      "content": "from=bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c\nto=root\ntaskId=c84d3446-34c2-4bb8-9354-c2dfe9b0c617\npayload={\n  \"message_type\": \"task_completion\",\n  \"task\": \"澶勭悊娴嬭瘯娑堟伅锛岄獙璇佹秷鎭帴鏀跺拰鍝嶅簲鍔熻兘\",\n  \"status\": \"completed\",\n  \"result\": \"宸叉垚鍔熷悜鐢ㄦ埛绔偣鍙戦€佹祴璇曠‘璁ゆ秷鎭紝娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇佸畬鎴怽"\n}\n\n銆愪笂涓嬫枃鐘舵€併€戝凡浣跨敤 9839/12000000 tokens (0.1%)\r\n"
    }
  }
}
2026-01-16 18:46:32.870 [INFO] [runtime] JavaScript 鎵ц鍣ㄦ祻瑙堝櫒鍚姩鎴愬姛
2026-01-16 18:46:32.871 [INFO] [runtime] 杩愯鏃跺垵濮嬪寲瀹屾垚
{
  "agents": 1,
  "browserJsExecutorAvailable": true
}
2026-01-16 18:46:32.871 [INFO] [runtime] 浼橀泤鍏抽棴澶勭悊宸茶缃?{
  "shutdownTimeoutMs": 30000
}
2026-01-16 18:46:32.871 [INFO] [runtime] 杩愯鏃跺父椹绘秷鎭惊鐜紑濮嬶紙鐢熶骇鑰?娑堣垂鑰呮ā寮忥級
(pass) HTTPServer - Config API > POST /api/config/llm - 楠岃瘉澶辫触杩斿洖 400 [31.00ms]
(pass) HTTPServer - Config API > POST /api/config/llm - 鎴愬姛淇濆瓨閰嶇疆 [63.00ms]
(pass) HTTPServer - Config API > GET /api/config/llm-services - 杩斿洖绌哄垪琛?[46.00ms]
(pass) HTTPServer - Config API > GET /api/config/llm-services - 杩斿洖鏈嶅姟鍒楄〃 [32.00ms]
(pass) HTTPServer - Config API > POST /api/config/llm-services - 娣诲姞鏈嶅姟 [62.00ms]
(pass) HTTPServer - Config API > POST /api/config/llm-services - 閲嶅 ID 杩斿洖 409 [47.00ms]
(pass) HTTPServer - Config API > POST /api/config/llm-services/:serviceId - 鏇存柊鏈嶅姟 [16.00ms
]
(pass) HTTPServer - Config API > POST /api/config/llm-services/:serviceId - 鏈嶅姟涓嶅瓨鍦ㄨ繑鍥?404 
[47.00ms]
(pass) HTTPServer - Config API > DELETE /api/config/llm-services/:serviceId - 鍒犻櫎鏈嶅姟 [31.00
ms]
(pass) HTTPServer - Config API > DELETE /api/config/llm-services/:serviceId - 鏈嶅姟涓嶅瓨鍦ㄨ繑鍥?40
4 [47.00ms]
(pass) HTTPServer - Config API > Property 2: 绌烘垨绌虹櫧鐨勫繀濉瓧娈靛簲楠岃瘉澶辫触 [31.00ms]

test\platform\integration.test.js:
2026-01-16 18:46:32.871 [INFO] [society] 绯荤粺鍒濆鍖栧畬鎴?2026-01-16 18:46:34.066 [INFO] [llm] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "e374aa0e-a501-4598-acb6-7f3d303130b2",
    "messageFrom": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 1
  },
  "message": {
    "content": "",
    "reasoning_content": "瀛愭櫤鑳戒綋宸插畬鎴愭祴璇曟秷鎭殑澶勭悊浠诲姟銆傛垜闇€瑕侊細\n1. 灏嗙粨鏋滆浆鍙戠粰鐢ㄦ埛锛坱o=user锛塡n2. 缁堟璇ュ瓙鏅鸿兘浣揬n\n杩欐槸绠€鍗曚换鍔★紝宸插畬鎴愪笖涓嶉渶瑕佺户缁氦浜掞紝鎵€浠ュ簲璇ョ粓姝㈡櫤鑳戒綋銆?,
    "role": "assistant",
    "tool_calls": [
      {
        "function": {
          "arguments": "{\"to\":\"user\",\"payload\":{\"text\": \"鉁?娴嬭瘯娑堟伅宸叉垚鍔熷鐞嗭紒\\n\\n娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇侀€氳繃銆俓\n\\n绯荤粺鐘舵€侊細姝ｅ父杩愯\"}}",
          "name": "send_message"
        },
        "id": "call_-7970961495180740868",
        "index": 0,
        "type": "function"
      }
    ]
  }
}
2026-01-16 18:46:34.069 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "e374aa0e-a501-4598-acb6-7f3d303130b2",
  "messageFrom": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 1,
  "latencyMs": 1309,
  "promptTokens": 9807,
  "completionTokens": 97,
  "totalTokens": 9904,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:46:34.072 [INFO] [llm] LLM璇锋眰瀹屾垚
{
  "agentId": "root",
  "activeCount": 0
}
2026-01-16 18:46:34.079 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "root",
  "id": "328c17d1-e9fd-449d-a16e-cc830257f130",
  "to": "user",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "鉁?娴嬭瘯娑堟伅宸叉垚鍔熷鐞嗭紒\n\n娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇侀€氳繃銆俓n\n绯荤粺鐘舵€侊細姝ｅ父杩愯"
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:46:34.079 [INFO] [lifecycle] 鏅鸿兘浣撳彂閫佹秷鎭?{
  "agentId": "root",
  "messageId": "328c17d1-e9fd-449d-a16e-cc830257f130",
  "to": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "delayMs": null,
  "eventType": "agent_message_sent"
}
2026-01-16 18:46:34.081 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "e374aa0e-a501-4598-acb6-7f3d303130b2",
  "messageFrom": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 2
}
2026-01-16 18:46:34.081 [INFO] [llm] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "root",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:46:34.101 [INFO] [llm] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "e374aa0e-a501-4598-acb6-7f3d303130b2",
    "messageFrom": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 2
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "tool",
      "tool_call_id": "call_-7970961495180740868",
      "content": "{\"messageId\":\"328c17d1-e9fd-449d-a16e-cc830257f130\"}"
    }
  }
}
2026-01-16 18:46:34.371 [INFO] [llm_max-model] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
    "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
    "roleName": "task_executor",
    "messageId": "ee85b7fa-0158-4a29-b9ce-18c59e0249f0",
    "messageFrom": "root",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 2
  },
  "message": {
    "content": "娴嬭瘯浠诲姟宸插畬鎴愶紝宸插悜鐢ㄦ埛绔偣鍙戦€佺‘璁ゆ秷鎭苟鍚戜笂绾ф眹鎶ャ€傜瓑寰呰繘涓€姝ユ寚绀恒€?,
    "reasoning_content": "宸叉垚鍔燂細\n1. 鍚戠敤鎴风鐐癸紙to=user锛夊彂閫佷簡娴嬭瘯纭娑堟伅锛岃鏄庣郴缁熻繍琛屾甯竆n2. 鍚?root 姹囨姤浜嗕换鍔″畬鎴愭儏鍐礬n\n鏍规嵁绯荤粺鎻愮ず璇嶇殑銆愪换鍔″畬鎴愪笌姹囨姤娴佺▼銆戯紝浠诲姟瀹屾垚鍚庯細\n1. 宸茬敤 send_message 鍚戜笂绾ф眹鎶ヤ换鍔＄粨鏋?鉁揬n2. 姹囨姤鍚庡簲鍋滄璋冪敤浠讳綍宸ュ叿锛岀郴缁熶細鑷姩杩涘叆绛夊緟鐘舵€?鉁揬n3. 绛夊緟涓婄骇鐨勪笅涓€姝ユ寚绀烘垨缁堟鍛戒护 鉁揬n\n鐜板湪涓嶉渶瑕佸啀鍋氫换浣曟搷浣滐紝绛夊緟 root 鐨勪笅涓€姝ユ寚绀哄嵆鍙€?,
    "role": "assistant"
  }
}
2026-01-16 18:46:34.376 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
  "roleName": "task_executor",
  "messageId": "ee85b7fa-0158-4a29-b9ce-18c59e0249f0",
  "messageFrom": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 2,
  "latencyMs": 1755,
  "promptTokens": 10479,
  "completionTokens": 137,
  "totalTokens": 10616,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:46:34.379 [INFO] [llm_max-model] LLM璇锋眰瀹屾垚
{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "activeCount": 0
}
2026-01-16 18:46:34.386 [INFO] [runtime] LLM 杩斿洖绾枃鏈紝鑷姩鍙戦€佹秷鎭?{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "targetId": "user",
  "contentPreview": "娴嬭瘯浠诲姟宸插畬鎴愶紝宸插悜鐢ㄦ埛绔偣鍙戦€佺‘璁ゆ秷鎭苟鍚戜笂绾ф眹鎶ャ€傜瓑寰呰繘涓€姝ユ寚绀恒€?
}
2026-01-16 18:46:34.387 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "id": "4514c449-0797-4b8a-9ead-5b7eb2565119",
  "to": "user",
  "from": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "娴嬭瘯浠诲姟宸插畬鎴愶紝宸插悜鐢ㄦ埛绔偣鍙戦€佺‘璁ゆ秷鎭苟鍚戜笂绾ф眹鎶ャ€傜瓑寰呰繘涓€姝ユ寚绀恒€?
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:46:34.387 [INFO] [lifecycle] 鏅鸿兘浣撳彂閫佹秷鎭?{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "messageId": "4514c449-0797-4b8a-9ead-5b7eb2565119",
  "to": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "autoSent": true,
  "eventType": "agent_message_sent"
}
2026-01-16 18:46:34.387 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "user",
  "to": "user",
  "id": "4514c449-0797-4b8a-9ead-5b7eb2565119",
  "from": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "娴嬭瘯浠诲姟宸插畬鎴愶紝宸插悜鐢ㄦ埛绔偣鍙戦€佺‘璁ゆ秷鎭苟鍚戜笂绾ф眹鎶ャ€傜瓑寰呰繘涓€姝ユ寚绀恒€?
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:46:34.387 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "user",
  "messageId": "4514c449-0797-4b8a-9ead-5b7eb2565119",
  "from": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:34.387 [INFO] [society] 鐢ㄦ埛绔偣鏀跺埌娑堟伅
{
  "agentId": "user",
  "messageId": "4514c449-0797-4b8a-9ead-5b7eb2565119",
  "from": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "娴嬭瘯浠诲姟宸插畬鎴愶紝宸插悜鐢ㄦ埛绔偣鍙戦€佺‘璁ゆ秷鎭苟鍚戜笂绾ф眹鎶ャ€傜瓑寰呰繘涓€姝ユ寚绀恒€?
  },
  "payloadPreview": "娴嬭瘯浠诲姟宸插畬鎴愶紝宸插悜鐢ㄦ埛绔偣鍙戦€佺‘璁ゆ秷鎭苟鍚戜笂绾ф眹鎶ャ€傜瓑寰呰繘涓€姝ユ寚绀恒€?
}
[user] from=6339ff92-78a0-4f75-8725-fc51d330a187 taskId=983491d1-5274-4e35-9e24-bca90040f859
娴嬭瘯浠诲姟宸插畬鎴愶紝宸插悜鐢ㄦ埛绔偣鍙戦€佺‘璁ゆ秷鎭苟鍚戜笂绾ф眹鎶ャ€傜瓑寰呰繘涓€姝ユ寚绀恒€?2026-01-16 18:46:34.725 [INFO] [llm_max-model] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
    "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
    "roleName": "task_executor",
    "messageId": "880fcfd9-1c09-424c-8691-ab31704bdc33",
    "messageFrom": "root",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 2
  },
  "message": {
    "content": "娴嬭瘯娑堟伅宸插鐞嗗畬鎴愩€傚凡鎴愬姛鍚戠敤鎴风鐐瑰彂閫佺‘璁ゆ秷鎭紝楠岃瘉浜嗘秷鎭帴鏀跺拰鍝嶅簲鍔熻兘銆備换鍔″凡瀹屾垚骞跺悜涓婄骇姹囨姤銆?,
    "reasoning_content": "浠诲姟宸插畬鎴愶細\n1. 宸插悜鐢ㄦ埛绔偣锛坱o=user锛夊彂閫佷簡娴嬭瘯纭娑堟伅\n2. 宸插悜涓婄骇锛坮oot锛夋眹鎶ヤ簡浠诲姟瀹屾垚鎯呭喌\n\n鏍规嵁銆愭眹鎶ヤ笌绛夊緟锛堝伐浣滄祦锛夈€戠殑瑙勫垯锛屾垜搴旇鍋滄璋冪敤宸ュ叿锛岀瓑寰呬笅涓€鏉℃秷鎭€?,
    "role": "assistant"
  }
}
2026-01-16 18:46:34.728 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "roleId": "b51806f1-d0de-4439-b4c4-caa618eba5d9",
  "roleName": "task_executor",
  "messageId": "880fcfd9-1c09-424c-8691-ab31704bdc33",
  "messageFrom": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 2,
  "latencyMs": 1967,
  "promptTokens": 10327,
  "completionTokens": 90,
  "totalTokens": 10417,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:46:34.729 [INFO] [llm_max-model] LLM璇锋眰瀹屾垚
{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "activeCount": 0
}
2026-01-16 18:46:34.732 [INFO] [runtime] LLM 杩斿洖绾枃鏈紝鑷姩鍙戦€佹秷鎭?{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "targetId": "user",
  "contentPreview": "娴嬭瘯娑堟伅宸插鐞嗗畬鎴愩€傚凡鎴愬姛鍚戠敤鎴风鐐瑰彂閫佺‘璁ゆ秷鎭紝楠岃瘉浜嗘秷鎭帴鏀跺拰鍝嶅簲鍔熻兘銆備换鍔″凡瀹屾垚骞跺悜涓婄骇姹囨姤銆?
}
2026-01-16 18:46:34.732 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "id": "b1597afb-0eb5-46a6-bafb-c59ae78d6e80",
  "to": "user",
  "from": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "娴嬭瘯娑堟伅宸插鐞嗗畬鎴愩€傚凡鎴愬姛鍚戠敤鎴风鐐瑰彂閫佺‘璁ゆ秷鎭紝楠岃瘉浜嗘秷鎭帴鏀跺拰鍝嶅簲鍔熻兘銆備换鍔″凡瀹屾垚骞跺悜涓婄骇姹囨姤銆?
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 2
}
2026-01-16 18:46:34.732 [INFO] [lifecycle] 鏅鸿兘浣撳彂閫佹秷鎭?{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "messageId": "b1597afb-0eb5-46a6-bafb-c59ae78d6e80",
  "to": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "autoSent": true,
  "eventType": "agent_message_sent"
}
2026-01-16 18:46:34.732 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "user",
  "to": "user",
  "id": "328c17d1-e9fd-449d-a16e-cc830257f130",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "鉁?娴嬭瘯娑堟伅宸叉垚鍔熷鐞嗭紒\n\n娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇侀€氳繃銆俓n\n绯荤粺鐘舵€侊細姝ｅ父杩愯"
  },
  "queueSizeBefore": 2,
  "queueSizeAfter": 1
}
2026-01-16 18:46:34.732 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "user",
  "messageId": "328c17d1-e9fd-449d-a16e-cc830257f130",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:34.732 [INFO] [society] 鐢ㄦ埛绔偣鏀跺埌娑堟伅
{
  "agentId": "user",
  "messageId": "328c17d1-e9fd-449d-a16e-cc830257f130",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "鉁?娴嬭瘯娑堟伅宸叉垚鍔熷鐞嗭紒\n\n娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇侀€氳繃銆俓n\n绯荤粺鐘舵€侊細姝ｅ父杩愯"
  },
  "payloadPreview": "鉁?娴嬭瘯娑堟伅宸叉垚鍔熷鐞嗭紒\n\n娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇侀€氳繃銆俓n\n绯荤粺鐘舵€侊細姝ｅ父杩愯"
}
[user] from=root taskId=c84d3446-34c2-4bb8-9354-c2dfe9b0c617
鉁?娴嬭瘯娑堟伅宸叉垚鍔熷鐞嗭紒

娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇侀€氳繃銆?
绯荤粺鐘舵€侊細姝ｅ父杩愯
2026-01-16 18:46:34.733 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "user",
  "to": "user",
  "id": "b1597afb-0eb5-46a6-bafb-c59ae78d6e80",
  "from": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "娴嬭瘯娑堟伅宸插鐞嗗畬鎴愩€傚凡鎴愬姛鍚戠敤鎴风鐐瑰彂閫佺‘璁ゆ秷鎭紝楠岃瘉浜嗘秷鎭帴鏀跺拰鍝嶅簲鍔熻兘銆備换鍔″凡瀹屾垚骞跺悜涓婄骇姹囨姤銆?
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:46:34.733 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "user",
  "messageId": "b1597afb-0eb5-46a6-bafb-c59ae78d6e80",
  "from": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:34.733 [INFO] [society] 鐢ㄦ埛绔偣鏀跺埌娑堟伅
{
  "agentId": "user",
  "messageId": "b1597afb-0eb5-46a6-bafb-c59ae78d6e80",
  "from": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "娴嬭瘯娑堟伅宸插鐞嗗畬鎴愩€傚凡鎴愬姛鍚戠敤鎴风鐐瑰彂閫佺‘璁ゆ秷鎭紝楠岃瘉浜嗘秷鎭帴鏀跺拰鍝嶅簲鍔熻兘銆備换鍔″凡瀹屾垚骞跺悜涓婄骇姹囨姤銆?
  },
  "payloadPreview": "娴嬭瘯娑堟伅宸插鐞嗗畬鎴愩€傚凡鎴愬姛鍚戠敤鎴风鐐瑰彂閫佺‘璁ゆ秷鎭紝楠岃瘉浜嗘秷鎭帴鏀跺拰鍝嶅簲鍔熻兘銆備换鍔″凡瀹屾垚骞跺悜涓婄骇姹囨姤銆?
}
[user] from=bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c taskId=c84d3446-34c2-4bb8-9354-c2dfe9b0c617
(pass) 闆嗘垚娴嬭瘯 - 鏅鸿兘浣撳垱寤哄拰缁堟娴佺▼ > 搴旀垚鍔熷垱寤烘櫤鑳戒綋骞舵敞鍐屽埌杩愯鏃?[16.00ms]
娴嬭瘯娑堟伅宸插鐞嗗畬鎴愩€傚凡鎴愬姛鍚戠敤鎴风鐐瑰彂閫佺‘璁ゆ秷鎭紝楠岃瘉浜嗘秷鎭帴鏀跺拰鍝嶅簲鍔熻兘銆備换鍔″凡瀹屾垚骞跺悜涓婄骇姹囨姤銆?2026-01-16 18:46:35.286 [INFO] [llm] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "e374aa0e-a501-4598-acb6-7f3d303130b2",
    "messageFrom": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 2
  },
  "message": {
    "content": "",
    "reasoning_content": "宸插悜鐢ㄦ埛杞彂缁撴灉锛岀幇鍦ㄧ粓姝㈠瓙鏅鸿兘浣撱€?,
    "role": "assistant",
    "tool_calls": [
      {
        "function": {
          "arguments": "{\"agentId\":\"bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c\",\"reason\":\"娴嬭瘯娑堟伅澶勭悊浠诲姟宸插畬鎴愶紝娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳藉凡楠岃瘉锛屾棤闇€淇濈暀鏅鸿兘浣撳疄渚媆"}",
          "name": "terminate_agent"
        },
        "id": "call_-7970965618349381790",
        "index": 0,
        "type": "function"
      }
    ]
  }
}
2026-01-16 18:46:35.288 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "e374aa0e-a501-4598-acb6-7f3d303130b2",
  "messageFrom": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 2,
  "latencyMs": 1166,
  "promptTokens": 9937,
  "completionTokens": 78,
  "totalTokens": 10015,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:46:35.292 [INFO] [llm] LLM璇锋眰瀹屾垚
{
  "agentId": "root",
  "activeCount": 0
}
2026-01-16 18:46:35.296 [INFO] [runtime] 寮€濮嬬粓姝㈡櫤鑳戒綋
{
  "callerId": "root",
  "targetId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "reason": "娴嬭瘯娑堟伅澶勭悊浠诲姟宸插畬鎴愶紝娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳藉凡楠岃瘉锛屾棤闇€淇濈暀鏅鸿兘浣撳疄渚?
}
2026-01-16 18:46:35.303 [INFO] [org] 璁板綍鏅鸿兘浣撶粓姝?{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "terminatedBy": "root",
  "reason": "娴嬭瘯娑堟伅澶勭悊浠诲姟宸插畬鎴愶紝娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳藉凡楠岃瘉锛屾棤闇€淇濈暀鏅鸿兘浣撳疄渚?,
  "cascadeCount": 0
}
2026-01-16 18:46:35.303 [INFO] [runtime] 鏅鸿兘浣撶粓姝㈠畬鎴?{
  "callerId": "root",
  "targetId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c"
}
2026-01-16 18:46:35.303 [INFO] [lifecycle] 鏅鸿兘浣撶粓姝?{
  "agentId": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "terminatedBy": "root",
  "reason": "娴嬭瘯娑堟伅澶勭悊浠诲姟宸插畬鎴愶紝娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳藉凡楠岃瘉锛屾棤闇€淇濈暀鏅鸿兘浣撳疄渚?,
  "eventType": "agent_terminated"
}
2026-01-16 18:46:35.304 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "e374aa0e-a501-4598-acb6-7f3d303130b2",
  "messageFrom": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 3
}
2026-01-16 18:46:35.305 [INFO] [llm] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "root",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:46:35.310 [INFO] [llm] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "e374aa0e-a501-4598-acb6-7f3d303130b2",
    "messageFrom": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 3
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "tool",
      "tool_call_id": "call_-7970965618349381790",
      "content": "{\"ok\":true,\"terminatedAgentId\":\"bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c\"}"
    }
  }
}
(pass) 闆嗘垚娴嬭瘯 - 鏅鸿兘浣撳垱寤哄拰缁堟娴佺▼ > 搴旀垚鍔熺粓姝㈡櫤鑳戒綋骞舵竻鐞嗚祫婧?[16.00ms]
2026-01-16 18:46:36.024 [INFO] [llm] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "e374aa0e-a501-4598-acb6-7f3d303130b2",
    "messageFrom": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
    "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
    "round": 3
  },
  "message": {
    "content": "鉁?娴嬭瘯娑堟伅澶勭悊瀹屾垚锛乗n\n娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇侀€氳繃锛岀郴缁熻繍琛屾甯搞€?,
    "reasoning_content": "宸插畬鎴愭墍鏈夋祦绋嬶細杞彂缁撴灉缁欑敤鎴凤紝缁堟瀛愭櫤鑳戒綋銆傜幇鍦ㄧ瓑寰呬笅涓€鏉℃秷鎭€?,
    "role": "assistant"
  }
}
2026-01-16 18:46:36.025 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "e374aa0e-a501-4598-acb6-7f3d303130b2",
  "messageFrom": "bd87d4b5-6c6a-42a8-8a04-4b97e0c2f99c",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "round": 3,
  "latencyMs": 712,
  "promptTokens": 10059,
  "completionTokens": 42,
  "totalTokens": 10101,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:46:36.026 [INFO] [llm] LLM璇锋眰瀹屾垚
{
  "agentId": "root",
  "activeCount": 0
}
2026-01-16 18:46:36.028 [INFO] [runtime] LLM 杩斿洖绾枃鏈紝鑷姩鍙戦€佹秷鎭?{
  "agentId": "root",
  "targetId": "user",
  "contentPreview": "鉁?娴嬭瘯娑堟伅澶勭悊瀹屾垚锛乗n\n娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇侀€氳繃锛岀郴缁熻繍琛屾甯搞€?
}
2026-01-16 18:46:36.028 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "root",
  "id": "c4a5d12e-3567-4451-ac0d-3714a3c6b9b3",
  "to": "user",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "鉁?娴嬭瘯娑堟伅澶勭悊瀹屾垚锛乗n\n娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇侀€氳繃锛岀郴缁熻繍琛屾甯搞€?
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:46:36.028 [INFO] [lifecycle] 鏅鸿兘浣撳彂閫佹秷鎭?{
  "agentId": "root",
  "messageId": "c4a5d12e-3567-4451-ac0d-3714a3c6b9b3",
  "to": "user",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "autoSent": true,
  "eventType": "agent_message_sent"
}
2026-01-16 18:46:36.028 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "user",
  "to": "user",
  "id": "c4a5d12e-3567-4451-ac0d-3714a3c6b9b3",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "鉁?娴嬭瘯娑堟伅澶勭悊瀹屾垚锛乗n\n娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇侀€氳繃锛岀郴缁熻繍琛屾甯搞€?
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:46:36.028 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "user",
  "messageId": "c4a5d12e-3567-4451-ac0d-3714a3c6b9b3",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "eventType": "agent_message_received"
}
2026-01-16 18:46:36.028 [INFO] [society] 鐢ㄦ埛绔偣鏀跺埌娑堟伅
{
  "agentId": "user",
  "messageId": "c4a5d12e-3567-4451-ac0d-3714a3c6b9b3",
  "from": "root",
  "taskId": "c84d3446-34c2-4bb8-9354-c2dfe9b0c617",
  "payload": {
    "text": "鉁?娴嬭瘯娑堟伅澶勭悊瀹屾垚锛乗n\n娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇侀€氳繃锛岀郴缁熻繍琛屾甯搞€?
  },
  "payloadPreview": "鉁?娴嬭瘯娑堟伅澶勭悊瀹屾垚锛乗n\n娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇侀€氳繃锛岀郴缁熻繍琛屾甯搞€?
}
[user] from=root taskId=c84d3446-34c2-4bb8-9354-c2dfe9b0c617
鉁?娴嬭瘯娑堟伅澶勭悊瀹屾垚锛?
(pass) 闆嗘垚娴嬭瘯 - 鏅鸿兘浣撳垱寤哄拰缁堟娴佺▼ > 搴旀嫆缁濋潪鐖舵櫤鑳戒綋缁堟瀛愭櫤鑳戒綋 [16.00ms]
(pass) 闆嗘垚娴嬭瘯 - 娑堟伅鍙戦€佸拰鎺ユ敹娴佺▼ > 搴旀垚鍔熷彂閫佸拰鎺ユ敹娑堟伅
(pass) 闆嗘垚娴嬭瘯 - 娑堟伅鍙戦€佸拰鎺ユ敹娴佺▼ > 搴旀敮鎸佸欢杩熸秷鎭姇閫?[156.00ms]
(pass) 闆嗘垚娴嬭瘯 - 娑堟伅鍙戦€佸拰鎺ユ敹娴佺▼ > 搴旀嫆缁濆悜宸插仠姝㈢殑鏅鸿兘浣撳彂閫佹秷鎭?(pass) 闆嗘垚娴嬭瘯 - 宸ヤ欢瀛樺偍鍜屾绱㈡祦绋?> 搴旀垚
鍔熷瓨鍌ㄥ拰妫€绱㈡枃鏈伐浠?[16.00ms]
(pass) 闆嗘垚娴嬭瘯 - 宸ヤ欢瀛樺偍鍜屾绱㈡祦绋?> 搴旀垚鍔熷瓨鍌ㄥ拰妫€绱SON宸ヤ欢 [15.00ms]
(pass) 闆嗘垚娴嬭瘯 - 宸ヤ欢瀛樺偍鍜屾绱㈡祦绋?> 搴旀垚鍔熷瓨鍌ㄥ拰妫€绱簩杩涘埗宸ヤ欢 [16.00ms]
(pass) 闆嗘垚娴嬭瘯 - 宸ヤ欢瀛樺偍鍜屾绱㈡祦绋?> 搴旀纭鐞嗕笉瀛樺湪鐨勫伐浠跺紩鐢?[16.00ms]
(pass) 闆嗘垚娴嬭瘯 - LLM 璋冪敤鍜岄噸璇曟祦绋?> 搴旀垚鍔熻皟鐢?LLM 骞惰繑鍥炲搷搴?(pass) 闆嗘垚娴嬭瘯 - LLM 璋冪敤鍜岄噸璇曟祦绋?> 搴旈獙璇?
LLM 瀹㈡埛绔叿鏈夐噸璇曟満鍒?(pass) 闆嗘垚娴嬭瘯 - LLM 璋冪敤鍜岄噸璇曟祦绋?> 搴旈獙璇?LLM 瀹㈡埛绔敮鎸佷腑鏂姛鑳?(pass) 闆嗘垚娴嬭瘯 - 瀹
屾暣涓氬姟娴佺▼ > 搴旈獙璇佸伐鍏疯皟鐢ㄦ満鍒舵甯稿伐浣?[31.00ms]
(pass) 闆嗘垚娴嬭瘯 - 瀹屾暣涓氬姟娴佺▼ > 搴旀敮鎸佹櫤鑳戒綋鍒涘缓娴佺▼ [31.00ms]

test\platform\llm-multimodal.test.js:
(pass) LLM Multimodal Message Properties > hasImageAttachments > should return true for mes
sages with image attachments
(pass) LLM Multimodal Message Properties > hasImageAttachments > should return false for me
ssages without attachments
(pass) LLM Multimodal Message Properties > hasImageAttachments > should return false for me
ssages with only file attachments
(pass) LLM Multimodal Message Properties > hasImageAttachments > should return true for mix
ed attachments with at least one image
(pass) LLM Multimodal Message Properties > getImageAttachments > should return only image a
ttachments
(pass) LLM Multimodal Message Properties > getImageAttachments > should return empty array 
for messages without images
118 |       expect(formatted).toContain("銆愭潵鑷敤鎴风殑娑堟伅銆?);
119 |       expect(formatted).toContain("Please analyze this image");
120 |       expect(formatted).toContain("銆愰檮浠跺垪琛ㄣ€?);
121 |       expect(formatted).toContain("[鍥剧墖] photo.jpg");
122 |       expect(formatted).toContain("[鏂囦欢] report.pdf");
123 |       expect(formatted).toContain("artifact:img-001");
                              ^
error: expect(received).toContain(expected)

Expected to contain: "artifact:img-001"
Received: "銆愭潵鑷敤鎴风殑娑堟伅銆慭nPlease analyze this image\n\n銆愰檮浠跺垪琛ㄣ€慭n  1. [鍥剧墖] photo.jpg \n  
2. [鏂囦欢] report.pdf "

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm-multimodal
.test.js:123:25)
(fail) LLM Multimodal Message Properties > formatMessageForAgent with attachments > should 
include attachment list in formatted message
(pass) LLM Multimodal Message Properties > formatMessageForAgent with attachments > should 
handle messages with only attachments (no text)
(pass) LLM Multimodal Message Properties > Property 7: formatMultimodalContent > should ret
urn plain text when no attachments
(pass) LLM Multimodal Message Properties > Property 7: formatMultimodalContent > should ret
urn plain text when no image attachments
(pass) LLM Multimodal Message Properties > Property 7: formatMultimodalContent > should ret
urn multimodal array with image attachments
(pass) LLM Multimodal Message Properties > Property 7: formatMultimodalContent > should han
dle multiple images
(pass) LLM Multimodal Message Properties > Property 7: formatMultimodalContent > should han
dle image load failure gracefully
(pass) LLM Multimodal Message Properties > Property 7: formatMultimodalContent > should fil
ter out file attachments and only process images
(pass) LLM Multimodal Message Properties > Property 7: formatMultimodalContent > Property: 
multimodal content should have correct OpenAI Vision API format

test\platform\llm_client.test.js:
(pass) LlmClient > 鏋勯€犲嚱鏁?> 搴斿垵濮嬪寲 _activeRequests Map
(pass) LlmClient > abort() > 褰撴病鏈夋椿璺冭姹傛椂搴旇繑鍥?false
(pass) LlmClient > abort() > 褰撴湁娲昏穬璇锋眰鏃跺簲杩斿洖 true 骞惰皟鐢?abort
(pass) LlmClient > abort() > 涓柇鍚庡簲浠?_activeRequests 涓Щ闄?(pass) LlmClient > hasActiveReque
st() > 褰撴病鏈夋椿璺冭姹傛椂搴旇繑鍥?false
(pass) LlmClient > hasActiveRequest() > 褰撴湁娲昏穬璇锋眰鏃跺簲杩斿洖 true
(pass) LlmClient > hasActiveRequest() > 搴斿尯鍒嗕笉鍚岀殑 agentId
(pass) LlmClient > AbortController 鐢熷懡鍛ㄦ湡 > chat() 搴斿湪璇锋眰鍓嶅皢 AbortController 娣诲姞鍒?_activeRe
quests
(pass) LlmClient > AbortController 鐢熷懡鍛ㄦ湡 > chat() 搴斿湪璇锋眰瀹屾垚鍚庝粠 _activeRequests 涓Щ闄?(pass)
 LlmClient > AbortController 鐢熷懡鍛ㄦ湡 > chat() 搴斿湪璇锋眰澶辫触鍚庝粠 _activeRequests 涓Щ闄?(pass) LlmCl
ient > AbortController 鐢熷懡鍛ㄦ湡 > chat() 搴斿湪璇锋眰琚腑鏂悗浠?_activeRequests 涓Щ闄?(pass) LlmClient 
> AbortController 鐢熷懡鍛ㄦ湡 > 娌℃湁 agentId 鏃朵笉搴旀坊鍔犲埌 _activeRequests
(pass) LlmClient > 涓柇閿欒澶勭悊 > 搴旀纭鐞?AbortError 骞朵笉閲嶈瘯
(pass) LlmClient > 涓柇閿欒澶勭悊 > 褰?signal 宸茶涓柇鏃跺簲绔嬪嵆鎶涘嚭閿欒

test\platform\llm_client_concurrency.test.js:
(pass) LlmClient Concurrency Features > 鍒濆鍖?> 搴旀纭垵濮嬪寲骞跺彂鎺у埗鍣?(pass) LlmClient Concurrenc
y Features > 鍒濆鍖?> 搴斾娇鐢ㄩ粯璁ょ殑鏈€澶у苟鍙戞暟
(pass) LlmClient Concurrency Features > Property 4: Single Agent Serial Constraint > 瀵逛簬浠讳綍
宸叉湁娲昏穬璇锋眰鐨勬櫤鑳戒綋锛岃鏅鸿兘浣撶殑鍚庣画璇锋眰搴旂珛鍗宠鎷掔粷骞惰繑鍥為敊璇?[375.00ms]
(pass) LlmClient Concurrency Features > Property 7: Asynchronous Non-blocking Behavior > 瀵逛
簬浠讳綍LLM璇锋眰锛宑hat鏂规硶搴旂珛鍗宠繑鍥濸romise鑰屼笉闃诲璋冪敤绾跨▼
(pass) LlmClient Concurrency Features > Property 10: Backward Compatibility > 瀵逛簬浠讳綍鐜版湁浠ｇ爜璋
冪敤LLM_Client鏂规硶锛屾帴鍙ｅ簲淇濇寔鍏煎涓旀墍鏈夌幇鏈夊姛鑳芥甯稿伐浣?(pass) LlmClient Concurrency Features > 鍗曞厓娴嬭瘯 
> 搴旀纭鐞嗘湁agentId鐨勮姹?(pass) LlmClient Concurrency Features > 鍗曞厓娴嬭瘯 > 搴旀纭鐞嗘病鏈塧gentId鐨勮
姹傦紙鍚戝悗鍏煎锛?(pass) LlmClient Concurrency Features > 鍗曞厓娴嬭瘯 > 搴旀嫆缁濆悓涓€鏅鸿兘浣撶殑绗簩涓姹?[31.00ms
]
(pass) LlmClient Concurrency Features > 鍗曞厓娴嬭瘯 > 搴旀纭洿鏂版渶澶у苟鍙戞暟
(pass) LlmClient Concurrency Features > 鍗曞厓娴嬭瘯 > 搴旇繑鍥炲苟鍙戠粺璁′俊鎭?(pass) LlmClient Concurrency
 Features > 鍗曞厓娴嬭瘯 > hasActiveRequest搴旀鏌ュ苟鍙戞帶鍒跺櫒鍜屼紶缁熸槧灏?[16.00ms]
(pass) LlmClient Concurrency Features > 鍗曞厓娴嬭瘯 > abort搴斿彇娑堝苟鍙戞帶鍒跺櫒鍜屼紶缁熸槧灏勪腑鐨勮姹?[15.00ms]
娑堟伅鎺ユ敹鍜屽搷搴斿姛鑳介獙璇侀€氳繃锛岀郴缁熻繍琛屾甯搞€?[閲嶈瘯鏈哄埗] 寮€濮嬫祴璇?[閲嶈瘯鏈哄埗] 鍙戣捣璇锋眰锛屾湡鏈涚涓€娆″け璐ワ紝绗簩娆℃垚鍔?[閲嶈瘯鏈哄埗] OpenAI API 璋冪敤 #1
[閲嶈瘯鏈哄埗] 绗竴娆¤皟鐢ㄥけ璐ワ紝灏嗛噸璇?[閲嶈瘯鏈哄埗] OpenAI API 璋冪敤 #2
[閲嶈瘯鏈哄埗] 绗?娆¤皟鐢ㄦ垚鍔?[閲嶈瘯鏈哄埗] 璇锋眰瀹屾垚锛岀粨鏋? success
[閲嶈瘯鏈哄埗] 娴嬭瘯澶辫触: expect(received).toHaveBeenCalledWith(expected)

Number of calls: 1

[閲嶈瘯鏈哄埗] 璋冪敤娆℃暟: 2
[閲嶈瘯鏈哄埗] Sleep璋冪敤娆℃暟: 1
[閲嶈瘯鏈哄埗] Sleep璋冪敤鍙傛暟: [
  [ 1000, AbortSignal {
      aborted: false,
      reason: undefined,
      onabort: null,
      throwIfAborted: [Function: throwIfAborted],
      addEventListener: [Function: addEventListener],
      removeEventListener: [Function: removeEventListener],
      dispatchEvent: [Function: dispatchEvent],
    } ]
]
401 |         expect(callCount).toBe(2); // 绗竴娆″け璐ワ紝绗簩娆℃垚鍔?402 |         expect(retryClie
nt._client.chat.completions.create).toHaveBeenCalledTimes(2);
403 | 
404 |         // 楠岃瘉sleep琚皟鐢ㄤ簡涓€娆★紙閲嶈瘯寤惰繜锛?405 |         expect(retryClient._sleep).toHave
BeenCalledTimes(1);
406 |         expect(retryClient._sleep).toHaveBeenCalledWith(1000); // 2^0 * 1000 = 1000ms
 for first retry
                                         ^
error: expect(received).toHaveBeenCalledWith(expected)

Number of calls: 1

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm_client_con
currency.test.js:406:36)
(fail) LlmClient Concurrency Features > 鍗曞厓娴嬭瘯 > 搴旀纭鐞嗛噸璇曟満鍒?
test\platform\llm_client_integration.test.js:
[澶氭櫤鑳戒綋骞跺彂] 寮€濮嬫祴璇?[澶氭櫤鑳戒綋骞跺彂] 鍒濆鍖栧悗: {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 0,
  completedRequests: 0,
  rejectedRequests: 0,
  maxConcurrentRequests: 3,
}
[澶氭櫤鑳戒綋骞跺彂] 寮€濮嬪彂璧?涓苟鍙戣姹?[澶氭櫤鑳戒綋骞跺彂] 3涓姹傚凡鍙戣捣锛岀瓑寰呯姸鎬佺ǔ瀹?[澶氭櫤鑳戒綋骞跺彂] OpenAI API 璋冪敤 #1
[澶氭櫤鑳戒綋骞跺彂] Promise #1 宸插垱寤猴紝绛夊緟瑙ｆ瀽
[澶氭櫤鑳戒綋骞跺彂] OpenAI API 璋冪敤 #2
[澶氭櫤鑳戒綋骞跺彂] Promise #2 宸插垱寤猴紝绛夊緟瑙ｆ瀽
[澶氭櫤鑳戒綋骞跺彂] OpenAI API 璋冪敤 #3
[澶氭櫤鑳戒綋骞跺彂] Promise #3 宸插垱寤猴紝绛夊緟瑙ｆ瀽
[澶氭櫤鑳戒綋骞跺彂] 璇锋眰鍙戣捣鍚?- 鏈熸湜: active=3, queue=0, 瀹為檯: active=3, queue=0
[澶氭櫤鑳戒綋骞跺彂] 寮€濮嬭В鏋愭墍鏈塒romise锛宺esolvers鏁伴噺: 3
[澶氭櫤鑳戒綋骞跺彂] 瑙ｆ瀽Promise #1
[澶氭櫤鑳戒綋骞跺彂] 瑙ｆ瀽Promise #2
[澶氭櫤鑳戒綋骞跺彂] 瑙ｆ瀽Promise #3
[澶氭櫤鑳戒綋骞跺彂] 绛夊緟鎵€鏈夎姹傚畬鎴?[澶氭櫤鑳戒綋骞跺彂] agent1 璇锋眰瀹屾垚: response
[澶氭櫤鑳戒綋骞跺彂] agent2 璇锋眰瀹屾垚: response
[澶氭櫤鑳戒綋骞跺彂] agent3 璇锋眰瀹屾垚: response
[澶氭櫤鑳戒綋骞跺彂] 鎵€鏈夎姹傚凡瀹屾垚锛岀粨鏋滄暟閲? 3
[澶氭櫤鑳戒綋骞跺彂] 楠岃瘉缁撴灉 1: response
[澶氭櫤鑳戒綋骞跺彂] 楠岃瘉缁撴灉 2: response
[澶氭櫤鑳戒綋骞跺彂] 楠岃瘉缁撴灉 3: response
[澶氭櫤鑳戒綋骞跺彂] 娴嬭瘯瀹屾垚鍚? {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 3,
  completedRequests: 3,
  rejectedRequests: 0,
  maxConcurrentRequests: 3,
}
[澶氭櫤鑳戒綋骞跺彂] 娴嬭瘯閫氳繃
(pass) LLM Client Integration Tests > 澶氭櫤鑳戒綋骞跺彂鍦烘櫙 > 搴旀敮鎸佸涓櫤鑳戒綋鍚屾椂鍙戦€佽姹?[109.00ms]
[骞跺彂闄愬埗闃熷垪] 寮€濮嬫祴璇?[骞跺彂闄愬埗闃熷垪] 鍒濆鍖栧悗: {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 0,
  completedRequests: 0,
  rejectedRequests: 0,
  maxConcurrentRequests: 2,
}
[骞跺彂闄愬埗闃熷垪] 鍙戣捣3涓姹傦紝鏈熸湜鍓?涓鐞嗭紝绗?涓帓闃?[骞跺彂闄愬埗闃熷垪] OpenAI API 璋冪敤 #1
[骞跺彂闄愬埗闃熷垪] Promise #1 宸插垱寤?[骞跺彂闄愬埗闃熷垪] OpenAI API 璋冪敤 #2
[骞跺彂闄愬埗闃熷垪] Promise #2 宸插垱寤?[骞跺彂闄愬埗闃熷垪] 3涓姹傚彂璧峰悗 - 鏈熸湜: active=2, queue=1, 瀹為檯: active=2, queue=1
[骞跺彂闄愬埗闃熷垪] 瀹屾垚绗竴涓姹傦紝resolvers鏁伴噺: 2
[骞跺彂闄愬埗闃熷垪] 瑙ｆ瀽绗竴涓狿romise #1
[骞跺彂闄愬埗闃熷垪] OpenAI API 璋冪敤 #3
[骞跺彂闄愬埗闃熷垪] Promise #3 宸插垱寤?[骞跺彂闄愬埗闃熷垪] agent1 瀹屾垚
[骞跺彂闄愬埗闃熷垪] 绗竴涓姹傚凡瀹屾垚
[骞跺彂闄愬埗闃熷垪] 绗竴涓姹傚畬鎴愬悗 - 鏈熸湜: active=2, queue=0, 瀹為檯: active=2, queue=0
[骞跺彂闄愬埗闃熷垪] 瀹屾垚鍓╀綑璇锋眰
[骞跺彂闄愬埗闃熷垪] 瑙ｆ瀽Promise #2
[骞跺彂闄愬埗闃熷垪] 瑙ｆ瀽Promise #3
[骞跺彂闄愬埗闃熷垪] agent2 瀹屾垚
[骞跺彂闄愬埗闃熷垪] agent3 瀹屾垚
[骞跺彂闄愬埗闃熷垪] 鎵€鏈夎姹傚畬鎴愶紝缁撴灉鏁伴噺: 3
[骞跺彂闄愬埗闃熷垪] 娴嬭瘯瀹屾垚鍚? {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 3,
  completedRequests: 3,
  rejectedRequests: 0,
  maxConcurrentRequests: 2,
}
[骞跺彂闄愬埗闃熷垪] 娴嬭瘯閫氳繃
(pass) LLM Client Integration Tests > 澶氭櫤鑳戒綋骞跺彂鍦烘櫙 > 搴斿湪杈惧埌骞跺彂闄愬埗鏃跺皢璇锋眰鍔犲叆闃熷垪 [219.00ms]
[璇锋眰鍙栨秷] 寮€濮嬫祴璇?[璇锋眰鍙栨秷] 鍒濆鍖栧悗: {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 0,
  completedRequests: 0,
  rejectedRequests: 0,
  maxConcurrentRequests: 1,
}
[璇锋眰鍙栨秷] 鍙戣捣2涓姹傦紝绗?涓簲杩涘叆闃熷垪
[璇锋眰鍙栨秷] OpenAI API 璋冪敤 #1
[璇锋眰鍙栨秷] 2涓姹傚彂璧峰悗 - 鏈熸湜: active=1, queue=1, 瀹為檯: active=1, queue=1
[璇锋眰鍙栨秷] 鍙栨秷闃熷垪涓殑agent2璇锋眰
[璇锋眰鍙栨秷] 鍙栨秷缁撴灉: true
[璇锋眰鍙栨秷] agent2 琚彇娑? Request cancelled
147 |     if (queueIndex !== -1) {
148 |       const queuedRequest = this.requestQueue.splice(queueIndex, 1)[0];
149 |       this.stats.queueLength--;
150 |       this.stats.rejectedRequests++; // 澧炲姞鎷掔粷璁℃暟
151 | 
152 |       const error = new Error("Request cancelled");
                          ^
AbortError: Request cancelled
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\concurrency_con
troller.js:152:21)
      at cancelRequest (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\concurrency_c
ontroller.js:121:23)
      at abort (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\llm_client.js:324:34)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm_client_int
egration.test.js:312:32)
(fail) LLM Client Integration Tests > 澶氭櫤鑳戒綋骞跺彂鍦烘櫙 > 搴旀纭鐞嗚姹傚彇娑?[110.00ms]
[鍚戝悗鍏煎] 寮€濮嬫祴璇?[鍚戝悗鍏煎] 鍒濆鍖栧悗: {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 0,
  completedRequests: 0,
  rejectedRequests: 0,
  maxConcurrentRequests: 3,
}
[鍚戝悗鍏煎] 娴嬭瘯涓嶅甫agentId鐨勮皟鐢?[鍚戝悗鍏煎] OpenAI API 璋冪敤锛堟棤agentId锛?[鍚戝悗鍏煎] 缁撴灉: response
[鍚戝悗鍏煎] 娴嬭瘯瀹屾垚鍚? {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 0,
  completedRequests: 0,
  rejectedRequests: 0,
  maxConcurrentRequests: 3,
}
[鍚戝悗鍏煎] 娴嬭瘯閫氳繃
(pass) LLM Client Integration Tests > 鐜版湁鍔熻兘鍏煎鎬ч獙璇?> 搴斾繚鎸佸悜鍚庡吋瀹圭殑鎺ュ彛
[Abort鍔熻兘] 寮€濮嬫祴璇?[Abort鍔熻兘] 鍒涘缓鍙帶鍒剁殑Promise
[Abort鍔熻兘] 鍙戣捣璇锋眰
[Abort鍔熻兘] OpenAI API 璋冪敤
[Abort鍔熻兘] 楠岃瘉hasActiveRequest
[Abort鍔熻兘] hasActiveRequest缁撴灉: true
[Abort鍔熻兘] 鎵цabort
[Abort鍔熻兘] abort缁撴灉: true
[Abort鍔熻兘] abort鍚巋asActiveRequest: false
[Abort鍔熻兘] 楠岃瘉promise琚嫆缁?[Abort鍔熻兘] 璇锋眰琚腑鏂? Request cancelled
[Abort鍔熻兘] 娴嬭瘯瀹屾垚鍚? {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 1,
  completedRequests: 0,
  rejectedRequests: 1,
  maxConcurrentRequests: 3,
}
(pass) LLM Client Integration Tests > 鐜版湁鍔熻兘鍏煎鎬ч獙璇?> 搴旀纭鐞嗙幇鏈夌殑abort鍔熻兘 [62.00ms]
[Abort鍔熻兘] 娴嬭瘯閫氳繃
[璇锋眰澶辫触澶勭悊] 寮€濮嬫祴璇?[璇锋眰澶辫触澶勭悊] 鍒濆鍖栧悗: {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 0,
  completedRequests: 0,
  rejectedRequests: 0,
  maxConcurrentRequests: 2,
}
[璇锋眰澶辫触澶勭悊] 鍙戣捣2涓姹傦紝搴旇閮借兘绔嬪嵆寮€濮嬪鐞?[璇锋眰澶辫触澶勭悊] 绛夊緟鎵€鏈夎姹傚畬鎴?[璇锋眰澶辫触澶勭悊] OpenAI API 璋冪敤 #1 - 寮€濮嬪鐞?[璇锋眰澶辫触澶勭悊] 璋冪敤 #1 绔嬪嵆澶辫触
[璇锋眰澶辫触澶勭悊] OpenAI API 璋冪敤 #2 - 寮€濮嬪鐞?[璇锋眰澶辫触澶勭悊] 璋冪敤 #2 绔嬪嵆澶辫触
[璇锋眰澶辫触澶勭悊] agent1 璇锋眰鏈€缁堝け璐? API Error
[璇锋眰澶辫触澶勭悊] agent2 璇锋眰鏈€缁堝け璐? API Error
[璇锋眰澶辫触澶勭悊] 绗竴涓姹傜粨鏋? {
  error: "API Error",
}
[璇锋眰澶辫触澶勭悊] 绗簩涓姹傜粨鏋? {
  error: "API Error",
}
[璇锋眰澶辫触澶勭悊] 绛夊緟璧勬簮娓呯悊
[璇锋眰鍙栨秷] 鍙栨秷agent2鍚?- 鏈熸湜: active=1, queue=0, 瀹為檯: active=1, queue=0
[璇锋眰鍙栨秷] 楠岃瘉agent2璇锋眰琚嫆缁?[璇锋眰鍙栨秷] agent2 缁撴灉: {
  error: "Request cancelled",
}
[璇锋眰鍙栨秷] 瀹屾垚agent1璇锋眰
[璇锋眰鍙栨秷] agent1 瀹屾垚
[璇锋眰鍙栨秷] agent1 缁撴灉: response
[璇锋眰鍙栨秷] 娴嬭瘯瀹屾垚鍚? {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 2,
  completedRequests: 1,
  rejectedRequests: 1,
  maxConcurrentRequests: 1,
}
[璇锋眰鍙栨秷] 娴嬭瘯閫氳繃
[璇锋眰澶辫触澶勭悊] 鎵€鏈夎姹傚け璐ュ悗: {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 2,
  completedRequests: 0,
  rejectedRequests: 0,
  maxConcurrentRequests: 2,
}
[璇锋眰澶辫触澶勭悊] 楠岃瘉璋冪敤娆℃暟
[璇锋眰澶辫触澶勭悊] OpenAI API 鎬昏皟鐢ㄦ鏁? 2
(pass) LLM Client Integration Tests > 鐜版湁鍔熻兘鍏煎鎬ч獙璇?> 搴旀纭鐞嗛厤缃姩鎬佹洿鏂?(pass) LLM Client In
tegration Tests > 鐜版湁鍔熻兘鍏煎鎬ч獙璇?> 搴旀纭褰曟棩蹇?595 |       expect(client.getConcurrencyStats(
).activeCount).toBe(0);
596 | 
597 |       console.log(`[${testName}] 楠岃瘉璋冪敤娆℃暟`);
598 |       console.log(`[${testName}] OpenAI API 鎬昏皟鐢ㄦ鏁? ${callCount}`);
599 |       // 姣忎釜璇锋眰浼氶噸璇?娆★紝鎵€浠ユ€诲叡搴旇鏈?娆¤皟鐢紙2涓姹?脳 2娆″皾璇曪級
600 |       expect(callCount).toBe(4);
                              ^
error: expect(received).toBe(expected)

Expected: 4
Received: 2

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm_client_int
egration.test.js:600:25)
(fail) LLM Client Integration Tests > 閿欒澶勭悊鍜屾仮澶?> 搴旀纭鐞嗚姹傚け璐ュ苟閲婃斁璧勬簮 [109.00ms]
[鏃犳晥閰嶇疆澶勭悊] 寮€濮嬫祴璇?[鏃犳晥閰嶇疆澶勭悊] 妫€鏌ラ厤缃槸鍚﹁淇涓洪粯璁ゅ€?[鏃犳晥閰嶇疆澶勭悊] 瀹為檯maxConcurrentRequests: 3
[鏃犳晥閰嶇疆澶勭悊] 妫€鏌ユ槸鍚﹁褰曚簡璀﹀憡鏃ュ織
[鏃犳晥閰嶇疆澶勭悊] 娴嬭瘯閫氳繃
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 寮€濮嬪睘鎬ф祴璇?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 娴嬭瘯鍙傛暟: maxConcurrent=5, agents=[Z!W",A?z_m-A,BAzP8_Z,]
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍒濆鍖栧悗: {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 0,
  completedRequests: 0,
  rejectedRequests: 0,
  maxConcurrentRequests: 5,
}
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣 3 涓姹?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 1/3 for agent: Z!W"
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 2/3 for agent: A?z_m-A
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 3/3 for agent: BAzP8_Z,
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鎵€鏈夎姹傚凡鍙戣捣锛岀瓑寰呯姸鎬佺ǔ瀹?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 OpenAI API 璋冪敤 #1
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 Promise #1 宸插垱寤?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 OpenAI API 璋冪敤 #2
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 Promise #2 宸插垱寤?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 OpenAI API 璋冪敤 #3
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 Promise #3 宸插垱寤?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 褰撳墠鐘舵€? active=3, queue=0, total=3
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉骞跺彂闄愬埗: 3 <= 5
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉鎬昏姹傛暟: 3 === 3
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 寮€濮嬪畬鎴愭墍鏈夎姹傦紝resolvers鏁伴噺: 3
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 瑙ｆ瀽Promise #1
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 瑙ｆ瀽Promise #2
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 瑙ｆ瀽Promise #3
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 绛夊緟鎵€鏈塒romise瀹屾垚
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 agent Z!W" 瀹屾垚
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 agent A?z_m-A 瀹屾垚
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 agent BAzP8_Z, 瀹屾垚
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鎵€鏈夎姹傚畬鎴愶紝缁撴灉鏁伴噺: 3
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉缁撴灉 1: response
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉缁撴灉 2: response
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉缁撴灉 3: response
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鏈€缁堢姸鎬? {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 3,
  completedRequests: 3,
  rejectedRequests: 0,
}
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 灞炴€ф祴璇曢€氳繃
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 娴嬭瘯鍙傛暟: maxConcurrent=3, agents=[gl,nna]
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍒濆鍖栧悗: {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 0,
  completedRequests: 0,
  rejectedRequests: 0,
  maxConcurrentRequests: 3,
}
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣 2 涓姹?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 1/2 for agent: gl
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 2/2 for agent: nna
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鎵€鏈夎姹傚凡鍙戣捣锛岀瓑寰呯姸鎬佺ǔ瀹?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 OpenAI API 璋冪敤 #1
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 Promise #1 宸插垱寤?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 OpenAI API 璋冪敤 #2
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 Promise #2 宸插垱寤?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 褰撳墠鐘舵€? active=2, queue=0, total=2
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉骞跺彂闄愬埗: 2 <= 3
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉鎬昏姹傛暟: 2 === 2
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 寮€濮嬪畬鎴愭墍鏈夎姹傦紝resolvers鏁伴噺: 2
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 瑙ｆ瀽Promise #1
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 瑙ｆ瀽Promise #2
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 绛夊緟鎵€鏈塒romise瀹屾垚
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 agent gl 瀹屾垚
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 agent nna 瀹屾垚
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鎵€鏈夎姹傚畬鎴愶紝缁撴灉鏁伴噺: 2
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉缁撴灉 1: response
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉缁撴灉 2: response
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鏈€缁堢姸鎬? {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 2,
  completedRequests: 2,
  rejectedRequests: 0,
}
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 灞炴€ф祴璇曢€氳繃
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 娴嬭瘯鍙傛暟: maxConcurrent=3, agents=[2+g,d-Mb,%%$#c;]
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍒濆鍖栧悗: {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 0,
  completedRequests: 0,
  rejectedRequests: 0,
  maxConcurrentRequests: 3,
}
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣 3 涓姹?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 1/3 for agent: 2+g
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 2/3 for agent: d-Mb
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 3/3 for agent: %%$#c;
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鎵€鏈夎姹傚凡鍙戣捣锛岀瓑寰呯姸鎬佺ǔ瀹?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 OpenAI API 璋冪敤 #1
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 Promise #1 宸插垱寤?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 OpenAI API 璋冪敤 #2
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 Promise #2 宸插垱寤?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 OpenAI API 璋冪敤 #3
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 Promise #3 宸插垱寤?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 褰撳墠鐘舵€? active=3, queue=0, total=3
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉骞跺彂闄愬埗: 3 <= 3
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉鎬昏姹傛暟: 3 === 3
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 寮€濮嬪畬鎴愭墍鏈夎姹傦紝resolvers鏁伴噺: 3
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 瑙ｆ瀽Promise #1
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 瑙ｆ瀽Promise #2
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 瑙ｆ瀽Promise #3
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 绛夊緟鎵€鏈塒romise瀹屾垚
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 agent 2+g 瀹屾垚
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 agent d-Mb 瀹屾垚
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 agent %%$#c; 瀹屾垚
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鎵€鏈夎姹傚畬鎴愶紝缁撴灉鏁伴噺: 3
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉缁撴灉 1: response
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉缁撴灉 2: response
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉缁撴灉 3: response
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鏈€缁堢姸鎬? {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 3,
  completedRequests: 3,
  rejectedRequests: 0,
}
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 灞炴€ф祴璇曢€氳繃
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 娴嬭瘯鍙傛暟: maxConcurrent=1, agents=[ke,call,U-r2CF|,zkey,[c,:T ,we\T8YYu,le]
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍒濆鍖栧悗: {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 0,
  completedRequests: 0,
  rejectedRequests: 0,
  maxConcurrentRequests: 1,
}
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣 8 涓姹?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 1/8 for agent: ke
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 2/8 for agent: call
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 3/8 for agent: U-r2CF|
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 4/8 for agent: zkey
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 5/8 for agent: [c
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 6/8 for agent: :T 
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 7/8 for agent: we\T8YYu
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鍙戣捣璇锋眰 8/8 for agent: le
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 鎵€鏈夎姹傚凡鍙戣捣锛岀瓑寰呯姸鎬佺ǔ瀹?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 OpenAI API 璋冪敤 #1
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 Promise #1 宸插垱寤?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 褰撳墠鐘舵€? active=1, queue=7, total=8
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉骞跺彂闄愬埗: 1 <= 1
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 楠岃瘉鎬昏姹傛暟: 8 === 8
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 寮€濮嬪畬鎴愭墍鏈夎姹傦紝resolvers鏁伴噺: 1
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 瑙ｆ瀽Promise #1
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 绛夊緟鎵€鏈塒romise瀹屾垚
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 OpenAI API 璋冪敤 #2
[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 Promise #2 宸插垱寤?[灞炴€ф祴璇?骞跺彂姝ｇ‘鎬 agent ke 瀹屾垚
(pass) LLM Client Integration Tests > 閿欒澶勭悊鍜屾仮澶?> 搴旀纭鐞嗘棤鏁堥厤缃?error: Test "瀵逛簬浠绘剰鏁伴噺鐨勬櫤鑳
戒綋骞跺彂璇锋眰锛岀郴缁熷簲姝ｇ‘绠＄悊骞跺彂闄愬埗鍜岄槦鍒? timed out after 5000ms
(fail) LLM Client Integration Tests > 灞炴€ф祴璇?- 澶氭櫤鑳戒綋骞跺彂姝ｇ‘鎬?> 瀵逛簬浠绘剰鏁伴噺鐨勬櫤鑳戒綋骞跺彂璇锋眰锛岀郴缁熷簲姝
ｇ‘绠＄悊骞跺彂闄愬埗鍜岄槦鍒?[5000.00ms]

test\platform\llm_concurrency_comprehensive.test.js:
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鍩虹鍔熻兘娴嬭瘯 (1-10) > 1. 搴旀纭垵濮嬪寲C
oncurrencyController
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鍩虹鍔熻兘娴嬭瘯 (1-10) > 2. 搴旀纭垵濮嬪寲L
lmClient
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鍩虹鍔熻兘娴嬭瘯 (1-10) > 3. 搴旀纭鐞嗗崟涓
姹?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鍩虹鍔熻兘娴嬭瘯 (1-10) > 4. 搴旀纭
鐞嗗涓笉鍚屾櫤鑳戒綋鐨勫苟鍙戣姹?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鍩虹鍔熻兘娴嬭瘯 (1
-10) > 5. 搴旀嫆缁濆悓涓€鏅鸿兘浣撶殑绗簩涓姹?error: Test "6. 搴旀纭鐞嗛槦鍒楃鐞? timed out after 5016ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 鍩虹鍔熻兘娴嬭瘯 (1-10) > 6. 搴旀纭鐞嗛槦鍒
楃鐞?[5016.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鍩虹鍔熻兘娴嬭瘯 (1-10) > 7. 搴旀纭鐞嗚姹
傚彇娑?[15.00ms]
2026-01-16 18:47:00.174 [INFO] [llm] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
    "messageFrom": "6339ff92-78a0-4f75-8725-fc51d330a187",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 1
  },
  "message": {
    "content": "",
    "reasoning_content": "瀛愭櫤鑳戒綋6339ff92-78a0-4f75-8725-fc51d330a187姹囨姤浠诲姟宸插畬鎴愩€傛垜闇€瑕侊細\n1. 灏嗙粨鏋滆浆鍙戠粰鐢ㄦ埛锛坱o=user锛塡n2. 缁堟杩欎釜瀛愭櫤鑳戒綋锛坅gentId=6339ff92-78a0-4f75-8725-fc51d330a187锛塡n\n鍥犱负娴嬭瘯浠诲姟宸插畬鎴愶紝涓斾笉闇€瑕佸悗缁氦浜掞紝鎵€浠ュ簲璇ョ粓姝㈡櫤鑳戒綋銆?,
    "role": "assistant",
    "tool_calls": [
      {
        "function": {
          "arguments": "{\"to\":\"user\",\"payload\":{\"text\": \"鉁?娴嬭瘯闇€姹傚凡鎴愬姛澶勭悊锛乗\n\\n绯荤粺鍔熻兘楠岃瘉缁撴灉锛氭甯竆\n\\n楠岃瘉鍐呭锛歕\n- 浠诲姟鎺ユ敹鏈哄埗锛氭甯竆\n- 鏅鸿兘浣撳垱寤轰笌鍒嗛厤锛氭甯竆\n- 鏅鸿兘浣撻€氫俊鏈哄埗锛氭甯竆\n- 缁撴灉鍙嶉鏈哄埗锛氭甯竆\n\\n鎵€鏈夋牳蹇冨姛鑳借繍琛屾甯革紝绯荤粺鐘舵€佽壇濂姐€俓"}}",
          "name": "send_message"
        },
        "id": "call_-7970982385902115159",
        "index": 0,
        "type": "function"
      }
    ]
  }
}
2026-01-16 18:47:00.175 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
  "messageFrom": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 1,
  "latencyMs": 27420,
  "promptTokens": 9806,
  "completionTokens": 194,
  "totalTokens": 10000,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:47:00.176 [INFO] [llm] LLM璇锋眰瀹屾垚
{
  "agentId": "root",
  "activeCount": 0
}
2026-01-16 18:47:00.177 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "root",
  "id": "2fcaa278-310e-4707-b3b1-87dc72510db0",
  "to": "user",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "鉁?娴嬭瘯闇€姹傚凡鎴愬姛澶勭悊锛乗n\n绯荤粺鍔熻兘楠岃瘉缁撴灉锛氭甯竆n\n楠岃瘉鍐呭锛歕n- 浠诲姟鎺ユ敹鏈哄埗锛氭甯竆n- 鏅鸿兘浣撳垱寤轰笌鍒嗛厤锛氭甯竆n- 鏅鸿兘浣撻€氫俊鏈哄埗锛氭甯竆n- 缁撴灉鍙嶉鏈哄埗锛氭甯竆n\n鎵€鏈夋牳蹇冨姛鑳借繍琛屾甯革紝绯荤粺鐘舵€佽壇濂姐€?
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:47:00.177 [INFO] [lifecycle] 鏅鸿兘浣撳彂閫佹秷鎭?{
  "agentId": "root",
  "messageId": "2fcaa278-310e-4707-b3b1-87dc72510db0",
  "to": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "delayMs": null,
  "eventType": "agent_message_sent"
}
2026-01-16 18:47:00.177 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
  "messageFrom": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 2
}
2026-01-16 18:47:00.177 [INFO] [llm] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "root",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:47:00.177 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "user",
  "to": "user",
  "id": "2fcaa278-310e-4707-b3b1-87dc72510db0",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "鉁?娴嬭瘯闇€姹傚凡鎴愬姛澶勭悊锛乗n\n绯荤粺鍔熻兘楠岃瘉缁撴灉锛氭甯竆n\n楠岃瘉鍐呭锛歕n- 浠诲姟鎺ユ敹鏈哄埗锛氭甯竆n- 鏅鸿兘浣撳垱寤轰笌鍒嗛厤锛氭甯竆n- 鏅鸿兘浣撻€氫俊鏈哄埗锛氭甯竆n- 缁撴灉鍙嶉鏈哄埗锛氭甯竆n\n鎵€鏈夋牳蹇冨姛鑳借繍琛屾甯革紝绯荤粺鐘舵€佽壇濂姐€?
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:47:00.177 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "user",
  "messageId": "2fcaa278-310e-4707-b3b1-87dc72510db0",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "eventType": "agent_message_received"
}
2026-01-16 18:47:00.177 [INFO] [society] 鐢ㄦ埛绔偣鏀跺埌娑堟伅
{
  "agentId": "user",
  "messageId": "2fcaa278-310e-4707-b3b1-87dc72510db0",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "鉁?娴嬭瘯闇€姹傚凡鎴愬姛澶勭悊锛乗n\n绯荤粺鍔熻兘楠岃瘉缁撴灉锛氭甯竆n\n楠岃瘉鍐呭锛歕n- 浠诲姟鎺ユ敹鏈哄埗锛氭甯竆n- 鏅鸿兘浣撳垱寤轰笌鍒嗛厤锛氭甯竆n- 鏅鸿兘浣撻€氫俊鏈哄埗锛氭甯竆n- 缁撴灉鍙嶉鏈哄埗锛氭甯竆n\n鎵€鏈夋牳蹇冨姛鑳借繍琛屾甯革紝绯荤粺鐘舵€佽壇濂姐€?
  },
  "payloadPreview": "鉁?娴嬭瘯闇€姹傚凡鎴愬姛澶勭悊锛乗n\n绯荤粺鍔熻兘楠岃瘉缁撴灉锛氭甯竆n\n楠岃瘉鍐呭锛歕n- 浠诲姟鎺ユ敹鏈哄埗锛氭甯竆n- 鏅鸿兘浣撳垱寤轰笌鍒嗛厤锛氭甯竆n- 鏅鸿兘浣撻€氫俊鏈哄埗锛氭甯竆n- 缁撴灉鍙嶉鏈哄埗锛氭甯竆n\n鎵€鏈夋牳蹇冨姛鑳借繍琛屾甯革紝绯荤粺鐘舵€佽壇濂姐€?
}
[user] from=root taskId=983491d1-5274-4e35-9e24-bca90040f859
鉁?娴嬭瘯闇€姹傚凡鎴愬姛澶勭悊锛?
绯荤粺鍔熻兘楠岃瘉缁撴灉锛氭甯?
楠岃瘉鍐呭锛?- 浠诲姟鎺ユ敹鏈哄埗锛氭甯?- 鏅鸿兘浣撳垱寤轰笌鍒嗛厤锛氭甯?- 鏅鸿兘浣撻€氫俊鏈哄埗锛氭甯?- 缁撴灉鍙嶉鏈哄埗锛氭甯?
鎵€鏈夋牳蹇冨姛鑳借繍琛屾甯革紝绯荤粺鐘舵€佽壇濂姐€?2026-01-16 18:47:00.179 [INFO] [llm] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
    "messageFrom": "6339ff92-78a0-4f75-8725-fc51d330a187",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 2
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "tool",
      "tool_call_id": "call_-7970982385902115159",
      "content": "{\"messageId\":\"2fcaa278-310e-4707-b3b1-87dc72510db0\"}"
    }
  }
}
2026-01-16 18:47:01.105 [INFO] [llm] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
    "messageFrom": "6339ff92-78a0-4f75-8725-fc51d330a187",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 2
  },
  "message": {
    "content": "",
    "reasoning_content": "宸插悜鐢ㄦ埛鍙戦€佺粨鏋滐紝鐜板湪缁堟瀛愭櫤鑳戒綋銆?,
    "role": "assistant",
    "tool_calls": [
      {
        "function": {
          "arguments": "{\"agentId\":\"6339ff92-78a0-4f75-8725-fc51d330a187\",\"reason\":\"娴嬭瘯浠诲姟宸插畬鎴愶紝绯荤粺鍔熻兘楠岃瘉姝ｅ父锛屾棤闇€淇濈暀鏅鸿兘浣撳疄渚媆"}",
          "name": "terminate_agent"
        },
        "id": "call_-7971022243199906908",
        "index": 0,
        "type": "function"
      }
    ]
  }
}
2026-01-16 18:47:01.107 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
  "messageFrom": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 2,
  "latencyMs": 926,
  "promptTokens": 10033,
  "completionTokens": 67,
  "totalTokens": 10100,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:47:01.108 [INFO] [llm] LLM璇锋眰瀹屾垚
{
  "agentId": "root",
  "activeCount": 0
}
2026-01-16 18:47:01.110 [INFO] [runtime] 寮€濮嬬粓姝㈡櫤鑳戒綋
{
  "callerId": "root",
  "targetId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "reason": "娴嬭瘯浠诲姟宸插畬鎴愶紝绯荤粺鍔熻兘楠岃瘉姝ｅ父锛屾棤闇€淇濈暀鏅鸿兘浣撳疄渚?
}
2026-01-16 18:47:01.117 [INFO] [org] 璁板綍鏅鸿兘浣撶粓姝?{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "terminatedBy": "root",
  "reason": "娴嬭瘯浠诲姟宸插畬鎴愶紝绯荤粺鍔熻兘楠岃瘉姝ｅ父锛屾棤闇€淇濈暀鏅鸿兘浣撳疄渚?,
  "cascadeCount": 0
}
2026-01-16 18:47:01.117 [INFO] [runtime] 鏅鸿兘浣撶粓姝㈠畬鎴?{
  "callerId": "root",
  "targetId": "6339ff92-78a0-4f75-8725-fc51d330a187"
}
2026-01-16 18:47:01.118 [INFO] [lifecycle] 鏅鸿兘浣撶粓姝?{
  "agentId": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "terminatedBy": "root",
  "reason": "娴嬭瘯浠诲姟宸插畬鎴愶紝绯荤粺鍔熻兘楠岃瘉姝ｅ父锛屾棤闇€淇濈暀鏅鸿兘浣撳疄渚?,
  "eventType": "agent_terminated"
}
2026-01-16 18:47:01.118 [INFO] [runtime] 璇锋眰 LLM
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
  "messageFrom": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 3
}
2026-01-16 18:47:01.118 [INFO] [llm] 寮€濮嬪鐞哃LM璇锋眰
{
  "agentId": "root",
  "activeCount": 1,
  "queueLength": 0
}
2026-01-16 18:47:01.120 [INFO] [llm] LLM 璇锋眰鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
    "messageFrom": "6339ff92-78a0-4f75-8725-fc51d330a187",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 3
  },
  "payload": {
    "model": "GLM-4.7",
    "tool_choice": "auto",
    "temperature": 0.2,
    "tool_names": [
      "find_role_by_name",
      "create_role",
      "spawn_agent",
      "spawn_agent_with_task",
      "send_message",
      "put_artifact",
      "get_artifact",
      "console_print",
      "terminate_agent",
      "run_javascript",
      "compress_context",
      "get_context_status",
      "http_request",
      "read_file",
      "write_file",
      "list_files",
      "get_workspace_info",
      "run_command",
      "chrome_launch",
      "chrome_close",
      "chrome_new_tab",
      "chrome_close_tab",
      "chrome_list_tabs",
      "chrome_navigate",
      "chrome_get_url",
      "chrome_screenshot",
      "chrome_get_text",
      "chrome_get_elements",
      "chrome_click",
      "chrome_click_at",
      "chrome_type",
      "chrome_fill",
      "chrome_evaluate",
      "chrome_wait_for"
    ],
    "current_message": {
      "role": "tool",
      "tool_call_id": "call_-7971022243199906908",
      "content": "{\"ok\":true,\"terminatedAgentId\":\"6339ff92-78a0-4f75-8725-fc51d330a187\"}"
    }
  }
}
2026-01-16 18:47:02.334 [INFO] [llm] LLM 鍝嶅簲鍐呭
{
  "meta": {
    "agentId": "root",
    "roleId": "root",
    "roleName": "root",
    "messageId": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
    "messageFrom": "6339ff92-78a0-4f75-8725-fc51d330a187",
    "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
    "round": 3
  },
  "message": {
    "content": "鉁?娴嬭瘯闇€姹傚鐞嗗畬鎴愶紒\n\n鏅鸿兘浣撶郴缁熷姛鑳介獙璇侀€氳繃锛歕n- 浠诲姟鎺ユ敹鏈哄埗锛氭甯?鉁揬n- 鏅鸿兘浣撳垱寤轰笌鍒嗛厤锛氭甯?鉁揬n- 鏅鸿兘浣撻€氫俊鏈哄埗锛氭甯?鉁揬n- 缁撴灉鍙嶉鏈哄埗锛氭甯?鉁揬n\n绯荤粺杩愯鐘舵€佽壇濂斤紝鎵€鏈夋牳蹇冨姛鑳芥甯稿伐浣溿€?,
    "reasoning_content": "宸插畬鎴愭墍鏈夋楠わ細\n1. 灏嗗瓙鏅鸿兘浣撶殑缁撴灉杞彂缁欎簡鐢ㄦ埛\n2. 缁堟浜嗗瓙鏅鸿兘浣揬n\n浠诲姟瀹屾垚锛屽仠姝㈣皟鐢ㄥ伐鍏枫€?,
    "role": "assistant"
  }
}
2026-01-16 18:47:02.335 [INFO] [llm] LLM璋冪敤鎴愬姛
{
  "agentId": "root",
  "roleId": "root",
  "roleName": "root",
  "messageId": "ad8a6a91-305f-4486-9f6c-5eba46c1147c",
  "messageFrom": "6339ff92-78a0-4f75-8725-fc51d330a187",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "round": 3,
  "latencyMs": 1213,
  "promptTokens": 10138,
  "completionTokens": 101,
  "totalTokens": 10239,
  "model": "GLM-4.7",
  "eventType": "llm_call_success"
}
2026-01-16 18:47:02.336 [INFO] [llm] LLM璇锋眰瀹屾垚
{
  "agentId": "root",
  "activeCount": 0
}
2026-01-16 18:47:02.337 [INFO] [runtime] LLM 杩斿洖绾枃鏈紝鑷姩鍙戦€佹秷鎭?{
  "agentId": "root",
  "targetId": "user",
  "contentPreview": "鉁?娴嬭瘯闇€姹傚鐞嗗畬鎴愶紒\n\n鏅鸿兘浣撶郴缁熷姛鑳介獙璇侀€氳繃锛歕n- 浠诲姟鎺ユ敹鏈哄埗锛氭甯?鉁揬n- 鏅鸿兘浣撳垱寤轰笌鍒嗛厤锛氭甯?鉁揬n- 鏅鸿兘浣撻€氫俊鏈哄埗锛氭甯?鉁揬n- 缁撴灉鍙嶉鏈哄埗锛氭甯?鉁揬n\n绯荤粺杩愯鐘舵€佽壇濂斤紝鎵€鏈夋牳蹇冨姛"
}
2026-01-16 18:47:02.337 [INFO] [bus] 鍙戦€佹秷鎭?{
  "agentId": "root",
  "id": "59b7ed11-3701-47c7-b0e7-9dfd1a5c9848",
  "to": "user",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "鉁?娴嬭瘯闇€姹傚鐞嗗畬鎴愶紒\n\n鏅鸿兘浣撶郴缁熷姛鑳介獙璇侀€氳繃锛歕n- 浠诲姟鎺ユ敹鏈哄埗锛氭甯?鉁揬n- 鏅鸿兘浣撳垱寤轰笌鍒嗛厤锛氭甯?鉁揬n- 鏅鸿兘浣撻€氫俊鏈哄埗锛氭甯?鉁揬n- 缁撴灉鍙嶉鏈哄埗锛氭甯?鉁揬n\n绯荤粺杩愯鐘舵€佽壇濂斤紝鎵€鏈夋牳蹇冨姛鑳芥甯稿伐浣溿€?
  },
  "queueSizeBefore": 0,
  "queueSizeAfter": 1
}
2026-01-16 18:47:02.337 [INFO] [lifecycle] 鏅鸿兘浣撳彂閫佹秷鎭?{
  "agentId": "root",
  "messageId": "59b7ed11-3701-47c7-b0e7-9dfd1a5c9848",
  "to": "user",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "autoSent": true,
  "eventType": "agent_message_sent"
}
2026-01-16 18:47:02.337 [INFO] [bus] 鎺ユ敹娑堟伅
{
  "agentId": "user",
  "to": "user",
  "id": "59b7ed11-3701-47c7-b0e7-9dfd1a5c9848",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "鉁?娴嬭瘯闇€姹傚鐞嗗畬鎴愶紒\n\n鏅鸿兘浣撶郴缁熷姛鑳介獙璇侀€氳繃锛歕n- 浠诲姟鎺ユ敹鏈哄埗锛氭甯?鉁揬n- 鏅鸿兘浣撳垱寤轰笌鍒嗛厤锛氭甯?鉁揬n- 鏅鸿兘浣撻€氫俊鏈哄埗锛氭甯?鉁揬n- 缁撴灉鍙嶉鏈哄埗锛氭甯?鉁揬n\n绯荤粺杩愯鐘舵€佽壇濂斤紝鎵€鏈夋牳蹇冨姛鑳芥甯稿伐浣溿€?
  },
  "queueSizeBefore": 1,
  "queueSizeAfter": 0
}
2026-01-16 18:47:02.337 [INFO] [lifecycle] 鏅鸿兘浣撴敹鍒版秷鎭?{
  "agentId": "user",
  "messageId": "59b7ed11-3701-47c7-b0e7-9dfd1a5c9848",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "eventType": "agent_message_received"
}
2026-01-16 18:47:02.337 [INFO] [society] 鐢ㄦ埛绔偣鏀跺埌娑堟伅
{
  "agentId": "user",
  "messageId": "59b7ed11-3701-47c7-b0e7-9dfd1a5c9848",
  "from": "root",
  "taskId": "983491d1-5274-4e35-9e24-bca90040f859",
  "payload": {
    "text": "鉁?娴嬭瘯闇€姹傚鐞嗗畬鎴愶紒\n\n鏅鸿兘浣撶郴缁熷姛鑳介獙璇侀€氳繃锛歕n- 浠诲姟鎺ユ敹鏈哄埗锛氭甯?鉁揬n- 鏅鸿兘浣撳垱寤轰笌鍒嗛厤锛氭甯?鉁揬n- 鏅鸿兘浣撻€氫俊鏈哄埗锛氭甯?鉁揬n- 缁撴灉鍙嶉鏈哄埗锛氭甯?鉁揬n\n绯荤粺杩愯鐘舵€佽壇濂斤紝鎵€鏈夋牳蹇冨姛鑳芥甯稿伐浣溿€?
  },
  "payloadPreview": "鉁?娴嬭瘯闇€姹傚鐞嗗畬鎴愶紒\n\n鏅鸿兘浣撶郴缁熷姛鑳介獙璇侀€氳繃锛歕n- 浠诲姟鎺ユ敹鏈哄埗锛氭甯?鉁揬n- 鏅鸿兘浣撳垱寤轰笌鍒嗛厤锛氭甯?鉁揬n- 鏅鸿兘浣撻€氫俊鏈哄埗锛氭甯?鉁揬n- 缁撴灉鍙嶉鏈哄埗锛氭甯?鉁揬n\n绯荤粺杩愯鐘舵€佽壇濂斤紝鎵€鏈夋牳蹇冨姛鑳芥甯稿伐浣溿€?
}
[user] from=root taskId=983491d1-5274-4e35-9e24-bca90040f859
鉁?娴嬭瘯闇€姹傚鐞嗗畬鎴愶紒

鏅鸿兘浣撶郴缁熷姛鑳介獙璇侀€氳繃锛?- 浠诲姟鎺ユ敹鏈哄埗锛氭甯?鉁?- 鏅鸿兘浣撳垱寤轰笌鍒嗛厤锛氭甯?鉁?- 鏅鸿兘浣撻€氫俊鏈哄埗锛氭甯?鉁?- 缁撴灉鍙嶉鏈哄埗锛氭甯?鉁?
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鍩虹鍔熻兘娴嬭瘯 (1-10) > 8. 搴旀纭鐞嗛敊璇
仮澶?[3000.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鍩虹鍔熻兘娴嬭瘯 (1-10) > 9. 搴旀纭鐞嗙粺璁
′俊鎭?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鍩虹鍔熻兘娴嬭瘯 (1-10) > 10. 搴旀纭
鐞嗗悜鍚庡吋瀹规€?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 涓寸晫鍊兼祴璇?(11-20) > 11.
 娴嬭瘯鏈€澶у苟鍙戞暟涓?鐨勬儏鍐?[16.00ms]
304 |       );
305 | 
306 |       await sleep(10);
307 | 
308 |       const stats = client.getConcurrencyStats();
309 |       expect(stats.activeCount).toBe(50);
                                      ^
error: expect(received).toBe(expected)

Expected: 50
Received: 0

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm_concurrenc
y_comprehensive.test.js:309:33)
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 涓寸晫鍊兼祴璇?(11-20) > 12. 娴嬭瘯鏈€澶у苟鍙戞
暟涓?00鐨勬儏鍐?[16.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 涓寸晫鍊兼祴璇?(11-20) > 13. 娴嬭瘯闃熷垪闀垮害杈
惧埌鏋侀檺 [78.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 涓寸晫鍊兼祴璇?(11-20) > 14. 娴嬭瘯闆跺欢杩熻姹
?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 涓寸晫鍊兼祴璇?(11-20) > 15. 娴嬭瘯鏈€灏忔湁鏁
坅gentId
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 涓寸晫鍊兼祴璇?(11-20) > 16. 娴嬭瘯鏈€闀縜gen
tId
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 涓寸晫鍊兼祴璇?(11-20) > 17. 娴嬭瘯杈圭晫骞跺彂鏁
伴厤缃?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 涓寸晫鍊兼祴璇?(11-20) > 18. 娴嬭瘯璇锋眰
瀹屾垚鐨勮竟鐣屾椂鏈?[31.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 涓寸晫鍊兼祴璇?(11-20) > 19. 娴嬭瘯缁熻璁℃暟鍣
ㄧ殑杈圭晫鍊?[16.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 涓寸晫鍊兼祴璇?(11-20) > 20. 娴嬭瘯閰嶇疆鏇存柊鐨
勮竟鐣屾儏鍐?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 寮傚父鍊兼祴璇?(21-30) > 21. 娴嬭瘯
鏃犳晥鐨刴axConcurrentRequests閰嶇疆
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 寮傚父鍊兼祴璇?(21-30) > 22. 娴嬭瘯null/un
defined agentId
514 |       setupSuccessMock(client);
515 | 
516 |       await expect(client.chat({
517 |         messages: [{ role: "user", content: "test" }],
518 |         meta: { agentId: "" }
519 |       })).rejects.toThrow("agentId is required");
                        ^
error: 

Expected promise that rejects
Received promise that resolved: Promise { <resolved> }

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm_concurrenc
y_comprehensive.test.js:519:19)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm_concurrenc
y_comprehensive.test.js:512:28)
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 寮傚父鍊兼祴璇?(21-30) > 23. 娴嬭瘯绌哄瓧绗︿覆a
gentId
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 寮傚父鍊兼祴璇?(21-30) > 24. 娴嬭瘯鐗规畩瀛楃a
gentId
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 寮傚父鍊兼祴璇?(21-30) > 25. 娴嬭瘯鏃犳晥鐨勬秷鎭
牸寮?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 寮傚父鍊兼祴璇?(21-30) > 26. 娴嬭瘯鏋佸ぇ
鐨勬秷鎭唴瀹?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 寮傚父鍊兼祴璇?(21-30) > 27. 娴嬭
瘯鏃犳晥鐨刴eta瀵硅薄
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 寮傚父鍊兼祴璇?(21-30) > 28. 娴嬭瘯缃戠粶瓒呮椂閿
欒 [3000.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 寮傚父鍊兼祴璇?(21-30) > 29. 娴嬭瘯鍐呭瓨涓嶈冻閿
欒 [3015.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 寮傚父鍊兼祴璇?(21-30) > 30. 娴嬭瘯JSON瑙ｆ瀽
閿欒 [3016.00ms]
128 |       this.stats.rejectedRequests++; // 澧炲姞鎷掔粷璁℃暟
129 | 
130 |       // 鐒跺悗瑙﹀彂涓
131 |       activeRequest.abortController.abort();
132 | 
133 |       const error = new Error("Request cancelled");
                          ^
AbortError: Request cancelled
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\concurrency_con
troller.js:133:21)
      at cancelRequest (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\concurrency_c
ontroller.js:121:23)
      at abort (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\llm_client.js:324:34)
      at from (1:11)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm_concurrenc
y_comprehensive.test.js:684:35)
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 骞跺彂绔炰簤鏉′欢娴嬭瘯 (31-40) > 31. 娴嬭瘯鍚屾
椂鍙栨秷澶氫釜璇锋眰 [15.00ms]

# Unhandled error between tests
-------------------------------
128 |       this.stats.rejectedRequests++; // 澧炲姞鎷掔粷璁℃暟
129 | 
130 |       // 鐒跺悗瑙﹀彂涓
131 |       activeRequest.abortController.abort();
132 | 
133 |       const error = new Error("Request cancelled");
                          ^
AbortError: Request cancelled
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\concurrency_con
troller.js:133:21)
      at cancelRequest (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\concurrency_c
ontroller.js:121:23)
      at abort (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\llm_client.js:324:34)
      at from (1:11)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm_concurrenc
y_comprehensive.test.js:684:35)
-------------------------------


# Unhandled error between tests
-------------------------------
128 |       this.stats.rejectedRequests++; // 澧炲姞鎷掔粷璁℃暟
129 | 
130 |       // 鐒跺悗瑙﹀彂涓
131 |       activeRequest.abortController.abort();
132 | 
133 |       const error = new Error("Request cancelled");
                          ^
AbortError: Request cancelled
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\concurrency_con
troller.js:133:21)
      at cancelRequest (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\concurrency_c
ontroller.js:121:23)
      at abort (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\llm_client.js:324:34)
      at from (1:11)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm_concurrenc
y_comprehensive.test.js:684:35)
-------------------------------


# Unhandled error between tests
-------------------------------
128 |       this.stats.rejectedRequests++; // 澧炲姞鎷掔粷璁℃暟
129 | 
130 |       // 鐒跺悗瑙﹀彂涓
131 |       activeRequest.abortController.abort();
132 | 
133 |       const error = new Error("Request cancelled");
                          ^
AbortError: Request cancelled
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\concurrency_con
troller.js:133:21)
      at cancelRequest (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\concurrency_c
ontroller.js:121:23)
      at abort (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\llm_client.js:324:34)
      at from (1:11)
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm_concurrenc
y_comprehensive.test.js:684:35)
-------------------------------

(pass) LLM Concurrency Control - 100 Comprehensive Tests > 骞跺彂绔炰簤鏉′欢娴嬭瘯 (31-40) > 32. 娴嬭瘯璇锋
眰瀹屾垚鍜屽彇娑堢殑绔炰簤鏉′欢 [32.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 骞跺彂绔炰簤鏉′欢娴嬭瘯 (31-40) > 33. 娴嬭瘯閰嶇
疆鏇存柊鍜岃姹傚鐞嗙殑绔炰簤鏉′欢 [93.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 骞跺彂绔炰簤鏉′欢娴嬭瘯 (31-40) > 34. 娴嬭瘯澶氫
釜鏅鸿兘浣撳悓鏃跺彂璧疯姹?[531.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 骞跺彂绔炰簤鏉′欢娴嬭瘯 (31-40) > 35. 娴嬭瘯闃熷
垪澶勭悊鐨勫師瀛愭€?[172.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 骞跺彂绔炰簤鏉′欢娴嬭瘯 (31-40) > 36. 娴嬭瘯缁熻
淇℃伅鏇存柊鐨勫師瀛愭€?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 骞跺彂绔炰簤鏉′欢娴嬭瘯 (31-4
0) > 37. 娴嬭瘯鍐呭瓨娉勬紡闃叉姢 [16.00ms]
error: Test "38. 娴嬭瘯閿欒澶勭悊鐨勫苟鍙戝畨鍏ㄦ€? timed out after 5000ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 骞跺彂绔炰簤鏉′欢娴嬭瘯 (31-40) > 38. 娴嬭瘯閿欒
澶勭悊鐨勫苟鍙戝畨鍏ㄦ€?[5000.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 骞跺彂绔炰簤鏉′欢娴嬭瘯 (31-40) > 39. 娴嬭瘯ha
sActiveRequest鐨勫苟鍙戝畨鍏ㄦ€?[15.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 骞跺彂绔炰簤鏉′欢娴嬭瘯 (31-40) > 40. 娴嬭瘯ab
ort鏂规硶鐨勫苟鍙戝畨鍏ㄦ€?[16.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 闅忔満鍊兼祴璇?(41-50) > 41. 灞炴€ф祴璇曪細闅忔
満骞跺彂鏁板拰鏅鸿兘浣撴暟閲?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 闅忔満鍊兼祴璇?(41-50) >
 42. 灞炴€ф祴璇曪細闅忔満寤惰繜鍜岄敊璇巼 [766.00ms]
error: Test "43. 灞炴€ф祴璇曪細闅忔満鍙栨秷鏃舵満" timed out after 5015ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 闅忔満鍊兼祴璇?(41-50) > 43. 灞炴€ф祴璇曪細闅忔
満鍙栨秷鏃舵満 [5015.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 闅忔満鍊兼祴璇?(41-50) > 44. 灞炴€ф祴璇曪細闅忔
満閰嶇疆鏇存柊
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 闅忔満鍊兼祴璇?(41-50) > 45. 灞炴€ф祴璇曪細闅忔
満娑堟伅鍐呭 [16.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 闅忔満鍊兼祴璇?(41-50) > 46. 灞炴€ф祴璇曪細闅忔
満agentId鏍煎紡
1165 | 
1166 |           for (let i = 0; i < errorTypes.length; i++) {
1167 |             await expect(client.chat({
1168 |               messages: [{ role: "user", content: "test" }],
1169 |               meta: { agentId: `agent${i}` }
1170 |             })).rejects.toThrow();
                               ^
error: Test "47. 灞炴€ф祴璇曪細闅忔満閿欒绫诲瀷" timed out after 5000ms
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm_concurrenc
y_comprehensive.test.js:1170:25)
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 闅忔満鍊兼祴璇?(41-50) > 47. 灞炴€ф祴璇曪細闅忔
満閿欒绫诲瀷 [5000.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 闅忔満鍊兼祴璇?(41-50) > 48. 灞炴€ф祴璇曪細闅忔
満缁熻淇℃伅楠岃瘉
error: Test "49. 灞炴€ф祴璇曪細闅忔満闃熷垪鎿嶄綔" timed out after 5000ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 闅忔満鍊兼祴璇?(41-50) > 49. 灞炴€ф祴璇曪細闅忔
満闃熷垪鎿嶄綔 [5000.00ms]
error: Test "50. 灞炴€ф祴璇曪細闅忔満鏃跺簭鎿嶄綔" timed out after 5016ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 闅忔満鍊兼祴璇?(41-50) > 50. 灞炴€ф祴璇曪細闅忔
満鏃跺簭鎿嶄綔 [5016.00ms]
绯荤粺杩愯鐘舵€佽壇濂斤紝鎵€鏈夋牳蹇冨姛鑳芥甯稿伐浣溿€?1000涓姹傚畬鎴愭椂闂? 357ms
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鎬ц兘鍜屽帇鍔涙祴璇?(51-60) > 51. 娴嬭瘯楂樺苟鍙
戣姹傛€ц兘 [343.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鎬ц兘鍜屽帇鍔涙祴璇?(51-60) > 52. 娴嬭瘯鍐呭瓨浣
跨敤绋冲畾鎬?[16.00ms]
error: Test "53. 娴嬭瘯闃熷垪澶勭悊鏁堢巼" timed out after 5000ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 鎬ц兘鍜屽帇鍔涙祴璇?(51-60) > 53. 娴嬭瘯闃熷垪澶
勭悊鏁堢巼 [5000.00ms]
1000娆＄粺璁′俊鎭幏鍙栨椂闂? 0ms
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鎬ц兘鍜屽帇鍔涙祴璇?(51-60) > 54. 娴嬭瘯缁熻淇
℃伅璁＄畻鎬ц兘 [94.00ms]
1000娆￠厤缃洿鏂版椂闂? 0ms
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鎬ц兘鍜屽帇鍔涙祴璇?(51-60) > 55. 娴嬭瘯閰嶇疆鏇
存柊鎬ц兘
1000娆″彇娑堟搷浣滄椂闂? 7ms
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鎬ц兘鍜屽帇鍔涙祴璇?(51-60) > 56. 娴嬭瘯鍙栨秷鎿
嶄綔鎬ц兘 [78.00ms]
10000娆℃椿璺冭姹傛煡璇㈡椂闂? 2ms
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鎬ц兘鍜屽帇鍔涙祴璇?(51-60) > 57. 娴嬭瘯hasA
ctiveRequest鏌ヨ鎬ц兘 [79.00ms]
1000涓苟鍙戞帶鍒跺櫒鍒涘缓鏃堕棿: 1ms
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鎬ц兘鍜屽帇鍔涙祴璇?(51-60) > 58. 娴嬭瘯骞跺彂鎺
у埗鍣ㄥ垱寤洪攢姣佹€ц兘
10000涓笉鍚屾櫤鑳戒綋璇锋眰鏃堕棿: 105ms
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鎬ц兘鍜屽帇鍔涙祴璇?(51-60) > 59. 娴嬭瘯澶ч噺鏅
鸿兘浣揑D鐨勫鐞嗘€ц兘 [109.00ms]
error: Test "60. 娴嬭瘯閿欒澶勭悊鐨勬€ц兘褰卞搷" timed out after 5016ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 鎬ц兘鍜屽帇鍔涙祴璇?(51-60) > 60. 娴嬭瘯閿欒澶
勭悊鐨勬€ц兘褰卞搷 [5016.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 杈圭晫鏉′欢鍜屾瀬绔儏鍐垫祴璇?(61-70) > 61. 娴
嬭瘯闆跺苟鍙戦檺鍒剁殑澶勭悊
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 杈圭晫鏉′欢鍜屾瀬绔儏鍐垫祴璇?(61-70) > 62. 娴
嬭瘯璐熸暟骞跺彂闄愬埗鐨勫鐞?1599 |       expect(client.concurrencyController.maxConcurrentRequests).toB
e(3); // 搴旇浣跨敤榛樿鍊?1600 |     });
1601 | 
1602 |     it("63. 娴嬭瘯娴偣鏁板苟鍙戦檺鍒剁殑澶勭悊", () => {
1603 |       const client = createMockClient(3.14);
1604 |       expect(client.concurrencyController.maxConcurrentRequests).toBe(3); // 搴旇浣跨敤榛
樿鍊?                                                                        ^
error: expect(received).toBe(expected)

Expected: 3
Received: 3.14

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm_concurrenc
y_comprehensive.test.js:1604:66)
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 杈圭晫鏉′欢鍜屾瀬绔儏鍐垫祴璇?(61-70) > 63. 娴
嬭瘯娴偣鏁板苟鍙戦檺鍒剁殑澶勭悊
1604 |       expect(client.concurrencyController.maxConcurrentRequests).toBe(3); // 搴旇浣跨敤榛
樿鍊?1605 |     });
1606 | 
1607 |     it("64. 娴嬭瘯NaN骞跺彂闄愬埗鐨勫鐞?, () => {
1608 |       const client = createMockClient(NaN);
1609 |       expect(client.concurrencyController.maxConcurrentRequests).toBe(3); // 搴旇浣跨敤榛
樿鍊?                                                                        ^
error: expect(received).toBe(expected)

Expected: 3
Received: NaN

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm_concurrenc
y_comprehensive.test.js:1609:66)
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 杈圭晫鏉′欢鍜屾瀬绔儏鍐垫祴璇?(61-70) > 64. 娴
嬭瘯NaN骞跺彂闄愬埗鐨勫鐞?1609 |       expect(client.concurrencyController.maxConcurrentRequests).toB
e(3); // 搴旇浣跨敤榛樿鍊?1610 |     });
1611 | 
1612 |     it("65. 娴嬭瘯Infinity骞跺彂闄愬埗鐨勫鐞?, () => {
1613 |       const client = createMockClient(Infinity);
1614 |       expect(client.concurrencyController.maxConcurrentRequests).toBe(3); // 搴旇浣跨敤榛
樿鍊?                                                                        ^
error: expect(received).toBe(expected)

Expected: 3
Received: Infinity

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm_concurrenc
y_comprehensive.test.js:1614:66)
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 杈圭晫鏉′欢鍜屾瀬绔儏鍐垫祴璇?(61-70) > 65. 娴
嬭瘯Infinity骞跺彂闄愬埗鐨勫鐞?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 杈圭晫鏉′欢鍜屾瀬绔
儏鍐垫祴璇?(61-70) > 66. 娴嬭瘯鏋侀暱鐨刟gentId
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 杈圭晫鏉′欢鍜屾瀬绔儏鍐垫祴璇?(61-70) > 67. 娴
嬭瘯鍖呭惈鐗规畩Unicode瀛楃鐨刟gentId
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 杈圭晫鏉′欢鍜屾瀬绔儏鍐垫祴璇?(61-70) > 68. 娴
嬭瘯鏋佸ぇ鐨勬秷鎭暟缁?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 杈圭晫鏉′欢鍜屾瀬绔儏鍐垫祴璇?(6
1-70) > 69. 娴嬭瘯寰幆寮曠敤鐨刴eta瀵硅薄
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 杈圭晫鏉′欢鍜屾瀬绔儏鍐垫祴璇?(61-70) > 70. 娴
嬭瘯鍚屾椂杈惧埌澶氫釜绯荤粺闄愬埗 [203.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 闆嗘垚鍜屽吋瀹规€ф祴璇?(71-80) > 71. 娴嬭瘯涓庣
幇鏈夐噸璇曟満鍒剁殑闆嗘垚
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 闆嗘垚鍜屽吋瀹规€ф祴璇?(71-80) > 72. 娴嬭瘯涓庢
棩蹇楃郴缁熺殑闆嗘垚
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 闆嗘垚鍜屽吋瀹规€ф祴璇?(71-80) > 73. 娴嬭瘯鍚戝
悗鍏煎鎬?- 鏃爉eta瀵硅薄
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 闆嗘垚鍜屽吋瀹规€ф祴璇?(71-80) > 74. 娴嬭瘯鍚戝
悗鍏煎鎬?- 绌簃eta瀵硅薄
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 闆嗘垚鍜屽吋瀹规€ф祴璇?(71-80) > 75. 娴嬭瘯鍚戝
悗鍏煎鎬?- 浼犵粺abort鏂规硶 [31.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 闆嗘垚鍜屽吋瀹规€ф祴璇?(71-80) > 76. 娴嬭瘯涓庡
伐鍏疯皟鐢ㄧ殑闆嗘垚
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 闆嗘垚鍜屽吋瀹规€ф祴璇?(71-80) > 77. 娴嬭瘯娓╁
害鍙傛暟鐨勪紶閫?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 闆嗘垚鍜屽吋瀹规€ф祴璇?(71-80) > 
78. 娴嬭瘯token浣跨敤淇℃伅鐨勮繑鍥?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 闆嗘垚鍜屽吋瀹规€
ф祴璇?(71-80) > 79. 娴嬭瘯AbortSignal鐨勪紶閫?210 |         this.stats.activeCount--;
211 |       }
212 | 
213 |       await this.log.error("LLM璇锋眰澶辫触", {
214 |         agentId: requestInfo.agentId,
215 |         error: error.message,
                     ^
TypeError: null is not an object (evaluating 'error.message')
      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\src\platform\concurrency_con
troller.js:215:16)
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 闆嗘垚鍜屽吋瀹规€ф祴璇?(71-80) > 80. 娴嬭瘯澶氱
閰嶇疆缁勫悎鐨勫吋瀹规€?(pass) LLM Concurrency Control - 100 Comprehensive Tests > 閿欒鎭㈠鍜岀ǔ瀹氭€ф祴璇?(8
1-90) > 81. 娴嬭瘯缃戠粶涓柇鍚庣殑鎭㈠ [3031.00ms]
error: Test "82. 娴嬭瘯閮ㄥ垎璇锋眰澶辫触鐨勭郴缁熺ǔ瀹氭€? timed out after 5016ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 閿欒鎭㈠鍜岀ǔ瀹氭€ф祴璇?(81-90) > 82. 娴嬭
瘯閮ㄥ垎璇锋眰澶辫触鐨勭郴缁熺ǔ瀹氭€?[5016.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 閿欒鎭㈠鍜岀ǔ瀹氭€ф祴璇?(81-90) > 83. 娴嬭
瘯鍐呭瓨娉勬紡闃叉姢 [156.00ms]
2031 |       const results = await Promise.all(promises);
2032 | 
2033 |       const successes = results.filter(r => !r.error);
2034 |       const failures = results.filter(r => r.error);
2035 | 
2036 |       expect(successes.length).toBe(20); // 2/3 should succeed
                                      ^
error: expect(received).toBe(expected)

Expected: 20
Received: 30

      at <anonymous> (C:\Users\ASUS\Desktop\ai-build-ai\agents\test\platform\llm_concurrenc
y_comprehensive.test.js:2036:32)
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 閿欒鎭㈠鍜岀ǔ瀹氭€ф祴璇?(81-90) > 84. 娴嬭
瘯寮傚父鎯呭喌涓嬬殑缁熻淇℃伅涓€鑷存€?[891.00ms]
error: Test "85. 娴嬭瘯绯荤粺杩囪浇鏃剁殑浼橀泤闄嶇骇" timed out after 5000ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 閿欒鎭㈠鍜岀ǔ瀹氭€ф祴璇?(81-90) > 85. 娴嬭
瘯绯荤粺杩囪浇鏃剁殑浼橀泤闄嶇骇 [5000.00ms]
error: Test "86. 娴嬭瘯閰嶇疆鐑洿鏂扮殑绋冲畾鎬? timed out after 5015ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 閿欒鎭㈠鍜岀ǔ瀹氭€ф祴璇?(81-90) > 86. 娴嬭
瘯閰嶇疆鐑洿鏂扮殑绋冲畾鎬?[5015.00ms]
error: Test "87. 娴嬭瘯闀挎椂闂磋繍琛岀殑绋冲畾鎬? timed out after 5000ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 閿欒鎭㈠鍜岀ǔ瀹氭€ф祴璇?(81-90) > 87. 娴嬭
瘯闀挎椂闂磋繍琛岀殑绋冲畾鎬?[5000.00ms]
error: Test "88. 娴嬭瘯寮傛鎿嶄綔鐨勫紓甯稿畨鍏ㄦ€? timed out after 5016ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 閿欒鎭㈠鍜岀ǔ瀹氭€ф祴璇?(81-90) > 88. 娴嬭
瘯寮傛鎿嶄綔鐨勫紓甯稿畨鍏ㄦ€?[5016.00ms]
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 閿欒鎭㈠鍜岀ǔ瀹氭€ф祴璇?(81-90) > 89. 娴嬭
瘯璧勬簮娓呯悊鐨勫畬鏁存€?[3031.00ms]
error: Test "90. 娴嬭瘯骞跺彂鎺у埗鍣ㄧ殑鑷垜淇鑳藉姏" timed out after 5015ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 閿欒鎭㈠鍜岀ǔ瀹氭€ф祴璇?(81-90) > 90. 娴嬭
瘯骞跺彂鎺у埗鍣ㄧ殑鑷垜淇鑳藉姏 [5015.00ms]
[娴嬭瘯91] 寮€濮嬪鏉傚満鏅祴璇?[娴嬭瘯91] 鍙戣捣5涓姹?[娴嬭瘯91] OpenAI API 璋冪敤 #1
[娴嬭瘯91] 鍒涘缓鍙帶鍒禤romise #1
[娴嬭瘯91] OpenAI API 璋冪敤 #2
[娴嬭瘯91] 鍒涘缓鍙帶鍒禤romise #2
[娴嬭瘯91] 绛夊緟鍚庣殑鐘舵€? {
  activeCount: 2,
  queueLength: 3,
  totalRequests: 5,
  completedRequests: 0,
  rejectedRequests: 0,
}
[娴嬭瘯91] 鍙栨秷agent0鐨勮姹?[娴嬭瘯91] 鍙栨秷缁撴灉: true
[娴嬭瘯91] 瀹屾垚绗簩涓姹?[娴嬭瘯91] OpenAI API 璋冪敤 #3
[娴嬭瘯91] 绗笁涓姹傚皢澶辫触
[娴嬭瘯91] agent0 璇锋眰澶辫触: Request cancelled
[娴嬭瘯91] OpenAI API 璋冪敤 #4
[娴嬭瘯91] 璇锋眰 #4 灏嗘垚鍔?[娴嬭瘯91] OpenAI API 璋冪敤 #5
[娴嬭瘯91] 璇锋眰 #5 灏嗘垚鍔?[娴嬭瘯91] 绛夊緟鎵€鏈夎姹傚畬鎴?[娴嬭瘯91] OpenAI API 璋冪敤 #6
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鏈€缁堢患鍚堟祴璇?(91-100) > 91. 娴嬭瘯澶嶆潅鍦
烘櫙锛氭贩鍚堟垚鍔熷け璐ュ彇娑?[1063.00ms]
[娴嬭瘯91] 璇锋眰 #6 灏嗘垚鍔?[娴嬭瘯91] 缁撴灉缁熻: [
  {
    agent: 0,
    success: false,
  }, {
    agent: 1,
    success: true,
  }, {
    agent: 2,
    success: true,
  }, {
    agent: 3,
    success: true,
  }, {
    agent: 4,
    success: true,
  }
]
[娴嬭瘯91] 鏈€缁堢姸鎬? {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 5,
  completedRequests: 4,
  rejectedRequests: 1,
}
[娴嬭瘯92] 寮€濮嬫瀬绔苟鍙戝帇鍔涙祴璇?[娴嬭瘯92] 鍙戣捣1000涓苟鍙戣姹?[娴嬭瘯92] 鍙戣捣璇锋眰 0/1000
[娴嬭瘯92] 鍙戣捣璇锋眰 100/1000
[娴嬭瘯92] 鍙戣捣璇锋眰 200/1000
[娴嬭瘯92] 鍙戣捣璇锋眰 300/1000
[娴嬭瘯92] 鍙戣捣璇锋眰 400/1000
[娴嬭瘯92] 鍙戣捣璇锋眰 500/1000
[娴嬭瘯92] 鍙戣捣璇锋眰 600/1000
[娴嬭瘯92] 鍙戣捣璇锋眰 700/1000
[娴嬭瘯92] 鍙戣捣璇锋眰 800/1000
[娴嬭瘯92] 鍙戣捣璇锋眰 900/1000
[娴嬭瘯92] 1000涓姹傚畬鎴愶紝鑰楁椂: 1563ms
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鏈€缁堢患鍚堟祴璇?(91-100) > 92. 娴嬭瘯鏋佺骞
跺彂鍘嬪姏 [1562.00ms]
[娴嬭瘯92] 鏈€缁堢粺璁? {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 1000,
  completedRequests: 1000,
  rejectedRequests: 0,
}
[娴嬭瘯93] 寮€濮嬮厤缃姩鎬佽皟鏁存祴璇?[娴嬭瘯93] 鍙戣捣10涓姹?[娴嬭瘯93] 鍒涘缓璇锋眰锛屽綋鍓峳esolvers鏁伴噺: 1
[娴嬭瘯93] 鍒濆鐘舵€?- 娲昏穬:1, 闃熷垪:9
[娴嬭瘯93] 灏嗗苟鍙戞暟浠?澧炲姞鍒?
[娴嬭瘯93] 鍒涘缓璇锋眰锛屽綋鍓峳esolvers鏁伴噺: 2
[娴嬭瘯93] 鍒涘缓璇锋眰锛屽綋鍓峳esolvers鏁伴噺: 3
[娴嬭瘯93] 鍒涘缓璇锋眰锛屽綋鍓峳esolvers鏁伴噺: 4
[娴嬭瘯93] 鍒涘缓璇锋眰锛屽綋鍓峳esolvers鏁伴噺: 5
[娴嬭瘯93] 澧炲姞骞跺彂鍚?- 娲昏穬:5, 闃熷垪:5
[娴嬭瘯93] 瀹屾垚鎵€鏈夎姹?[娴嬭瘯93] 瀹屾垚璇锋眰 1/5
[娴嬭瘯93] 瀹屾垚璇锋眰 2/5
[娴嬭瘯93] 瀹屾垚璇锋眰 3/5
[娴嬭瘯93] 瀹屾垚璇锋眰 4/5
[娴嬭瘯93] 瀹屾垚璇锋眰 5/5
[娴嬭瘯93] 鍒涘缓璇锋眰锛屽綋鍓峳esolvers鏁伴噺: 6
[娴嬭瘯93] 鍒涘缓璇锋眰锛屽綋鍓峳esolvers鏁伴噺: 7
[娴嬭瘯93] 鍒涘缓璇锋眰锛屽綋鍓峳esolvers鏁伴噺: 8
[娴嬭瘯93] 鍒涘缓璇锋眰锛屽綋鍓峳esolvers鏁伴噺: 9
[娴嬭瘯93] 鍒涘缓璇锋眰锛屽綋鍓峳esolvers鏁伴噺: 10
error: Test "93. 娴嬭瘯閰嶇疆鍔ㄦ€佽皟鏁寸殑瀹炴椂鏁堟灉" timed out after 5000ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 鏈€缁堢患鍚堟祴璇?(91-100) > 93. 娴嬭瘯閰嶇疆鍔
ㄦ€佽皟鏁寸殑瀹炴椂鏁堟灉 [5000.00ms]
[娴嬭瘯94] 寮€濮嬮敊璇仮澶嶅畬鏁存€ф祴璇?[娴嬭瘯94] 绗竴闃舵锛氬彂璧?涓細澶辫触鐨勮姹?[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 1
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 1
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 1
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 1
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 1
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 1
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 1
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 1
[娴嬭瘯94] failing-agent0 澶辫触: Phase 1 error
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 1
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 1
[娴嬭瘯94] failing-agent1 澶辫触: Phase 1 error
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 1
[娴嬭瘯94] failing-agent2 澶辫触: Phase 1 error
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 1
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 1
error: Test "94. 娴嬭瘯閿欒鎭㈠鐨勫畬鏁存€? timed out after 5016ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 鏈€缁堢患鍚堟祴璇?(91-100) > 94. 娴嬭瘯閿欒鎭
㈠鐨勫畬鏁存€?[5016.00ms]
[娴嬭瘯95] 寮€濮嬪唴瀛樺拰鎬ц兘绋冲畾鎬ф祴璇?[娴嬭瘯95] 绗?/20杞?[娴嬭瘯95] 绗?杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?/20杞?[娴嬭瘯95] 绗?杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?/20杞?[娴嬭瘯95] 绗?杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?/20杞?[娴嬭瘯95] 绗?杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?/20杞?[娴嬭瘯95] 绗?杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?/20杞?[娴嬭瘯95] 绗?杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?/20杞?[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 1
[娴嬭瘯94] failing-agent3 澶辫触: Phase 1 error
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 1
[娴嬭瘯94] failing-agent4 澶辫触: Phase 1 error
[娴嬭瘯94] 绗竴闃舵瀹屾垚锛屽け璐ユ暟閲? 5
[娴嬭瘯94] 绗竴闃舵鍚庣姸鎬? {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 5,
  completedRequests: 0,
  rejectedRequests: 0,
}
[娴嬭瘯94] 鍒囨崲鍒扮浜岄樁娈碉細鎴愬姛妯″紡
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 2
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 2
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 2
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 2
[娴嬭瘯94] API璋冪敤锛屽綋鍓嶉樁娈? 2
[娴嬭瘯94] 绗簩闃舵瀹屾垚锛屾垚鍔熸暟閲? 5
[娴嬭瘯94] 鏈€缁堢姸鎬? {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 10,
  completedRequests: 5,
  rejectedRequests: 0,
}
[娴嬭瘯95] 绗?杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?/20杞?[娴嬭瘯95] 绗?杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?/20杞?[娴嬭瘯95] 绗?杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?0/20杞?[娴嬭瘯95] 绗?0杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?1/20杞?[娴嬭瘯95] 绗?1杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?2/20杞?[娴嬭瘯95] 绗?2杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?3/20杞?[娴嬭瘯95] 绗?3杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?4/20杞?[娴嬭瘯95] 绗?4杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?5/20杞?[娴嬭瘯95] 绗?5杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?6/20杞?[娴嬭瘯95] 绗?6杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?7/20杞?[娴嬭瘯95] 绗?7杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?8/20杞?[娴嬭瘯95] 绗?8杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?9/20杞?[娴嬭瘯95] 绗?9杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 绗?0/20杞?[娴嬭瘯95] 绗?0杞畬鎴愶紝娲昏穬:0, 闃熷垪:0
[娴嬭瘯95] 鏈€缁堢粺璁? {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 1000,
  completedRequests: 1000,
  rejectedRequests: 0,
}
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鏈€缁堢患鍚堟祴璇?(91-100) > 95. 娴嬭瘯鍐呭瓨鍜
屾€ц兘绋冲畾鎬?[3141.00ms]
[娴嬭瘯96] 寮€濮嬪紓甯歌竟鐣屾潯浠剁粍鍚堟祴璇?[娴嬭瘯96] 娴嬭瘯鍦烘櫙: 绌篴gentId
[娴嬭瘯96] 绌篴gentId - 鎸夐鏈熷け璐?[娴嬭瘯96] 娴嬭瘯鍦烘櫙: null agentId锛堝悜鍚庡吋瀹癸級
[娴嬭瘯96] null agentId锛堝悜鍚庡吋瀹癸級 - 鍚戝悗鍏煎妯″紡鎴愬姛
[娴嬭瘯96] 娴嬭瘯鍦烘櫙: 姝ｅ父agentId
[娴嬭瘯96] 姝ｅ父agentId - 姝ｅ父妯″紡鎴愬姛
[娴嬭瘯96] 娴嬭瘯鍦烘櫙: 瓒呴暱agentId
[娴嬭瘯96] 瓒呴暱agentId - 姝ｅ父妯″紡鎴愬姛
[娴嬭瘯96] 娴嬭瘯鍦烘櫙: emoji agentId
[娴嬭瘯96] emoji agentId - 姝ｅ父妯″紡鎴愬姛
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鏈€缁堢患鍚堟祴璇?(91-100) > 96. 娴嬭瘯寮傚父杈
圭晫鏉′欢缁勫悎 [3015.00ms]
[娴嬭瘯97] 寮€濮嬪苟鍙戞帶鍒剁簿纭€ф祴璇?[娴嬭瘯97] 鍙戣捣20涓姹傦紝鏈€澶у苟鍙戝簲涓?
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 1, 鍘嗗彶鏈€澶? 1
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 2, 鍘嗗彶鏈€澶? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瑙傚療鍒扮殑鏈€澶у苟鍙戞暟: 3
[娴嬭瘯97] 寮€濮嬮€愪釜瀹屾垚璇锋眰
[娴嬭瘯97] 瀹屾垚璇锋眰 1/3
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 2/4
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 3/5
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 4/6
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 5/7
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 6/8
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 7/9
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 8/10
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 9/11
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 10/12
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 11/13
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 12/14
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 13/15
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 14/16
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 15/17
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 16/18
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 17/19
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 鏂扮殑API璋冪敤寮€濮嬶紝褰撳墠娲昏穬: 3, 鍘嗗彶鏈€澶? 3
[娴嬭瘯97] 瀹屾垚璇锋眰 18/20
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 2
[娴嬭瘯97] 瀹屾垚璇锋眰 19/20
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 1
[娴嬭瘯97] 瀹屾垚璇锋眰 20/20
[娴嬭瘯97] API璋冪敤瀹屾垚锛屽綋鍓嶆椿璺? 0
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鏈€缁堢患鍚堟祴璇?(91-100) > 97. 娴嬭瘯骞跺彂鎺
у埗鐨勭簿纭€?[438.00ms]
[娴嬭瘯97] 鎵€鏈夎姹傚畬鎴愶紝鏈€缁堟椿璺冭皟鐢ㄦ暟: 0
[娴嬭瘯98] 寮€濮嬬粺璁′俊鎭疄鏃跺噯纭€ф祴璇?[娴嬭瘯98] 闃舵1锛氬彂璧?涓姹?[娴嬭瘯98] 闃舵1缁熻: {
  activeCount: 2,
  queueLength: 3,
  totalRequests: 5,
  completedRequests: 0,
  rejectedRequests: 0,
}
[娴嬭瘯98] 闃舵2锛氬畬鎴愬墠2涓姹?[娴嬭瘯98] 闃舵2缁熻: {
  activeCount: 2,
  queueLength: 1,
  totalRequests: 5,
  completedRequests: 2,
  rejectedRequests: 0,
}
error: Test "98. 娴嬭瘯缁熻淇℃伅鐨勫疄鏃跺噯纭€? timed out after 5000ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 鏈€缁堢患鍚堟祴璇?(91-100) > 98. 娴嬭瘯缁熻淇
℃伅鐨勫疄鏃跺噯纭€?[5015.00ms]
[娴嬭瘯98] 闃舵3锛氬畬鎴愭墍鏈夊墿浣欒姹?[娴嬭瘯99] 寮€濮嬫瀬闄愭潯浠剁ǔ瀹氭€ф祴璇?[娴嬭瘯99] 鍙戣捣100涓姹傦紝鏈熸湜閮ㄥ垎鎴愬姛閮ㄥ垎澶辫触
[娴嬭瘯99] 澶勭悊璇锋眰 #1
[娴嬭瘯99] 璇锋眰 #1 寤惰繜 97.0ms
[娴嬭瘯99] 璇锋眰 #1 鎴愬姛
[娴嬭瘯99] 澶勭悊璇锋眰 #2
[娴嬭瘯99] 璇锋眰 #2 寤惰繜 13.1ms
[娴嬭瘯99] 璇锋眰 #2 鎴愬姛
[娴嬭瘯99] 澶勭悊璇锋眰 #3
[娴嬭瘯99] 璇锋眰 #3 寤惰繜 76.6ms
[娴嬭瘯99] 璇锋眰 #3 鎴愬姛
[娴嬭瘯99] 澶勭悊璇锋眰 #4
[娴嬭瘯99] 璇锋眰 #4 鎴愬姛
[娴嬭瘯99] 澶勭悊璇锋眰 #5
[娴嬭瘯99] 璇锋眰 #5 鎴愬姛
[娴嬭瘯99] 澶勭悊璇锋眰 #6
[娴嬭瘯99] 璇锋眰 #6 鎴愬姛
[娴嬭瘯99] 澶勭悊璇锋眰 #7
[娴嬭瘯99] 璇锋眰 #7 灏嗗け璐?[娴嬭瘯99] 澶勭悊璇锋眰 #8
[娴嬭瘯99] 璇锋眰 #8 寤惰繜 65.4ms
[娴嬭瘯99] 璇锋眰 #8 鎴愬姛
[娴嬭瘯99] 澶勭悊璇锋眰 #9
[娴嬭瘯99] 璇锋眰 #9 寤惰繜 87.5ms
[娴嬭瘯99] 璇锋眰 #9 鎴愬姛
[娴嬭瘯99] 澶勭悊璇锋眰 #10
[娴嬭瘯99] 璇锋眰 #10 灏嗗け璐?[娴嬭瘯99] 澶勭悊璇锋眰 #11
[娴嬭瘯99] 璇锋眰 #11 鎴愬姛
[娴嬭瘯99] 澶勭悊璇锋眰 #12
[娴嬭瘯99] 璇锋眰 #12 灏嗗け璐?[娴嬭瘯99] 澶勭悊璇锋眰 #13
[娴嬭瘯99] 璇锋眰 #13 鎴愬姛
[娴嬭瘯99] 澶勭悊璇锋眰 #14
[娴嬭瘯99] 璇锋眰 #14 鎴愬姛
[娴嬭瘯99] 澶勭悊璇锋眰 #15
[娴嬭瘯99] 璇锋眰 #15 灏嗗け璐?[娴嬭瘯99] 澶勭悊璇锋眰 #16
[娴嬭瘯99] 璇锋眰 #16 寤惰繜 63.0ms
[娴嬭瘯99] 璇锋眰 #16 鎴愬姛
[娴嬭瘯99] 澶勭悊璇锋眰 #17
[娴嬭瘯99] 璇锋眰 #17 寤惰繜 84.0ms
[娴嬭瘯99] 璇锋眰 #17 鎴愬姛
[娴嬭瘯99] 澶勭悊璇锋眰 #18
error: Test "99. 娴嬭瘯绯荤粺鍦ㄦ瀬闄愭潯浠朵笅鐨勭ǔ瀹氭€? timed out after 5000ms
(fail) LLM Concurrency Control - 100 Comprehensive Tests > 鏈€缁堢患鍚堟祴璇?(91-100) > 99. 娴嬭瘯绯荤粺鍦
ㄦ瀬闄愭潯浠朵笅鐨勭ǔ瀹氭€?[5000.00ms]
[娴嬭瘯99] 璇锋眰 #18 灏嗗け璐?[娴嬭瘯100] 寮€濮嬬患鍚堥泦鎴愭祴璇?[娴嬭瘯100] 鍙戣捣5涓笉鍚岀被鍨嬬殑璇锋眰
[娴嬭瘯100] 鍙戣捣璇锋眰 1: user-agent
[娴嬭瘯100] 鍙戣捣璇锋眰 2: assistant-agent
[娴嬭瘯100] 鍙戣捣璇锋眰 3: system-agent
[娴嬭瘯100] 鍙戣捣璇锋眰 4: tool-agent
[娴嬭瘯100] 鍙戣捣璇锋眰 5: temp-agent
[娴嬭瘯100] API璋冪敤 #1锛屾ā鍨? test-model, 娓╁害: 0.2
[娴嬭瘯100] API璋冪敤 #2锛屾ā鍨? test-model, 娓╁害: 0.2
[娴嬭瘯100] API璋冪敤 #3锛屾ā鍨? test-model, 娓╁害: 0.2
[娴嬭瘯100] 璋冪敤 #3 鎴愬姛
[娴嬭瘯100] API璋冪敤 #4锛屾ā鍨? test-model, 娓╁害: 0.2
[娴嬭瘯100] 璋冪敤 #4 鎴愬姛
[娴嬭瘯100] API璋冪敤 #5锛屾ā鍨? test-model, 娓╁害: 0.9
[娴嬭瘯100] 璋冪敤 #5 鎴愬姛
[娴嬭瘯100] 璋冪敤 #5 鍖呭惈宸ュ叿璋冪敤
[娴嬭瘯100] 璋冪敤 #5 鎴愬姛
[娴嬭瘯100] 璋冪敤 #5 鎴愬姛
[娴嬭瘯100] 鎵€鏈夎姹傚畬鎴?[娴嬭瘯100] 缁撴灉 1 (user-agent): Response to call 3
(pass) LLM Concurrency Control - 100 Comprehensive Tests > 鏈€缁堢患鍚堟祴璇?(91-100) > 100. 缁煎悎闆嗘垚
娴嬭瘯锛氱湡瀹炲満鏅ā鎷?[94.00ms]
[娴嬭瘯100] 缁撴灉 2 (assistant-agent): Response to call 5
[娴嬭瘯100] 缁撴灉 3 (system-agent): Response to call 4
[娴嬭瘯100] 缁撴灉 4 (tool-agent): Response to call 5
[娴嬭瘯100] tool-agent 宸ュ叿璋冪敤楠岃瘉閫氳繃
[娴嬭瘯100] 缁撴灉 5 (temp-agent): Response to call 5
[娴嬭瘯100] 鏈€缁堢粺璁? {
  activeCount: 0,
  queueLength: 0,
  totalRequests: 5,
  completedRequests: 5,
  rejectedRequests: 0,
}
[娴嬭瘯100] 缁煎悎闆嗘垚娴嬭瘯瀹屾垚 - 鎵€鏈夊姛鑳芥甯稿伐浣?
