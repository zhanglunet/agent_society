# 开发路线图 (Roadmap)

## 1. 规划原则
- **设计自核心向外**: 优先确立设计令牌（Design Tokens）、全局样式（PT）和核心状态（Store）的底层逻辑。
- **实施自用户向内**: 实际编码从用户最先感知的 UI 骨架开始，确保每一步都有可见、可操作的产出。
- **小步快跑**: 将复杂功能拆解为 1-2 小时内可交付的小任务，保持开发节奏和反馈闭环。

---

## 2. 阶段性交付路径

### 阶段一：基础骨架与视觉触感 (交付物：可切换主题的空壳布局)
1.  **[1.1] 项目环境初始化**: Bun + Vite + PrimeVue 4 搭建，确认页面能跑起来。
2.  **[1.2] 设计令牌落地**: 实现 `tokens.ts` 和 `Preset`，添加一个“主题切换”按钮。
    - **用户可见**: 页面背景颜色随点击在清新明亮和深邃暗黑间平滑切换。
3.  **[1.3] 核心框架布局**: 实现 `GlobalSidebar` (左) 和 `WorkspaceTabs` (右) 的基础结构。
    - **用户可见**: 看到左侧包含工具栏和组织列表的窄边栏，以及右侧占据大部面积的标签页容器。

### 阶段二：导航与内部工作区 (交付物：可交互的内部布局)
1.  **[2.1] 标签页与内部 Splitter**: 实现胶囊风格 Tab，并在 Tab 内容区内嵌入 `Splitter`。
    - **用户可见**: 顶部标签可切换，下方区域被分割为左右两块，且可拖拽调整。
2.  **[2.2] 智能体列表渲染 (AgentSidebar)**: 在 Splitter 左侧渲染模拟的智能体项。
    - **用户可见**: 看到整齐的智能体列表，hover 有高亮反馈。
3.  **[2.3] 全局侧栏收缩**: 实现左侧功能图标及边栏收缩动画。
    - **用户可见**: 点击按钮，侧栏平滑收缩，标签页区域自动拉伸。

### 阶段三：核心对话体验 (交付物：完整的基础聊天功能)
1.  **[3.1] 消息气泡渲染 (MessageBubble)**: 实现用户和智能体两种风格的气泡。
    - **用户可见**: 页面右侧展现出一段预设的对话内容。
2.  **[3.2] 输入框与本地发送**: 实现底部输入区，点击发送将消息追加到本地列表。
    - **用户可见**: 像微信一样，打字发送后，气泡立即飞入聊天区。
3.  **[3.3] 思考过程卡片 (ToolCard)**: 实现可折叠的“思考中...”组件。
    - **用户可见**: 看到智能体模拟思考的过程，点击可展开/折叠。

### 阶段四：数据驱动与实时通信 (交付物：对接后端 API)
1.  **[4.1] Pinia Store 接入**: 将模拟数据替换为 Store 管理的数据。
2.  **[4.2] API 联调**: 对接现有的智能体获取、消息发送接口。
3.  **[4.3] 异步轮询**: 开启消息轮询，实现消息自动到达。
    - **用户可见**: 真实的智能体列表加载，发送的消息能得到后端智能体的回复。

### 阶段五：扩展功能窗口 (交付物：窗口管理系统)
1.  **[5.1] 通用窗口框架 (WindowFrame)**: 基于 `DynamicDialog` 实现。
2.  **[5.2] 工件管理器**: 实现双栏布局的工件展示。
    - **用户可见**: 点击侧栏“工件”按钮，弹出一个美观的窗口查看生成的代码。
3.  **[5.3] 插件与设置**: 实现其余管理弹窗。

---

## 3. 验收节点
- **里程碑 1**: 用户可以流畅切换主题并调整界面布局。
- **里程碑 2**: 用户可以点击切换不同组织的智能体。
- **里程碑 3**: 用户可以完成一次完整的提问-思考-回答闭环。
- **里程碑 4**: 所有弹窗管理组件功能统一。
